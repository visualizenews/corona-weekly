var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function i(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function o(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function u(t){return document.createElement(t)}function l(t){return document.createTextNode(t)}function h(){return l(" ")}function d(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}let f;function p(t){f=t}function y(t){(function(){if(!f)throw new Error("Function called outside component initialization");return f})().$$.on_mount.push(t)}const g=[],m=[],b=[],v=[],_=Promise.resolve();let x=!1;function N(t){b.push(t)}let k=!1;const w=new Set;function A(){if(!k){k=!0;do{for(let t=0;t<g.length;t+=1){const e=g[t];p(e),M(e.$$)}for(p(null),g.length=0;m.length;)m.pop()();for(let t=0;t<b.length;t+=1){const e=b[t];w.has(e)||(w.add(e),e())}b.length=0}while(g.length);for(;v.length;)v.pop()();x=!1,k=!1,w.clear()}}function M(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(N)}}const j=new Set;let O;function E(){O={r:0,c:[],p:O}}function S(){O.r||r(O.c),O=O.p}function L(t,e){t&&t.i&&(j.delete(t),t.i(e))}function F(t,e,n,r){if(t&&t.o){if(j.has(t))return;j.add(t),O.c.push((()=>{j.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function C(t,n,a,o){const{fragment:s,on_mount:c,on_destroy:u,after_update:l}=t.$$;s&&s.m(n,a),o||N((()=>{const n=c.map(e).filter(i);u?u.push(...n):r(n),t.$$.on_mount=[]})),l.forEach(N)}function D(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function T(t,e){-1===t.$$.dirty[0]&&(g.push(t),x||(x=!0,_.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function I(e,i,a,o,s,u,l=[-1]){const h=f;p(e);const d=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:i.context||[]),callbacks:n(),dirty:l,skip_bound:!1};let y=!1;if(d.ctx=a?a(e,i.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return d.ctx&&s(d.ctx[t],d.ctx[t]=i)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](i),y&&T(e,t)),n})):[],d.update(),y=!0,r(d.before_update),d.fragment=!!o&&o(d.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);d.fragment&&d.fragment.l(t),t.forEach(c)}else d.fragment&&d.fragment.c();i.intro&&L(e.$$.fragment),C(e,i.target,i.anchor,i.customElement),A()}p(h)}class ${$destroy(){D(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var P=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}},W=Object.prototype.toString;function q(t){return"[object Array]"===W.call(t)}function R(t){return void 0===t}function U(t){return null!==t&&"object"==typeof t}function B(t){if("[object Object]"!==W.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function z(t){return"[object Function]"===W.call(t)}function H(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),q(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}var G={isArray:q,isArrayBuffer:function(t){return"[object ArrayBuffer]"===W.call(t)},isBuffer:function(t){return null!==t&&!R(t)&&null!==t.constructor&&!R(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:U,isPlainObject:B,isUndefined:R,isDate:function(t){return"[object Date]"===W.call(t)},isFile:function(t){return"[object File]"===W.call(t)},isBlob:function(t){return"[object Blob]"===W.call(t)},isFunction:z,isStream:function(t){return U(t)&&z(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:H,merge:function t(){var e={};function n(n,r){B(e[r])&&B(n)?e[r]=t(e[r],n):B(n)?e[r]=t({},n):q(n)?e[r]=n.slice():e[r]=n}for(var r=0,i=arguments.length;r<i;r++)H(arguments[r],n);return e},extend:function(t,e,n){return H(e,(function(e,r){t[r]=n&&"function"==typeof e?P(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}};function Z(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var J=function(t,e,n){if(!e)return t;var r;if(n)r=n(e);else if(G.isURLSearchParams(e))r=e.toString();else{var i=[];G.forEach(e,(function(t,e){null!=t&&(G.isArray(t)?e+="[]":t=[t],G.forEach(t,(function(t){G.isDate(t)?t=t.toISOString():G.isObject(t)&&(t=JSON.stringify(t)),i.push(Z(e)+"="+Z(t))})))})),r=i.join("&")}if(r){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+r}return t};function X(){this.handlers=[]}X.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},X.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},X.prototype.forEach=function(t){G.forEach(this.handlers,(function(e){null!==e&&t(e)}))};var Y=X,V=function(t,e,n){return G.forEach(n,(function(n){t=n(t,e)})),t},K=function(t){return!(!t||!t.__CANCEL__)},Q=function(t,e){G.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))},tt=function(t,e,n,r,i){return function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}(new Error(t),e,n,r,i)},et=G.isStandardBrowserEnv()?{write:function(t,e,n,r,i,a){var o=[];o.push(t+"="+encodeURIComponent(e)),G.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),G.isString(r)&&o.push("path="+r),G.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},nt=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],rt=G.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=G.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0},it=function(t){return new Promise((function(e,n){var r=t.data,i=t.headers;G.isFormData(r)&&delete i["Content-Type"];var a=new XMLHttpRequest;if(t.auth){var o=t.auth.username||"",s=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.Authorization="Basic "+btoa(o+":"+s)}var c,u,l=(c=t.baseURL,u=t.url,c&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(u)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(c,u):u);if(a.open(t.method.toUpperCase(),J(l,t.params,t.paramsSerializer),!0),a.timeout=t.timeout,a.onreadystatechange=function(){if(a&&4===a.readyState&&(0!==a.status||a.responseURL&&0===a.responseURL.indexOf("file:"))){var r,i,o,s,c,u="getAllResponseHeaders"in a?(r=a.getAllResponseHeaders(),c={},r?(G.forEach(r.split("\n"),(function(t){if(s=t.indexOf(":"),i=G.trim(t.substr(0,s)).toLowerCase(),o=G.trim(t.substr(s+1)),i){if(c[i]&&nt.indexOf(i)>=0)return;c[i]="set-cookie"===i?(c[i]?c[i]:[]).concat([o]):c[i]?c[i]+", "+o:o}})),c):c):null,l={data:t.responseType&&"text"!==t.responseType?a.response:a.responseText,status:a.status,statusText:a.statusText,headers:u,config:t,request:a};!function(t,e,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(tt("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}(e,n,l),a=null}},a.onabort=function(){a&&(n(tt("Request aborted",t,"ECONNABORTED",a)),a=null)},a.onerror=function(){n(tt("Network Error",t,null,a)),a=null},a.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(tt(e,t,"ECONNABORTED",a)),a=null},G.isStandardBrowserEnv()){var h=(t.withCredentials||rt(l))&&t.xsrfCookieName?et.read(t.xsrfCookieName):void 0;h&&(i[t.xsrfHeaderName]=h)}if("setRequestHeader"in a&&G.forEach(i,(function(t,e){void 0===r&&"content-type"===e.toLowerCase()?delete i[e]:a.setRequestHeader(e,t)})),G.isUndefined(t.withCredentials)||(a.withCredentials=!!t.withCredentials),t.responseType)try{a.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&a.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&a.upload&&a.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){a&&(a.abort(),n(t),a=null)})),r||(r=null),a.send(r)}))},at={"Content-Type":"application/x-www-form-urlencoded"};function ot(t,e){!G.isUndefined(t)&&G.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var st,ct={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(st=it),st),transformRequest:[function(t,e){return Q(e,"Accept"),Q(e,"Content-Type"),G.isFormData(t)||G.isArrayBuffer(t)||G.isBuffer(t)||G.isStream(t)||G.isFile(t)||G.isBlob(t)?t:G.isArrayBufferView(t)?t.buffer:G.isURLSearchParams(t)?(ot(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):G.isObject(t)?(ot(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};ct.headers={common:{Accept:"application/json, text/plain, */*"}},G.forEach(["delete","get","head"],(function(t){ct.headers[t]={}})),G.forEach(["post","put","patch"],(function(t){ct.headers[t]=G.merge(at)}));var ut=ct;function lt(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var ht=function(t){return lt(t),t.headers=t.headers||{},t.data=V(t.data,t.headers,t.transformRequest),t.headers=G.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),G.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||ut.adapter)(t).then((function(e){return lt(t),e.data=V(e.data,e.headers,t.transformResponse),e}),(function(e){return K(e)||(lt(t),e&&e.response&&(e.response.data=V(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))},dt=function(t,e){e=e||{};var n={},r=["url","method","data"],i=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],o=["validateStatus"];function s(t,e){return G.isPlainObject(t)&&G.isPlainObject(e)?G.merge(t,e):G.isPlainObject(e)?G.merge({},e):G.isArray(e)?e.slice():e}function c(r){G.isUndefined(e[r])?G.isUndefined(t[r])||(n[r]=s(void 0,t[r])):n[r]=s(t[r],e[r])}G.forEach(r,(function(t){G.isUndefined(e[t])||(n[t]=s(void 0,e[t]))})),G.forEach(i,c),G.forEach(a,(function(r){G.isUndefined(e[r])?G.isUndefined(t[r])||(n[r]=s(void 0,t[r])):n[r]=s(void 0,e[r])})),G.forEach(o,(function(r){r in e?n[r]=s(t[r],e[r]):r in t&&(n[r]=s(void 0,t[r]))}));var u=r.concat(i).concat(a).concat(o),l=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===u.indexOf(t)}));return G.forEach(l,c),n};function ft(t){this.defaults=t,this.interceptors={request:new Y,response:new Y}}ft.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=dt(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[ht,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},ft.prototype.getUri=function(t){return t=dt(this.defaults,t),J(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},G.forEach(["delete","get","head","options"],(function(t){ft.prototype[t]=function(e,n){return this.request(dt(n||{},{method:t,url:e,data:(n||{}).data}))}})),G.forEach(["post","put","patch"],(function(t){ft.prototype[t]=function(e,n,r){return this.request(dt(r||{},{method:t,url:e,data:n}))}}));var pt=ft;function yt(t){this.message=t}yt.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},yt.prototype.__CANCEL__=!0;var gt=yt;function mt(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new gt(t),e(n.reason))}))}mt.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},mt.source=function(){var t;return{token:new mt((function(e){t=e})),cancel:t}};var bt=mt;function vt(t){var e=new pt(t),n=P(pt.prototype.request,e);return G.extend(n,pt.prototype,e),G.extend(n,e),n}var _t=vt(ut);_t.Axios=pt,_t.create=function(t){return vt(dt(_t.defaults,t))},_t.Cancel=gt,_t.CancelToken=bt,_t.isCancel=K,_t.all=function(t){return Promise.all(t)},_t.spread=function(t){return function(e){return t.apply(null,e)}},_t.isAxiosError=function(t){return"object"==typeof t&&!0===t.isAxiosError};var xt=_t,Nt=_t;xt.default=Nt;var kt=xt;function wt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return t===Math.E?Math.log:10===t&&Mt||2===t&&jt||function(e){return At(t,e)}}function At(t,e){return Math.log(e)/Math.log(t)}var Mt=Math.log10=Math.log10||function(t){return Math.log(t)*Math.LOG10E},jt=Math.log2||function(t){return Math.log(t)*Math.LOG2E},Ot=function(t){return isFinite(t)?+("1e"+t):t<0?0:t},Et=function(t){return 10===t?Ot:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}},St=600,Lt=10,Ft=["chrt","series"];function Ct(t){return null===t||null==t||void 0===t}function Dt(t){return Array.isArray(t)||(t=[t]),t.some((function(t){return Ct(t)}))}function Tt(t){return Array.isArray(t)||(t=[t]),t.some((function(t){return isNaN(t)}))}function It(){return"c"+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function $t(t){return!Ct(t.type)&&Ft.indexOf(t.type)>-1}function Pt(t,e){return Array.isArray(t)&&Array.isArray(e)?0===t.length&&0===e.length||t.length==e.length&&t.every((function(t,n){return t===e[n]})):(console.warn("arraysEqual(array1, array2)","Both parameters should be arrays"),!1)}function Wt(t,e){if(!t)return $t(this)?this._data||[]:this;if(!$t(this))return this;if("function"==typeof arguments[0])return this._accessor=arguments[0],this;this._orginalData=t;var n=e||this._accessor;return this._accessor=n,this._data=n?t.map((function(t,e,r){return t instanceof Object?Object.assign({},t,n(t,e,r)):n(t,e,r)})):t,this}function qt(t){return t?(this.root=t,this.currentNode=this.root,this):this.g||this.root}function Rt(t){var e={};return function(){var n=Array.prototype.slice.call(arguments),r=JSON.stringify({func:t.name,args:n});if(e[r])return e[r];var i=t.apply(null,arguments);return e[r]=i,i}}function Ut(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!e.length)return{width:this.width,height:this.height};var r=e[0],i=e[1],a=this.width,o=this.height;this.width=r||a||St,this.height=i||o||300;var s=this.root.querySelector("svg");return s||this.svg(!1),(s=this.root.querySelector("svg")).setAttribute("viewBox","0 0 ".concat(this.width," ").concat(this.height)),s.parentNode.style.width="".concat(this.width,"px"),s.parentNode.style.height="".concat(this.height,"px"),this.update()}function Bt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(t,e)||Ht(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zt(t){return function(t){if(Array.isArray(t))return Gt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Ht(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ht(t,e){if(t){if("string"==typeof t)return Gt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gt(t,e):void 0}}function Gt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zt(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Ht(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Jt(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Xt(t){var e=this,n=Bt(t,2),r=n[0],i=n[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lt,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,5,2,2.5,4,3],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[.25,.2,.5,.05],u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=100*Number.EPSILON;if(this._ticks=[],r>i){var h=r;r=i,i=h}var d={score:-2};return this.ticks=function(t){if(i-r<l)return ee(r,i,(i-r)/t);d={score:-2};for(var n=1;n<1/0;){var a,h=Zt(o);try{for(h.s();!(a=h.n()).done;){var f=a.value,p=Yt.max(f,o,n);if(c[0]*p+c[1]+c[2]+c[3]<d.score){n=1/0;break}for(var y=2;y<1/0;){var g=Kt.max(y,t);if(c[0]*p+c[1]+c[2]*g+c[3]<d.score)break;for(var m=(i-r)/(y+1)/n/f,b=Math.ceil(Math.log10(m));b<1/0;){var v=n*f*Math.pow(10,b),_=Vt.max(r,i,v*(y-1));if(c[0]*p+c[1]*_+c[2]*g+c[3]<d.score)break;var x=Math.floor(i/v)*n-(y-1)*n,N=Math.ceil(r/v)*n;if(x>N)b+=1;else{for(var k=x;k<=N;k++){var w=k*(v/n),A=w+v*(y-1),M=v,j=Yt(f,o,n,w,A,M),O=Vt(r,i,w,A),E=Kt(y,t,r,i,w,A),S=Qt(w,A,M),L=c[0]*j+c[1]*O+c[2]*E+c[3]*S;L>d.score&&(!s||w<=r&&A>=i)&&(d.lmin=w,d.lmax=A,u&&(d.lmin=w<A?Math.floor(r/M)*M:Math.ceil(r/M)*M,d.lmax=A>w?Math.ceil(i/M)*M:Math.floor(i/M)*M),d.lstep=M,d.score=L)}b+=1}}y+=1}}}catch(t){h.e(t)}finally{h.f()}n+=1}return e._ticks=ee(d.lmin,d.lmax+d.lstep,d.lstep),e._ticks},this.ticks(a),this.getMin=function(){return d.lmin},this.getMax=function(){return d.lmax},this.getStep=function(){return d.lstep},this}function Yt(t,e,n,r,i,a){var o=100*Number.EPSILON,s=e.length;return 1-(te(t,e)[0]-1)/(s-1)-n+((r%a<o||a-r%a<o)&&r<=0&&r>=0?1:0)}function Vt(t,e,n,r){var i=e-t;return 1-.5*(Math.pow(e-r,2)+Math.pow(t-n,2))/Math.pow(.1*i,2)}function Kt(t,e,n,r,i,a){var o=(t-1)/(a-i),s=(e-1)/(Math.max(a,r)-Math.min(n,i));return 2-Math.max(o/s,s/o)}Yt.max=function(t,e,n){var r=e.length;return 1-(te(t,e)[0]-1)/(r-1)-n+1},Vt.max=function(t,e,n){var r=e-t;if(n>r){var i=(n-r)/2;return 1-.5*(Math.pow(i,2)+Math.pow(i,2))/Math.pow(.1*r,2)}return 1},Kt.max=function(t,e){return t>=e?2-(t-1)/(e-1):1};var Qt=function(){return 1};function te(t,e){if(Array.isArray(t))return t.map((function(t){return e.indexOf(t)})).map((function(t){return t>-1?t:null}));var n=e.indexOf(t);return n>-1?[n+1]:[null]}function ee(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=[],i=t;i<e;i+=n)r.push(i);return r}function ne(t,e,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[0,St],a=arguments.length>4?arguments[4]:void 0,o=this.scales[e][t],s=n||(o?o.fixedDomain:null),c=Ct(s)?null:zt(s),u=[];i[0]+="x"===e?this._padding.left:-this._padding.bottom,i[1]-="x"===e?this._padding.right:-this._padding.top;var l=o&&!o.isLog()?o.domain:[],h=c||n||l;if(1===arguments.length)return this.scales.x[arguments[0]]||this.scales.y[arguments[0]];(Ct(s)||Dt(s)||Tt(l)||!h||!h.length||h[0]!==l[0]||h[1]!==l[1])&&(this._data.forEach((function(e){h[0]=Ct(h[0])?e[a||t]:Math.min.apply(Math,zt([e[a||t],h[0],e["stacked_".concat(a||t)]].filter((function(t){return!Ct(t)})))),h[1]=Ct(h[1])?e[a||t]:Math.max.apply(Math,zt([e[a||t],h[1],e["stacked_".concat(a||t)]].filter((function(t){return!Ct(t)}))))})),this.objects.forEach((function(e){var n=!Ct(e._data)&&e._data.length?e._data:r._data;n&&n.forEach((function(n){h[0]=Ct(h[0])?n[a||e.fields[t]]:Math.min.apply(Math,zt([n[a||e.fields[t]],h[0],n["stacked_".concat(a||e.fields[t])]].filter((function(t){return!Ct(t)&&!Tt(t)})))),h[1]=Ct(h[1])?n[a||e.fields[t]]:Math.max.apply(Math,zt([n[a||e.fields[t]],h[1],n["stacked_".concat(a||e.fields[t])]].filter((function(t){return!Ct(t)&&!Tt(t)}))))}))})));var d=new Xt(h);Ct(s)&&(h[0]=Ct(l[0])?d.getMin():Math.min(l[0],d.getMin()),h[1]=Ct(l[1])?d.getMax():Math.max(l[1],d.getMax()));var f=h[1]-h[0],p=i[1]>=i[0]?1:-1,y=i[1]-i[0]-("x"===e?this._margins.left+this._margins.right:this._margins.top+this._margins.bottom)*p,g=i[0]+("x"===e?this._margins.left:this._margins.bottom)*p,m=function(t){var e=(t-h[0])/f;return g+y*e},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt;if(Ct(t)&&u.length>0)return u;var e=Array.isArray(t)&&t.length;return(u=e?t:d.ticks(t)).map((function(t,n){return{index:n,value:t,x:m(t),isMinor:e?0:n%2,isZero:0===t}}))};return m.getName=function(){return t},m.getType=function(){return e},m.transformation="linear",m.getField=function(){return a},m.isLog=function(){return!1},m.fixedDomain=s,m.domain=h,m.field=a,m.range=i,m.step=d.getStep(),m.barwidth=m(h[0]+m.step)-m(h[0]),m.ticks=Rt(b),this.scales[e][t]=m,this}function re(t,e){var n=this,r=Bt(t,2),i=r[0],a=r[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;this.ticksNumber=e||Lt,this._ticks=[];var s=wt(o),c=Et(o);return this.improveRange=function(t){var e=t[0],n=t[1];return e===n&&(e<=0?(e=1,n=10):(e=c(Math.floor(s(e))-1),n=c(Math.floor(s(n))+1))),e<=0&&(e=c(Math.floor(s(n))-1)),n<=0&&(n=c(Math.floor(s(e))+1)),[e,n]},this.ticks=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.ticksNumber;n.ticksNumber=t,n._ticks=[],n.range=n.improveRange([i,a]),n.lmin=Math.floor(s(i))!==s(i)?c(Math.floor(s(i))-1):i,n.lmax=Math.floor(s(a))!==s(a)?c(Math.floor(s(a))+1):a;var e=[s(n.lmin),s(n.lmax)];if(e[0]>0)for(var r=e[0];r<=e[1];++r)for(var u=1;u<o;++u){var l=c(r)*u;l>=n.lmin&&n._ticks.push(l)}else for(var h=e[0];h<=e[1];++h)for(var d=o-1;d>=1;--d){var f=c(h)*d;f>=n.lmin&&n._ticks.push(f)}return n._ticks},this.ticks(this.ticksNumber),this.getMin=function(){return n.lmin},this.getMax=function(){return n.lmax},this}function ie(t,e,n,r,i){var a=this,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"log10",s=this.scales[e][t],c=wt(),u=n||(s?s.fixedDomain:null),l=Ct(u)?null:zt(u),h=[];r[0]+="x"===e?this._padding.left:-this._padding.bottom,r[1]-="x"===e?this._padding.right:-this._padding.top;var d=s&&s.isLog()?s.domain:[],f=l||n||d;if(1===arguments.length)return this.scales.x[arguments[0]]||this.scales.y[arguments[0]];!Ct(u)&&!Tt(d)&&f&&f.length&&f[0]===d[0]&&f[1]===d[1]||(this._data.filter((function(t){return t[i]>0})).forEach((function(e){f[0]=Ct(f[0])?e[i||t]:Math.min.apply(Math,zt([e[i||t],f[0],e["stacked_".concat(i||t)]].filter((function(t){return!Ct(t)})))),f[1]=Ct(f[1])?e[i||t]:Math.max.apply(Math,zt([e[i||t],f[1],e["stacked_".concat(i||t)]].filter((function(t){return!Ct(t)}))))})),this.objects.forEach((function(e){var n=!Ct(e._data)&&e._data.length?e._data:a._data;n&&n.forEach((function(n){f[0]=Ct(f[0])?n[e.fields[i||t]]:Math.min.apply(Math,zt([n[i||e.fields[t]],f[0],n["stacked_".concat(i||e.fields[t])]].filter((function(t){return!Ct(t)&&!Tt(t)})))),f[1]=Ct(f[1])?n[e.fields[i||t]]:Math.max.apply(Math,zt([n[i||e.fields[t]],f[1],n["stacked_".concat(i||e.fields[t])]].filter((function(t){return!Ct(t)&&!Tt(t)}))))}))})));var p=new re(f);Ct(u)&&(f[0]=Ct(d[0])?p.getMin():Math.min(d[0],p.getMin()),f[1]=Ct(d[1])?p.getMax():Math.max(d[1],p.getMax()));var y=c(f[1])-c(f[0]),g=r[1]>=r[0]?1:-1,m=r[1]-r[0]-("x"===e?this._margins.left+this._margins.right:this._margins.top+this._margins.bottom)*g,b=r[0]+("x"===e?this._margins.left:this._margins.bottom)*g,v=function(t){var e=(c(t)-c(f[0]))/y;return b+m*e},_=function(t){return Ct(t)&&h.length>0?h:h=p.ticks(t).map((function(t,e){return{index:e,value:t,x:v(t),isMinor:c(t)%1}}))};return v.getName=function(){return t},v.getType=function(){return e},v.getTransformation=function(){return o},v.transformation=o,v.getField=function(){return i},v.field=i,v.isLog=function(){return!0},v.fixedDomain=u,v.domain=f,v.range=r,v.ticks=Rt(_),this.scales[e][t]=v,this}function ae(t,e,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[0,St],a=arguments.length>4?arguments[4]:void 0,o=this.scales[e][t],s=n||(o&&"ordinal"===o.transformation?o.fixedDomain:null),c=Ct(s)?null:zt(s),u=[];i[0]+="x"===e?this._padding.left:-this._padding.bottom,i[1]-="x"===e?this._padding.right:-this._padding.top;var l=o&&"ordinal"===o.transformation?o.domain:[],h=c||n||l;if(1===arguments.length)return this.scales.x[arguments[0]]||this.scales.y[arguments[0]];!Ct(s)&&h&&h.length&&Pt(h,l)||(this._data.forEach((function(e){-1===h.indexOf(e[a||t])&&h.push(e[a||t])})),this.objects.forEach((function(t){var n=!Ct(t._data)&&t._data.length?t._data:r._data;n&&n.forEach((function(n){-1===h.indexOf(n[t.fields[e]])&&h.push(n[t.fields[e]])}))})));var d=h.length,f=i[1]>=i[0]?1:-1,p=i[1]-i[0]-("x"===e?this._margins.left+this._margins.right:this._margins.top+this._margins.bottom)*f,y=i[0]+("x"===e?this._margins.left:this._margins.bottom)*f,g=p/h.length,m=function(t){var e=h.indexOf(t)/d;return y+g/2+p*e},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.length;return Ct(t)&&u.length>0?u:(u=h).map((function(t,e){return{index:e,value:t,x:m(t)}}))};return m.getName=function(){return t},m.getType=function(){return e},m.transformation="ordinal",m.getField=function(){return a},m.field=a,m.isLog=function(){return!1},m.fixedDomain=s,m.domain=h,m.range=i,m.step=1,m.barwidth=g,m.ticks=b,this.scales[e][t]=m,this}var oe={second:1e3,minute:6e4};oe.hour=60*oe.minute,oe.day=24*oe.hour,Object.keys(oe).forEach((function(t){return oe["".concat(t,"s")]=oe[t]}));var se={bidiurnal:2*oe.day,week:7*oe.day,fortnight:14*oe.day,month:30*oe.day,year:365*oe.day};function ce(t,e,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[0,St],a=arguments.length>4?arguments[4]:void 0,o=oe.day,s=this.scales[e][t],c=n||(s?s.fixedDomain:null),u=Ct(c)?null:zt(c),l=[];i[0]+="x"===e?this._padding.left:-this._padding.bottom,i[1]-="x"===e?this._padding.right:-this._padding.top;var h=s&&!s.isLog()?s.domain:[],d=u||n||h;if(1===arguments.length)return this.scales.x[arguments[0]]||this.scales.y[arguments[0]];!Ct(c)&&!Tt(h)&&d&&d.length&&d[0]===h[0]&&d[1]===h[1]||(this._data.forEach((function(e){d[0]=Ct(d[0])?+e[a||t]:Math.min.apply(Math,zt([+e[a||t],d[0],+e["stacked_".concat(a||t)]].filter((function(t){return!Ct(t)})))),d[1]=Ct(d[1])?+e[a||t]:Math.max.apply(Math,zt([+e[a||t],d[1],+e["stacked_".concat(a||t)]].filter((function(t){return!Ct(t)}))))})),this.objects.forEach((function(e){var n=!Ct(e._data)&&e._data.length?e._data:r._data;n&&n.forEach((function(n){d[0]=Ct(d[0])?+n[a||e.fields[t]]:Math.min.apply(Math,zt([+n[a||e.fields[t]],d[0],+n["stacked_".concat(a||e.fields[t])]].filter((function(t){return!Ct(t)&&!Tt(t)})))),d[1]=Ct(d[1])?n[a||e.fields[t]]:Math.max.apply(Math,zt([+n[a||e.fields[t]],d[1],+n["stacked_".concat(a||e.fields[t])]].filter((function(t){return!Ct(t)&&!Tt(t)}))))}))}))),!Ct(c)&&d&&d.length&&Pt(d,h)||(this._data.forEach((function(e){d[0]=Ct(d[0])?e[a||t]:Math.min.apply(Math,zt([e[a||t],d[0],e["stacked_".concat(a||t)]].filter((function(t){return!Ct(t)})))),d[1]=Ct(d[1])?e[a||t]:Math.max.apply(Math,zt([e[a||t],d[1],e["stacked_".concat(a||t)]].filter((function(t){return!Ct(t)}))))})),this.objects.forEach((function(e){var n=!Ct(e._data)&&e._data.length?e._data:r._data;n&&n.forEach((function(n){d[0]=Ct(d[0])?n[a||e.fields[t]]:Math.min.apply(Math,zt([n[a||e.fields[t]],d[0],n["stacked_".concat(a||e.fields[t])]].filter((function(t){return!Ct(t)&&!Tt(t)})))),d[1]=Ct(d[1])?n[a||e.fields[t]]:Math.max.apply(Math,zt([n[a||e.fields[t]],d[1],n["stacked_".concat(a||e.fields[t])]].filter((function(t){return!Ct(t)&&!Tt(t)}))))}))})));var f=function(t){if(d.length){var e=zt(d);if(Ct(t)&&(t=oe.seconds,Object.keys(oe).forEach((function(n){Math.abs(e[1]-e[0])>=oe[n]&&(t=n)}))),(o=oe[t]||se[t]||oe.day)>se.week){var n=new Date(e[0]),r=new Date(e[1]);switch(t){case"month":case"months":e[0]=new Date(n.getFullYear(),n.getMonth(),1),e[1]=new Date(r.getFullYear(),r.getMonth()+1,1);break;case"year":case"years":e[0]=new Date(n.getFullYear(),0,1),e[1]=new Date(r.getFullYear(),0,1)}return e}return[Math.floor(e[0]/o)*o,Math.ceil(e[1]/o)*o]}return[]},p=d;p=f();var y=i[1]>=i[0]?1:-1,g=i[1]-i[0]-("x"===e?this._margins.left+this._margins.right:this._margins.top+this._margins.bottom)*y,m=i[0]+("x"===e?this._margins.left:this._margins.bottom)*y,b=function(t){var e=(t-p[0])/(p[1]-p[0]);return m+g*e},v=function(t){if(Ct(t))return t;"number"!=typeof t?oe[t]||se[t]?p=f(t):console.error("The selected interval does not exists."):console.error("Please use a string for now")},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,e=arguments.length>1?arguments[1]:void 0;if(!d.length)return[];var n=f(e),r=n[1]-n[0];if(Ct(t)&&Ct(e)&&l.length>0)return l;var i=se[e]||oe[e]||oe.day,a=Array.isArray(t)&&t.length;if(i<=se.fortnight)l=zt(Array(a?t:Math.floor(r/i)+1).keys()).map((function(t){return+n[0]+t*i}));else if(i===se.month)for(var o=(l=[new Date(n[0])])[0],s=l[0].getMonth(),c=new Date(n[0]).getFullYear();s<1e4&&+o<+n[1];)o=new Date(c,s,1),l.push(o),s++;else if(i===se.year)for(var u=(l=[new Date(n[0])])[0],h=l[0].getFullYear(),p=l[0].getFullYear();+u<+n[1]&&p<h+1e4;)u=new Date(p,0,1),l.push(u),p++;return l.map((function(t,e){return{index:e,value:t,x:b(t)}}))};return b.getName=function(){return t},b.getType=function(){return e},b.transformation="time",b.getField=function(){return a},b.isLog=function(){return!1},b.fixedDomain=c,b.interval=v,b.domain=d,b.roundedDomainExtent=p,b.field=a,b.range=i,b.step=o,b.barwidth=b(p[0]+b.step)-b(p[0]),b.ticks=Rt(_),this.scales[e][t]=b,this}function ue(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;this.type="chrt",this._data=e,this._orginalData=this._data,this.root=n,this.currentNode=n,this._accessor=function(t,e){return{x:!Ct(t)&&Object.prototype.hasOwnProperty.call(t,"x")?t.x:e,y:Ct(t)?null:Object.prototype.hasOwnProperty.call(t,"y")?t.y:t}},this.width=500,this.height=300,this._margins={top:20,bottom:20,left:40,right:20},this._padding={top:0,bottom:0,left:0,right:0},this.scales={x:{},y:{}},this.objects=[];var r=function(e,n,r,i,a){var o=t.scales[n][e],s=o?o.domain:[],c=o?o.range:[];return ne.apply(t,[e,n,r,i,a]),Ct(o)||Pt(s,o.domain)&&Pt(c,o.range)||t.objects.forEach((function(t){return t.update()})),t},i=function(e,n,r,i,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"log10",s=t.scales[n][e],c=s?s.domain:[],u=s?s.range:[];return ie.apply(t,[e,n,r,i,a,o]),Ct(s)||Pt(c,s.domain)&&Pt(u,s.range)||t.objects.forEach((function(t){return t.update()})),t},a=function(e,n,r,i,a){var o=t.scales[n][e],s=o?o.domain:[],c=o?o.range:[];return ae.apply(t,[e,n,t._data.length?r:[],i,a]),Ct(o)||Pt(s,o.domain)&&Pt(c,o.range)||t.objects.forEach((function(t){return t.update()})),t},o=function(e,n,r,i,a){var o=t.scales[n][e],s=o?o.domain:[],c=o?o.range:[];return ce.apply(t,[e,n,r||[],i,a]),Ct(o)||Pt(s,o.domain)&&Pt(c,o.range)||t.objects.forEach((function(t){return t.update()})),t};this.x=function(e,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=s&&s.scale||"linear";switch(c){case"log":case"log10":case"log2":return i(s.name||"x","x",e,n||[0,t.width],s.field||"x",c);case"time":return o.apply(t,[s.name||"x","x",e,n||[0,t.width],s.field||"x"]);case"ordinal":return a.apply(t,[s.name||"x","x",e,n||[0,t.width],s.field||"x"]);case"linear":default:return r.apply(t,[s.name||"x","x",e,n||[0,t.width],s.field||"x"])}},this.y=function(e,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=s&&s.scale||"linear";switch(c){case"log":case"log10":case"log2":return i(s.name||"y","y",e,n||[t.height,0],s.field||"y",c);case"time":return o.apply(t,[s.name||"y","y",e,n||[t.height,0],s.field||"y"]);case"ordinal":return a.apply(t,[s.name||"y","y",e,n||[t.height,0],s.field||"y"]);case"linear":default:return r.apply(t,[s.name||"y","y",e,n||[t.height,0],s.field||"y"])}},this.update=function(){return Object.values(t.scales.x).length?Object.values(t.scales.x).forEach((function(e){t.x(e.fixedDomain,[0,t.width],{name:e.getName(),type:e.getType(),field:e.field,scale:e.transformation})})):t.x(null,[0,t.width]),Object.values(t.scales.y).length?Object.values(t.scales.y).forEach((function(e){t.y(e.fixedDomain,[t.height,0],{name:e.getName(),type:e.getType(),field:e.field,scale:e.transformation})})):t.y(null,[t.height,0]),t.objects.forEach((function(t){t.update()})),t},this.getAxis=function(e,n){return t.objects.find((function(t){return"axis"===t.type&&t.name===e&&(!n||t.orientation===n)}))},this.class=function(e){return Ct(e)||"string"==typeof e||(console.warn("CSS prefix should be a string. Setting main class name to 'chrt'."),e=null),t._css="".concat(e?e.replace(/-$/,""):"").concat(e?"-":"","chrt"),t.root.classList.add(t._css),t},this.css=this.class}function le(t,e){return new ue(t,e)}function he(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t._id||It();return t.id(n).parent(this),e?this.objects=[t].concat(zt(this.objects)):this.objects.push(t),this}function de(t){var e,n,r,i,a=this;return e=t.map((function(t){return[a.parentNode.scales.x[a.scales.x](t[a.fields.x]),Ct(t[a.fields.y])||(e=t[a.fields.y],"string"!=typeof e&&!isFinite(e))?null:a.parentNode.scales.y[a.scales.y](t[a.fields.y])];var e})),n=fe,i=e.reduce((function(t,e){return Ct(e[1])?t.push([]):t[t.length-1].push(e),t}),[[]]).map((function(t){return t.reduce((function(t,e,r,i){return t.push(0===r?"M".concat(isNaN(e[0])?0:e[0],",").concat(isNaN(e[1])?0:e[1]):"".concat(n(e,r,i))),t}),[])})),(r=[]).concat.apply(r,zt(i))}Object.keys(se).forEach((function(t){return se["".concat(t,"s")]=se[t]})),ue.prototype=le.prototype={data:Wt,node:qt,append:function(t){if("string"==typeof t){var e=document.createElement(t);(this.currentNode||this.root).appendChild(e),this.currentNode=e}return this},add:function(t){var e=It();return t.id(e).parent(this).node(this.currentNode).data(t.hasData()?t.data():this._orginalData,t.accessor()||this._accessor).render(t._stacked||t._group),this.objects.push(t),$t(t)?this.update():this},rollup:function(){return this.currentNode.parentNode&&(this.currentNode=this.currentNode.parentNode),this},svg:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.root.querySelector("svg");e||((e=Jt("svg")).setAttribute("preserveAspectRatio","none"),e.setAttribute("width","100%"),e.setAttribute("height","100%"),this.currentNode.appendChild(e));var n=e.querySelector("g:first-of-type");return n||(n=e.appendChild(Jt("g"))),this.currentNode=n,t&&this.update(),this},border:function(){return this.currentNode&&(this.root.querySelector("svg").style.border="1px solid #000"),this},size:Ut,setWidth:function(t){return Ut(t)},setHeight:function(t){return Ut(null,t)},margins:function(t){if(Ct(t))return this._margins;var e=t.top,n=t.bottom,r=t.left,i=t.right;return this._margins.top=Ct(e)?this._margins.top:e,this._margins.bottom=Ct(n)?this._margins.bottom:n,this._margins.left=Ct(r)?this._margins.left:r,this._margins.right=Ct(i)?this._margins.right:i,this.update()},padding:function(t){if(Ct(t))return this._padding;var e=t.top,n=t.bottom,r=t.left,i=t.right;return this._padding.top=Ct(e)?this._padding.top:e,this._padding.bottom=Ct(n)?this._padding.bottom:n,this._padding.left=Ct(r)?this._padding.left:r,this._padding.right=Ct(i)?this._padding.right:i,this.update()}};var fe=function(t){return"L".concat(isNaN(t[0])?0:t[0],",").concat(isNaN(t[1])?0:t[1])};function pe(){var t=this;this._id=null,this.objects=[],this.fields={x:null,y:null},this.scales={x:"x",y:"y"},this._classNames=[],this.interpolationFunction=de,this.attrs=[],this.id=function(e){return Ct(e)?t._id:(t._id=e||t._id,t.g&&t.g.setAttribute("id",t._id),t)},this.class=function(e){if(Ct(e))return t._classNames;var n=e.split(" ");return t._classNames=[].concat(zt(t._classNames.filter((function(t){return t!==e}))),zt(n)),t.g&&n.forEach((function(e){return t.g.classList.add(e)})),t},this.hasData=function(){return $t(t)};var e=function(e,n){Ct(n)||(t.scales[e]=n)};return this.x=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x";return Ct(n)?t.scales.x:(e("x",n),t)},this.y=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";return Ct(n)?t.scale.y:(e("y",n),t)},this}function ye(){var t=this;pe.call(this),this.type="stack",this._grouped=1,this._groupIndex=0,this._orientation="bottom",this._dataMap={x:{},y:{}},this.orientation=function(e){if(Ct(e))return t._orientation;return t._orientation=["bottom","left"].indexOf(e)>-1?e:t._orientation,t},this.add=function(e){e._stacked=t,he.call(t,e);var n=e.data;return e.data=function(r,i){return Ct(r)||(r=r.map((function(e){t._dataMap.x[e.x]||(t._dataMap.x[e.x]={x:e.x,values:[]}),t._dataMap.x[e.x].values.push(e);var n=Ct(t._dataMap.x[e.x].y0)?null:t._dataMap.x[e.x].y0;t._dataMap.x[e.x].y0="bottom"!==t._orientation?null:(n||0)+e.y,t._dataMap.y[e.y]||(t._dataMap.y[e.y]={y:e.y,values:[]}),t._dataMap.y[e.y].values.push(e);var r=Ct(t._dataMap.y[e.y].x0)?null:t._dataMap.y[e.y].x0;return t._dataMap.y[e.y].x0="left"!==t._orientation?null:(r||0)+e.x,Object.assign({},e,{stacked_y:(n||0)+e.y,y0:n,stacked_x:(r||0)+e.x,x0:r})}))),n.call(e,r,i)},t},this.draw=function(){var e="group"===t.parentNode.type?t.parentNode.parentNode:t.parentNode;return t.objects.forEach((function(t){-1===e.objects.map((function(t){return t._id})).indexOf(t._id)&&e.add(t)})),t.objects.forEach((function(t){return t.draw()})),e}}function ge(){var t=this;pe.call(this),this.type="group",this.attr("width",1),this.width=function(e){return Ct(e)?t.attr("width")():(t.attr("width",Math.min(Math.max(e,0),1)),t)},this.add=function(e){return he.call(t,e),e._groupIndex=t.objects.length-1,t.objects.forEach((function(e){e._group=t,e._grouped=t.objects.length})),t},this.draw=function(){return t.objects.forEach((function(e){-1===t.parentNode.objects.map((function(t){return t._id})).indexOf(e._id)&&t.parentNode.add(e)})),t.objects.forEach((function(t){return t.draw()})),t.parentNode}}function me(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function be(t,e,n){var r=this;t.forEach((function(t,i,a){var o=r.g.querySelector("[data-id='tick-".concat(e,"-").concat(t.value,"']"));if(!o&&((o=me("g")).setAttribute("data-id","tick-".concat(e,"-").concat(t.value)),t.isMinor&&o.classList.add("tick-minor"),r.g.appendChild(o),r.showAxisLine)){var s=me("line");s.setAttribute("stroke",r.stroke),s.setAttribute("stroke-width",r.strokeWidth),o.appendChild(s)}n&&n.call(null,o,t,i,a)}))}pe.prototype=Object.create(function(){return new pe}.prototype),pe.prototype=Object.assign(pe.prototype,{node:qt,data:Wt,add:he,parent:function(t){return t?(this.parentNode=t,this):this.parentNode},accessor:function(){return this._accessor},render:function(t){return this.g=Jt("g"),this._id&&this.g.setAttribute("id",this._id),$t(this)&&t?"stack"===t.type||"group"===t.group?t.g.prepend(this.g):t.g.append(this.g):this.currentNode.append(this.g),this.update(),this.parentNode},update:function(){this.parentNode.scales.x[this.scales.x]&&this.parentNode.scales.y[this.scales.y]&&this.draw()},curve:function(t){return Ct(t)?this.interpolationFunction:(this.interpolationFunction=t,this)},attr:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t};return Ct(t)?(console.warn("name missing: attr method requires a name for the attribute"),this):Ct(e)?this.attrs[t]:(this.attrs[t]="function"==typeof e?n(e):function(){return n(e)},this)}}),ye.prototype=Object.create(pe.prototype),ye.prototype.constructor=ye,ye.parent=pe.prototype,ye.prototype=Object.assign(ye.prototype,{}),ge.prototype=Object.create(pe.prototype),ge.prototype.constructor=ge,ge.parent=pe.prototype,ge.prototype=Object.assign(ge.prototype,{});var ve=10,_e={x:["top","bottom"],y:["left","right"]},xe={x:"bottom",y:"left"};function Ne(t){return null===t||null==t||void 0===t}function ke(t){return"function"==typeof t||(this.showAxisLine=!!Ne(t)||t),this}function we(t){return Ne(t)?(this.ticksFilter=function(){return!0},this):"function"==typeof t?(this.ticksFilter=function(e,n,r){return t(e,n,r)},this):"boolean"==typeof t?(this.ticksFilter=function(){return t},this):Number.isFinite(t)?(this.ticksFilter=function(e){return t===e},this):Array.isArray(t)?(this.ticksFilter=function(e){return t.indexOf(e)>-1},this):this}function Ae(t){we.call(this,t);var e=this.ticksFilter;return this.ticksFilter=function(t,n,r){return!e(t,n,r)},this}function Me(t){return Ne(t)?(this.labelsFilter=function(){return!0},this):"function"==typeof t?(this.labelsFilter=function(e,n,r){return t(e,n,r)},this):"boolean"==typeof t?(this.labelsFilter=function(){return t},this):Number.isFinite(t)?(this.labelsFilter=function(e){return t===e},this):Array.isArray(t)?(this.labelsFilter=function(e){return t.indexOf(e)>-1},this):this}function je(t){Me.call(this,t);var e=this.labelsFilter;return this.labelsFilter=function(t,n,r){return!e(t,n,r)},this}function Oe(t){var e=this;pe.call(this),this.type="axis",this.updater=!0,this.name=t,this.strokeWidth=1,this.stroke="#000",this.tickTextColor="#000",this.showAxisLine=!0,this.ticksFilter=null,this.labelsFilter=null,this.tickLength=5,this.tickPosition="outside",this.labelPosition="outside",this.labelFormat=function(t){return t},this.showMinorTicks=!1,this._zero=null,this.showZero=!0,this._label=null,this._ticks=[],this._fixedTicks=null,this._interval=null,this._classNames=["chrt-axis"],this.draw=function(){return e.parentNode.scales[e._coordinates][t],e.parentNode}}function Ee(t){return function(t){if(Array.isArray(t))return Se(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Se(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Se(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Le(t,e,n){var r=this;t.forEach((function(t,i,a){var o=r.g.querySelector("[data-id='label-".concat(e,"-").concat(t.value,"']"));if(!o){(o=me("g")).setAttribute("data-id","label-".concat(e,"-").concat(t.value)),t.isMinor&&o.classList.add("label-minor"),r.g.appendChild(o);var s=me("text");s.textContent=r.labelFormat(t.value,i,a),s.setAttribute("fill",r.labelTextColor),s.label&&(s.textContent="".concat(r.labelFormat(s.value,i,a)).concat(t.label.text)),o.appendChild(s)}n&&n.call(null,o,t,i,a)}))}function Fe(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";"string"==typeof arguments[0]&&(n=arguments[0],e=ve),Oe.call(this,n);var r=this.name;this._name="x",this._coordinates="x",this.orientation=xe[this._name];var i={x:"x",y:"y"};this._classNames=[].concat(Ee(this._classNames),["chrt-x-axis"]);var a=function(e,n){t._name=i.x,r=t.parentNode.scales[i.x][t.name].getName(),e.style.display=n?"block":"none";var a=e.querySelector("line"),o=t.orientation===xe[t._name]?1:-1;a&&(a.setAttribute("x1",0),a.setAttribute("x2",0),a.setAttribute("y1",0),a.setAttribute("y2",("outside"===t.tickPosition?t.tickLength:-t.tickLength)*o));var s=e.querySelector("text");s&&(s.setAttribute("text-anchor","middle"),s.setAttribute("y",("outside"===t.labelPosition?t.tickLength:-t.tickLength)*o),s.setAttribute("data-orientation",o),o>0?s.setAttribute("dy","".concat("outside"===t.labelPosition?1:-.25,"em")):s.setAttribute("dy","".concat("outside"===t.labelPosition?-.25:1,"em")),s.setAttribute("fill",t.stroke))};this.draw=function(){if(t._name=i.x,r=t.parentNode.scales[i.x][t.name].getName(),!t.parentNode.scales[i.x][r])return t.parentNode;var n=t.parentNode,o=n._margins,s=n.width,c=n.height,u=n.scales;t._label&&(t._label.tickIndex=-1);var l=u[i.x][r].ticks(t._fixedTicks||2*e,t._interval);t._label&&"last"===t._label.position&&l.reverse(),t._ticks=l.map((function(e,n,a){e.position=u[i.x][r](e.value);var c=e.position>=o.left&&e.position<=s-o.right;return c=(c=c&&(t.showMinorTicks||e.isZero&&t.showZero||!e.isMinor))&&(!_||_&&!e.isMinor),e.visible=c,t.ticksFilter&&(e.visible=e.visible&&t.ticksFilter(e.value,n,a)),e.visibleLabel=c,t.labelsFilter&&(e.visibleLabel=e.visibleLabel&&t.labelsFilter(e.value,n,a)),e.label=null,e.visibleLabel&&t._label&&(Ne(t._label.value)||t._label.value!==e.value||(e.label=t._label,t._label.tickIndex=e.index)),e.visibleLabel&&t._label&&Ne(t._label.value)&&("all"===t._label.position||-1===t._label.tickIndex)&&(Ne(t._label.position)||(e.label=t._label,t._label.tickIndex=e.index)),e})).filter((function(t){return t.visible||t.visibleLabel})),t.g.setAttribute("id","".concat(r,"Axis-").concat(t.id())),t._classNames.forEach((function(e){return t.g.classList.add(e)}));var h=t.orientation===xe[t._name]?c-o.bottom:o.top;t.g.setAttribute("transform","translate(0,".concat(h,")"));var d=t.g.querySelector("[data-id='tick-".concat(r,"-axis-line']"));d||((d=me("line")).setAttribute("data-id","tick-".concat(r,"-axis-line")),t.g.appendChild(d)),d.setAttribute("stroke",t.stroke),d.setAttribute("stroke-width",t.strokeWidth),d.setAttribute("x1",o.left),d.setAttribute("x2",s-o.right);var f=u[i.y][i.y]||Object.values(u[i.y])[0],p=Ne(t._zero)?f.domain[0]:t._zero,y=f.isLog()?f.range[1]:f(p)-(c-o.bottom);"ordinal"!==f.transformation||~f.domain.indexOf(p)||(y=0),d.setAttribute("y1",isNaN(y)?0:y),d.setAttribute("y2",isNaN(y)?0:y),t.showAxisLine||d.remove();var g=t.attr("title")?t.attr("title")():null;if(!Ne(g)){var m=t.g.querySelector("text.title");Ne(m)&&(m=me("text")).classList.add("title"),m.textContent=g;var b=t.orientation===xe[t._name]?-1:1,v=(5+t.strokeWidth)*b;m.setAttribute("x",s-o.right),m.setAttribute("y",v),m.setAttribute("dy","".concat(.9*~b,"em")),m.setAttribute("text-anchor","end"),t.g.appendChild(m)}var _=u[i.x][r].isLog();return t.g.querySelectorAll("g").forEach((function(e){var n=e.getAttribute("data-id");t._ticks.find((function(t){return n==="tick-".concat(r,"-").concat(t)}))||e.remove()})),be.call(t,t._ticks,r,(function(t,e){t.setAttribute("transform","translate(".concat(e.position,", 0)")),a(t,e.visible)})),Le.call(t,t._ticks,r,(function(t,e){t.setAttribute("transform","translate(".concat(e.position,", 0)")),a(t,e.visibleLabel)})),t.objects.forEach((function(t){return t.draw()})),t.parentNode}}function Ce(t,e){return new Fe(t,e)}function De(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y";"string"==typeof arguments[0]&&(n=arguments[0],e=ve),Oe.call(this,n,"y");var r=this.name;this._name="y",this._coordinates="y",this.orientation=xe[this._name],this._classNames=[].concat(Ee(this._classNames),["chrt-y-axis"]);var i={x:"x",y:"y"},a=function(e,n){t._name=i.y,r=t.parentNode.scales[i.y][t.name].getName(),e.style.display=n?"block":"none";var a=t.orientation===xe[t._name]?1:-1,o=e.querySelector("line");o&&(o.setAttribute("x1",0),o.setAttribute("x2",("outside"===t.tickPosition?-t.tickLength:t.tickLength)*a));var s=e.querySelector("text");s&&(s.setAttribute("text-anchor","outside"===t.labelPosition?~a?"end":"start":~a?"start":"end"),s.setAttribute("x",("outside"===t.labelPosition?-t.tickLength:0)*a),s.setAttribute("dx","".concat(("outside"===t.labelPosition?-5:5)*a,"px")),s.setAttribute("dy","outside"===t.labelPosition?"0.25em":"-0.3em"),s.setAttribute("fill",t.stroke))};this.draw=function(){if(t._name=i.y,r=t.parentNode.scales[i.y][t.name].getName(),!t.parentNode.scales[i.y][r])return t.parentNode;var n=t.parentNode,o=n._margins,s=n.scales,c=n.width,u=n.height;t.g.setAttribute("id","".concat(r,"Axis-").concat(t.id())),t._classNames.forEach((function(e){return t.g.classList.add(e)}));var l=t.orientation===xe[t._name]?o.left:c-o.right;t.g.setAttribute("transform","translate(".concat(l,",0)")),t._label&&(t._label.tickIndex=-1);var h=s[i.y][r].ticks(t._fixedTicks||2*e,t._interval);t._label&&"last"===t._label.position&&h.reverse(),t._ticks=h.map((function(e,n,a){e.position=s[i.y][r](e.value);var c=e.position>=o.top&&e.position<=u-o.bottom;return c=(c=c&&(t.showMinorTicks||e.isZero&&t.showZero||!e.isMinor))&&(!m||m&&!e.isMinor),e.visible=c,t.ticksFilter&&(e.visible=e.visible&&t.ticksFilter(e.value,n,a)),e.visibleLabel=c,t.labelsFilter&&(e.visibleLabel=e.visibleLabel&&t.labelsFilter(e.value,n,a)),e.label=null,e.visibleLabel&&t._label&&(Ne(t._label.value)||t._label.value!==e.value||(e.label=t._label,t._label.tickIndex=e.index)),e.visibleLabel&&t._label&&Ne(t._label.value)&&("all"===t._label.position||-1===t._label.tickIndex)&&(Ne(t._label.position)||(e.label=t._label,t._label.tickIndex=e.index)),e})).filter((function(t){return t.visible||t.visibleLabel}));var d=t.g.querySelector("[data-id='tick-".concat(r,"-axis-line']"));d||((d=me("line")).setAttribute("data-id","tick-".concat(r,"-axis-line")),t.g.appendChild(d)),d.setAttribute("stroke",t.stroke),d.setAttribute("stroke-width","outside"===t.labelPosition?t.strokeWidth:0),d.setAttribute("x1",0),d.setAttribute("x2",0),d.setAttribute("y1",o.top),d.setAttribute("y2",u-o.bottom),t.showAxisLine||d.remove();var f=t.attr("title")?t.attr("title")():null;if(!Ne(f)){var p=t.g.querySelector("text.title");Ne(p)&&(p=me("text")).classList.add("title"),p.textContent=f;var y=t.orientation===xe[t._name]?1:-1,g=("outside"===t.labelPosition?t.tickLength:0)*y;p.setAttribute("x",g),p.setAttribute("y",o.top),p.setAttribute("dy","outside"===t.labelPosition?"0.9em":"-0.9em"),p.setAttribute("dx","outside"===t.labelPosition?"".concat(5*y,"px"):"".concat(-2*y,"px")),p.setAttribute("text-anchor",~y?"start":"end"),t.g.appendChild(p)}var m=s[i.y][r].isLog();return t.g.querySelectorAll("g").forEach((function(e){var n=e.getAttribute("data-id");t._ticks.find((function(t){return n==="tick-".concat(r,"-").concat(t)}))||e.remove()})),be.call(t,t._ticks,r,(function(t,e){t.setAttribute("transform","translate(0, ".concat(e.position,")")),a(t,e.visible)})),Le.call(t,t._ticks,r,(function(t,e){t.setAttribute("transform","translate(0, ".concat(e.position,")")),a(t,e.visibleLabel)})),t.objects.forEach((function(t){return t.draw()})),t.parentNode}}function Te(t){return this.attr("fill",t)}function Ie(t){return Ne(t)||"function"==typeof t||(this._range=Object.assign({},this._range,t)),this}function $e(t){return this.attr("lineStyle",t)}Oe.prototype=Object.create(pe.prototype),Oe.prototype.constructor=Oe,Oe.parent=pe.prototype,Oe.prototype=Object.assign(Oe.prototype,{width:function(t){return Ne(t)?this.strokeWidth:("function"==typeof t||(this.strokeWidth=t),this)},color:function(t){return Ne(t)?this.stroke:("function"==typeof t||(this.stroke=t),this)},setTickLength:function(t){return Ne(t)?this.tickLength:("function"==typeof t||(this.tickLength=t),this)},setTickPosition:function(t){return Ne(t)?this.tickPosition:("function"==typeof t||(this.tickPosition=t),this)},setLabelPosition:function(t){return Ne(t)?this.labelPosition:("function"==typeof t||(this.labelPosition=t),this)},showAxis:ke,hideAxis:function(){return ke.call(this,!1)},ticks:function(t){return Ne(t)?this._ticks:(this._fixedTicks=t,this)},filterTicks:we,filter:we,showTicks:we,hideTicks:Ae,firstTick:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?we.call(this,(function(t,e){return 0===e})):Ae.call(this,(function(t,e){return 0===e})),this},lastTick:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?we.call(this,(function(t,e,n){return e===n.length-1})):Ae.call(this,(function(t,e,n){return e===n.length-1})),this},firstAndLastTicks:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?we.call(this,(function(t,e,n){return 0===e||e===n.length-1})):Ae.call(this,(function(t,e,n){return 0===e||e===n.length-1})),this},labels:function(t){return Ne(t)?this._labels:(this._fixedLabels=t,this)},filterLabels:we,showLabels:Me,hideLabels:je,firstLabel:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?Me.call(this,(function(t,e){return 0===e})):je.call(this,(function(t,e){return 0===e})),this},lastLabel:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?Me.call(this,(function(t,e,n){return e===n.length-1})):je.call(this,(function(t,e,n){return e===n.length-1})),this},firstAndLastLabels:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?Me.call(this,(function(t,e,n){return 0===e||e===n.length-1})):je.call(this,(function(t,e,n){return 0===e||e===n.length-1})),this},orient:function(t){return Ne(t)?this.orientation:("function"==typeof t||(this.orientation=_e[this._name].indexOf(t)>-1?t:xe[this.name]),this)},format:function(t){return Ne(t)||"function"==typeof t&&(this.labelFormat=t),this},minor:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Ne(t)?this.showMinorTicks:("function"==typeof t||(this.showMinorTicks=t),this)},zero:function(t){return Ne(t)?this._zero:("function"==typeof t||(this._zero=t),this)},hideZero:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return"function"==typeof t||(this.showZero=!t),this},label:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ne(t)?this._label:(this._label=Object.assign({position:"last"},e,{text:t}),this)},interval:function(t){return Ne(t)?this._interval:("function"==typeof t||(this._interval=t),this)},title:function(t){return this.attr("title",t)}}),Fe.prototype=Object.create(Oe.prototype),Fe.prototype.constructor=Fe,Fe.parent=Oe.prototype,De.prototype=Object.create(Oe.prototype),De.prototype.constructor=De,De.parent=Oe.prototype;function Pe(){var t=this;return pe.call(this),this.type="axis-range",this.g=null,this.attr("fill","#ddd"),this.attr("stroke","#000"),this.attr("fillOpacity",1),this.attr("strokeOpacity",1),this.attr("strokeWidth",1),this.attr("lineStyle","solid"),this._range={},this._classNames=["chrt-axis-range"],this.draw=function(){return t.parentNode},this.solid=function(){return $e.call(t,"solid")},this.dashed=function(){return $e.call(t,"dashed")},this.dotted=function(){return $e.call(t,"dotted")},this.strokeOpacity=function(e){return t.attr("strokeOpacity",e)},this.parentNode}function We(){var t=this;Pe.call(this),this.class("chrt-y-axis-range"),this.draw=function(){if(!t.parentNode.parentNode.scales)return t.parentNode.parentNode;t.g||(t.g=me("g"),t.g.setAttribute("data-id",t._id),t.g.setAttribute("data-name","axis-range")),t.parentNode.g.querySelector("".concat(name,"AxisRange-").concat(t.id()))||t.parentNode.g.appendChild(t.g),t.g.setAttribute("id","".concat(name,"AxisRange-").concat(t.id())),t._classNames.forEach((function(e){return t.g.classList.add(e)}));var e=t.attr("fill")(),n=t.attr("fillOpacity")(),r=t.attr("stroke")(),i=t.attr("strokeOpacity")(),a=t.attr("strokeWidth")(),o=t.parentNode.orientation===xe[t.parentNode._name]?1:-1,s=t.parentNode.parentNode,c=s.scales,u=s.width,l=s._margins,h=null,d=null;if(c&&c.y[t.parentNode.name]){var f=c.y[t.parentNode.name];h=Ne(t._range.from)?h:f(t._range.from),d=Ne(t._range.to)?d:f(t._range.to)}if(t.path||(t.path=me("path"),t.g.appendChild(t.path)),!Ne(h)||!Ne(d)){if(t.g.setAttribute("transform","translate(".concat(o>0?0:-(u-(l.right+l.left)),",0)")),(h=Ne(h)?d:h)===(d=Ne(d)?h:d))t.path.remove(),t.path=null;else{var p=[[t.parentNode.strokeWidth,h],[t.parentNode.strokeWidth,d],[u-(l.right+l.left),d],[u-(l.right+l.left),h]];t.path.setAttribute("d","M".concat(p.join("L"),"z")),t.path.setAttribute("fill",e),t.path.setAttribute("fill-opacity",n)}var y=t.attr("lineStyle")();if(!Ne(y))switch(y){case"dashed":t._strokeStyle="".concat(4*a," ").concat(4*a);break;case"dotted":t._strokeStyle="".concat(a," ").concat(a);break;case"solid":default:t._strokeStyle=null}var g=Ee(new Set([h,d]));return Ne(t.lines)&&(t.lines=[]),g.forEach((function(e,n){t.lines[n]||(t.lines[n]=me("line"),t.g.appendChild(t.lines[n]));var o=t.lines[n];o.setAttribute("x1",t.parentNode.strokeWidth),o.setAttribute("x2",u-(l.left+l.right)),o.setAttribute("y1",e),o.setAttribute("y2",e),o.setAttribute("stroke",r),o.setAttribute("stroke-width",a),o.setAttribute("stroke-opacity",i),Ne(t._strokeStyle)||o.setAttribute("stroke-dasharray",t._strokeStyle)})),t.parentNode}}}function qe(){var t=this;Pe.call(this),this.class("chrt-y-axis-range"),this.draw=function(){if(!t.parentNode.parentNode.scales)return t.parentNode.parentNode;t.g||(t.g=me("g"),t.g.setAttribute("data-id",t._id),t.g.setAttribute("data-name","axis-range")),t.parentNode.g.querySelector("".concat(name,"AxisRange-").concat(t.id()))||t.parentNode.g.appendChild(t.g),t.g.setAttribute("id","".concat(name,"AxisRange-").concat(t.id())),t._classNames.forEach((function(e){return t.g.classList.add(e)}));var e=t.attr("fill")(),n=t.attr("fillOpacity")(),r=t.attr("stroke")(),i=t.attr("strokeOpacity")(),a=t.attr("strokeWidth")(),o=t.parentNode.orientation===xe[t.parentNode._name]?1:-1,s=t.parentNode.parentNode,c=s.scales,u=s.height,l=s._margins,h=null,d=null;if(c&&c.x[t.parentNode.name]){var f=c.x[t.parentNode.name];h=Ne(t._range.from)?h:f(t._range.from),d=Ne(t._range.to)?d:f(t._range.to)}if(t.path||(t.path=me("path"),t.g.appendChild(t.path)),!Ne(h)||!Ne(d)){if(t.g.setAttribute("transform","translate(0, ".concat(o>0?0:u-(l.top+l.bottom)+t.parentNode.strokeWidth,")")),(h=Ne(h)?d:h)===(d=Ne(d)?h:d))t.path.remove(),t.path=null;else{var p=[[h,-t.parentNode.strokeWidth],[d,-t.parentNode.strokeWidth],[d,-(u-(l.top+l.bottom))],[h,-(u-(l.top+l.bottom))]];t.path.setAttribute("d","M".concat(p.join("L"),"z")),t.path.setAttribute("fill",e),t.path.setAttribute("fill-opacity",n)}var y=t.attr("lineStyle")();if(!Ne(y))switch(y){case"dashed":t._strokeStyle="".concat(4*a," ").concat(4*a);break;case"dotted":t._strokeStyle="".concat(a," ").concat(a);break;case"solid":default:t._strokeStyle=null}var g=Ee(new Set([h,d]));return Ne(t.lines)&&(t.lines=[]),g.forEach((function(e,n){t.lines[n]||(t.lines[n]=me("line"),t.g.appendChild(t.lines[n]));var o=t.lines[n];o.setAttribute("x1",e),o.setAttribute("x2",e),o.setAttribute("y1",-t.parentNode.strokeWidth),o.setAttribute("y2",-(u-(l.top+l.bottom))),o.setAttribute("stroke",r),o.setAttribute("stroke-width",a),o.setAttribute("stroke-opacity",i),Ne(t._strokeStyle)||o.setAttribute("stroke-dasharray",t._strokeStyle)})),t.parentNode}}}function Re(t){return this.attr("fill",t)}Pe.prototype=Object.create(pe.prototype),Pe.prototype.constructor=Pe,Pe.parent=pe.prototype,Pe.prototype=Object.assign(Pe.prototype,{color:Te,fill:Te,stroke:function(t){return this.attr("stroke",t)},strokeWidth:function(t){return this.attr("strokeWidth",t)},fillOpacity:function(t){return this.attr("fillOpacity",t)},lineStyle:$e,range:Ie,from:function(t){return Ie.call(this,{from:t})},to:function(t){return Ie.call(this,{to:t})}}),We.prototype=Object.create(Pe.prototype),We.prototype.constructor=We,We.parent=Pe.prototype,qe.prototype=Object.create(Pe.prototype),qe.prototype.constructor=qe,qe.parent=Pe.prototype;function Ue(t){var e=this;pe.call(this),this.type="axis-title",this.g=null,this.attr("fill","#000"),this.attr("align","right"),this.attr("valign","top"),this.attr("offset",{x:0,y:0}),this._classNames=["chrt-axis-title"];this.draw=function(){return e.parentNode.parentNode.scales?(e.g||(e.g=me("g"),e.g.setAttribute("data-id",e._id),e.g.setAttribute("data-name","axis-title")),e.parentNode.g.querySelector("".concat(name,"AxisTitle-").concat(e.id()))||e.parentNode.g.appendChild(e.g),e.g.setAttribute("id","".concat(name,"AxisTitle-").concat(e.id())),e._classNames.forEach((function(t){return e.g.classList.add(t)})),e.text||(e.text=me("text"),e.g.appendChild(e.text)),"x"===e.parentNode._name?function(){var n=e.attr("fill")(),r=e.parentNode.parentNode,i=r.width,a=r._margins,o=0,s="start";switch(e.attr("align")()){case"left":o=a.left,s="start";break;case"center":o=i/2,s="middle";break;case"right":default:o=i-a.right,s="end"}var c="0.25em",u=0;switch(e.attr("valign")()){case"bottom":u=0,c="1em";break;case"middle":u=0,c="0.25em";break;case"top":default:u=0,c="-1em"}var l=e.attr("offset")();e.text.textContent=t,e.text.setAttribute("text-anchor",s),e.text.setAttribute("x",o+l.x),e.text.setAttribute("y",u+l.y),e.text.setAttribute("dy",c),e.text.setAttribute("fill",n)}():function(){var n=e.attr("fill")(),r=e.parentNode.parentNode,i=r.height,a=r._margins,o=0,s="start";switch(e.attr("align")()){case"left":o=-5,s="end";break;case"center":case"middle":o=0,s="middle";break;case"right":default:o=5,s="start"}var c="0.25em",u=0;switch(e.attr("valign")()){case"bottom":u=i-a.bottom,c="0";break;case"center":case"middle":u=0,c="0.25em";break;case"top":default:u=a.top-1,c="0"}var l=e.attr("offset")();e.text.textContent=t,e.text.setAttribute("text-anchor",s),e.text.setAttribute("x",o+l.x),e.text.setAttribute("y",u+l.y),e.text.setAttribute("dy",c),e.text.setAttribute("fill",n)}(),e.parentNode):e.parentNode.parentNode}}Ue.prototype=Object.create(pe.prototype),Ue.prototype.constructor=Ue,Ue.parent=pe.prototype,Ue.prototype=Object.assign(Ue.prototype,{color:Re,fill:Re,align:function(t){return this.attr("align",t)},valign:function(t){return this.attr("valign",t)},offset:function(t){var e=this.attr("offset")();return this.attr("offset",Object.assign({},e||{},t))}}),Math.log10=Math.log10||function(t){return Math.log(t)*Math.LOG10E};var Be=["chrt","series"];function ze(t){return null===t||null==t||void 0===t}function He(){return"c"+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function Ge(t){return!ze(t.type)&&Be.indexOf(t.type)>-1}function Ze(t){return function(t){if(Array.isArray(t))return Je(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Je(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Je(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Je(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Xe={second:1e3,minute:6e4};Xe.hour=60*Xe.minute,Xe.day=24*Xe.hour,Object.keys(Xe).forEach((function(t){return Xe["".concat(t,"s")]=Xe[t]}));var Ye={bidiurnal:2*Xe.day,week:7*Xe.day,fortnight:14*Xe.day,month:30*Xe.day,year:365*Xe.day};function Ve(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t._id||He();return t.id(n).parent(this),e?this.objects=[t].concat(Ze(this.objects)):this.objects.push(t),this}function Ke(t){var e,n,r,i,a=this;return e=t.map((function(t){return[a.parentNode.scales.x[a.scales.x](t[a.fields.x]),ze(t[a.fields.y])||(e=t[a.fields.y],"string"!=typeof e&&!isFinite(e))?null:a.parentNode.scales.y[a.scales.y](t[a.fields.y])];var e})),n=Qe,i=e.reduce((function(t,e){return ze(e[1])?t.push([]):t[t.length-1].push(e),t}),[[]]).map((function(t){return t.reduce((function(t,e,r,i){return t.push(0===r?"M".concat(isNaN(e[0])?0:e[0],",").concat(isNaN(e[1])?0:e[1]):"".concat(n(e,r,i))),t}),[])})),(r=[]).concat.apply(r,Ze(i))}Object.keys(Ye).forEach((function(t){return Ye["".concat(t,"s")]=Ye[t]}));var Qe=function(t){return"L".concat(isNaN(t[0])?0:t[0],",").concat(isNaN(t[1])?0:t[1])};function tn(){var t=this;this._id=null,this.objects=[],this.fields={x:null,y:null},this.scales={x:"x",y:"y"},this._classNames=[],this.interpolationFunction=Ke,this.attrs=[],this.id=function(e){return ze(e)?t._id:(t._id=e||t._id,t.g&&t.g.setAttribute("id",t._id),t)},this.class=function(e){if(ze(e))return t._classNames;var n=e.split(" ");return t._classNames=[].concat(Ze(t._classNames.filter((function(t){return t!==e}))),Ze(n)),t.g&&n.forEach((function(e){return t.g.classList.add(e)})),t},this.hasData=function(){return Ge(t)};var e=function(e,n){ze(n)||(t.scales[e]=n)};return this.x=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x";return ze(n)?t.scales.x:(e("x",n),t)},this.y=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";return ze(n)?t.scale.y:(e("y",n),t)},this}function en(){var t=this;tn.call(this),this.type="stack",this._grouped=1,this._groupIndex=0,this._orientation="bottom",this._dataMap={x:{},y:{}},this.orientation=function(e){if(ze(e))return t._orientation;return t._orientation=["bottom","left"].indexOf(e)>-1?e:t._orientation,t},this.add=function(e){e._stacked=t,Ve.call(t,e);var n=e.data;return e.data=function(r,i){return ze(r)||(r=r.map((function(e){t._dataMap.x[e.x]||(t._dataMap.x[e.x]={x:e.x,values:[]}),t._dataMap.x[e.x].values.push(e);var n=ze(t._dataMap.x[e.x].y0)?null:t._dataMap.x[e.x].y0;t._dataMap.x[e.x].y0="bottom"!==t._orientation?null:(n||0)+e.y,t._dataMap.y[e.y]||(t._dataMap.y[e.y]={y:e.y,values:[]}),t._dataMap.y[e.y].values.push(e);var r=ze(t._dataMap.y[e.y].x0)?null:t._dataMap.y[e.y].x0;return t._dataMap.y[e.y].x0="left"!==t._orientation?null:(r||0)+e.x,Object.assign({},e,{stacked_y:(n||0)+e.y,y0:n,stacked_x:(r||0)+e.x,x0:r})}))),n.call(e,r,i)},t},this.draw=function(){var e="group"===t.parentNode.type?t.parentNode.parentNode:t.parentNode;return t.objects.forEach((function(t){-1===e.objects.map((function(t){return t._id})).indexOf(t._id)&&e.add(t)})),t.objects.forEach((function(t){return t.draw()})),e}}function nn(){var t=this;tn.call(this),this.type="group",this.attr("width",1),this.width=function(e){return ze(e)?t.attr("width")():(t.attr("width",Math.min(Math.max(e,0),1)),t)},this.add=function(e){return Ve.call(t,e),e._groupIndex=t.objects.length-1,t.objects.forEach((function(e){e._group=t,e._grouped=t.objects.length})),t},this.draw=function(){return t.objects.forEach((function(e){-1===t.parentNode.objects.map((function(t){return t._id})).indexOf(e._id)&&t.parentNode.add(e)})),t.objects.forEach((function(t){return t.draw()})),t.parentNode}}function rn(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}tn.prototype=Object.create(function(){return new tn}.prototype),tn.prototype=Object.assign(tn.prototype,{node:function(t){return t?(this.root=t,this.currentNode=this.root,this):this.g||this.root},data:function(t,e){if(!t)return Ge(this)?this._data||[]:this;if(!Ge(this))return this;if("function"==typeof arguments[0])return this._accessor=arguments[0],this;this._orginalData=t;var n=e||this._accessor;return this._accessor=n,this._data=n?t.map((function(t,e,r){return t instanceof Object?Object.assign({},t,n(t,e,r)):n(t,e,r)})):t,this},add:Ve,parent:function(t){return t?(this.parentNode=t,this):this.parentNode},accessor:function(){return this._accessor},render:function(t){var e;return this.g=(e="g",document.createElementNS("http://www.w3.org/2000/svg",e)),this._id&&this.g.setAttribute("id",this._id),Ge(this)&&t?"stack"===t.type||"group"===t.group?t.g.prepend(this.g):t.g.append(this.g):this.currentNode.append(this.g),this.update(),this.parentNode},update:function(){this.parentNode.scales.x[this.scales.x]&&this.parentNode.scales.y[this.scales.y]&&this.draw()},curve:function(t){return ze(t)?this.interpolationFunction:(this.interpolationFunction=t,this)},attr:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t};return ze(t)?(console.warn("name missing: attr method requires a name for the attribute"),this):ze(e)?this.attrs[t]:(this.attrs[t]="function"==typeof e?n(e):function(){return n(e)},this)}}),en.prototype=Object.create(tn.prototype),en.prototype.constructor=en,en.parent=tn.prototype,en.prototype=Object.assign(en.prototype,{}),nn.prototype=Object.create(tn.prototype),nn.prototype.constructor=nn,nn.parent=tn.prototype,nn.prototype=Object.assign(nn.prototype,{});function an(t){return null===t||null==t||void 0===t}function on(t){if(this._lineStyle=t,!t)return this.strokeStyle;if("function"==typeof t);else switch(t){case"dashed":this.strokeStyle="".concat(4*this.strokeWidth," ").concat(4*this.strokeWidth);break;case"dotted":this.strokeStyle="".concat(this.strokeWidth," ").concat(this.strokeWidth);break;case"solid":default:this.strokeStyle=null}return this}function sn(t){return this._filter=t,an(t)?(this.ticksFilter=function(){return!0},this):"function"==typeof t?(this.ticksFilter=function(e,n,r){return t(e,n,r)},this):"boolean"==typeof t?(this.ticksFilter=function(){return t},this):Number.isFinite(t)?(this.ticksFilter=function(e){return t===e},this):Array.isArray(t)?(this.ticksFilter=function(e){return t.indexOf(e)>-1},this):this}function cn(t){sn.call(this,t);var e=this.ticksFilter;return this.ticksFilter=function(t,n,r){return!e(t,n,r)},this}var un="#000";function ln(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=arguments.length>2?arguments[2]:void 0;tn.call(this),this.type="grid",this.name=r||t,this.strokeWidth=1,this.stroke=un,this.showMinorTicks=!1,this.ticksFilter=null,this._interval=null;var i=function(t,e,n,r){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];t.style.display=i?"block":"none",t.setAttribute("x1",e),t.setAttribute("x2",e),t.setAttribute("y1",n),t.setAttribute("y2",r)},a=function(t,e,n,r){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];t.style.display=i?"block":"none",t.setAttribute("x1",n),t.setAttribute("x2",r),t.setAttribute("y1",e),t.setAttribute("y2",e)};this.draw=function(){if(e.parentNode.scales[t][e.name]){var r=e.parentNode.scales[t][e.name],o=e.parentNode,s=o._margins,c=o.width,u=o.height,l=r.isLog(),h=e._interval,d=e.parentNode.getAxis(t);d&&(h=d.interval());var f=r.ticks(2*n,h).map((function(n,i,a){n.position=r(n.value);var o=n.position>=s.top&&n.position<=u-s.bottom;return"x"===t&&(o=n.position>=s.left&&n.position<=c-s.right),o=(o=o&&(e.showMinorTicks||n.isZero&&e.showZero||!n.isMinor))&&(!l||l&&!n.isMinor),e.ticksFilter&&(o=o&&e.ticksFilter(n.value,i,a)),n.visible=o,n}));return e.g.setAttribute("id","".concat(t,"Grid-").concat(e.id())),e.g.querySelectorAll("line").forEach((function(t){return t.setAttribute("toBeHidden",!0)})),f.forEach((function(n){var o=e.g.querySelector("[data-id='gridLine-".concat(t,"-").concat(n.value,"']"));o||((o=rn("line")).setAttribute("data-id","gridLine-".concat(t,"-").concat(n.value)),n.isMinor&&o.classList.add("tick-minor"),e.g.appendChild(o)),o.setAttribute("stroke",e.stroke),o.setAttribute("stroke-width",e.strokeWidth),o.setAttribute("shape-rendering","crispEdges"),an(e.strokeStyle)||o.setAttribute("stroke-dasharray",e.strokeStyle),o.removeAttribute("toBeHidden");var l=r(n.value);"x"===t&&i(o,l,u-s.bottom,s.top,n.visible),"y"===t&&a(o,l,s.left,c-s.right,n.visible)})),e.g.querySelectorAll("line[toBeHidden=true]").forEach((function(t){return t.remove()})),e.parentNode}},this.solid=function(){return on.call(e,"solid")},this.dashed=function(){return on.call(e,"dashed")},this.dotted=function(){return on.call(e,"dotted")}}function hn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dn(t){return function(t){if(Array.isArray(t))return fn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return fn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fn(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pn(t){return null===t||null==t||void 0===t}function yn(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}ln.prototype=Object.create(tn.prototype),ln.prototype.constructor=ln,ln.parent=tn.prototype,ln.prototype=Object.assign(ln.prototype,{width:function(t){return t?("function"==typeof t||(this.strokeWidth=t),this):this.strokeWidth},color:function(t){return t?("function"==typeof t||(this.stroke=t),this):this.stroke},minor:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return"function"==typeof t||(this.showMinorTicks=t),this},firstTick:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?sn.call(this,(function(t,e){return 0===e})):cn.call(this,(function(t,e){return 0===e})),this},lastTick:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?sn.call(this,(function(t,e,n){return e===n.length-1})):cn.call(this,(function(t,e,n){return e===n.length-1})),this},filter:sn});function gn(){var t=this;pe.call(this),this.type="series",this._area=!1,this._stacked=null,this._sortedData=!0;var e="x",n="y",r="x0",i="y0";this.strokeWidth=1,this.stroke="#000",this.strokeOpacity=1,this._fill="#000",this._fillOpacity=1,this.paths=[],this.areaPaths=[],this._classNames=["chrt-line"],this.draw=function(){var a=t._data.length?t._data:t.parentNode._data;if(t._classNames.forEach((function(e){return t.g.classList.add(e)})),pn(t.fields[e])&&(t.fields[e]=t.parentNode.scales[e][t.scales[e]].field),pn(t.fields[n])&&(t.fields[n]=t.parentNode.scales[n][t.scales[n]].field),pn(t.fields[i])&&(t.fields[i]="".concat(t.parentNode.scales[n][t.scales[n]].field,"0")),!pn(a)){var o=t.parentNode.scales[n][t.scales[n]].domain,s=t.parentNode.scales[e][t.scales[e]].domain,c=0;switch(t._area){case"left":c=s[0]<0||s[1]<0?0:Math.min.apply(Math,dn(s));break;case"right":c=s[0]<0||s[1]<0?0:Math.max.apply(Math,dn(s));break;case"top":c=o[0]<0||o[1]<0?0:Math.max.apply(Math,dn(o));break;case"bottom":default:c=o[0]<0||o[1]<0?0:Math.min.apply(Math,dn(o))}c=pn(t._zero)?c:t._zero,t.hasCustomBaseline=t._area&&a.some((function(e){return!pn(e[t.fields[i]])}));var u=a.reduce((function(r,a){var o;if(pn(a[t.fields[n]]))return r.push([]),r;r.length||r.push([]);var s=t._stacked||t.hasCustomBaseline?(hn(o={},t.fields[e],a[t.fields[e]]),hn(o,t.fields[n],a[t.fields[n]]),hn(o,"x",a[t.fields[e]]),hn(o,"y",t._stacked?a["stacked_".concat(t.fields[n])]:a[t.fields[n]]),hn(o,"y0",pn(a[t.fields[i]])?c:a[t.fields[i]]),o):a;return r[r.length-1].push(s),r}),[]);if(t._sortedData){var l=t.parentNode.scales[e][t.scales[e]];u.forEach((function(n){n.sort((function(n,r){return"ordinal"===l.transformation?1*(l.domain.indexOf(n[t.fields[e]])-l.domain.indexOf(r[t.fields[e]])):1*(n[t.fields[e]]-r[t.fields[e]])}))}))}var h=u.filter((function(t){return 1===t.length}));(u=u.filter((function(t){return t.length>1}))).forEach((function(e,n){t.paths[n]||(t.paths[n]=yn("path"),t.paths[n].setAttribute("data-id","path-".concat(n)),t.g.appendChild(t.paths[n])),t._area&&!t.areaPaths[n]&&(t.areaPaths[n]=yn("path"),t.areaPaths[n].setAttribute("data-id","area-path-".concat(n)),t.g.appendChild(t.areaPaths[n]))}));var d=[];if(t._area){var f=["left","right"].indexOf(t._area)>-1;u.forEach((function(a){var o,s,u,l,h=t._stacked||t.hasCustomBaseline?dn(a).reverse().map((function(a){var o,s;return f?(hn(o={x:a[t.fields[r]],y:a[t.fields[n]]},t.fields[r],a[t.fields[r]]),hn(o,t.fields[n],a[t.fields[n]]),o):(hn(s={x:a[t.fields[e]],y:a[t.fields[i]]},t.fields[e],a[t.fields[e]]),hn(s,t.fields[i],a[t.fields[i]]),s)})):[f?(o={x:c,y:a[a.length-1][t.fields[n]]},hn(o,t.fields[e],c),hn(o,t.fields[n],a[a.length-1][t.fields[n]]),o):(s={x:a[a.length-1][t.fields[e]],y:c},hn(s,t.fields[e],a[a.length-1][t.fields[e]]),hn(s,t.fields[n],c),s),f?(u={x:c,y:a[0][t.fields[n]]},hn(u,t.fields[e],c),hn(u,t.fields[n],a[0][t.fields[n]]),u):(l={x:a[0][t.fields[e]],y:c},hn(l,t.fields[e],a[0][t.fields[e]]),hn(l,t.fields[n],c),l)];d.push(h)}))}t._area&&t.areaPaths.length>0&&d.forEach((function(e,n){var r=t.areaPaths[n],i=t.interpolationFunction([].concat(u[n],e));r.setAttribute("d",i.join("")),r.setAttribute("fill",t._fill),r.setAttribute("fill-opacity",t._fillOpacity),r.setAttribute("stroke","none")})),u.forEach((function(e,n){var r=t.interpolationFunction([].concat(e)),i=t.paths[n];i.setAttribute("d",r.join("")),i.setAttribute("stroke",t.stroke),i.setAttribute("stroke-width",t.strokeWidth),i.setAttribute("stroke-opacity",t.strokeOpacity),i.setAttribute("stroke-linejoin","round"),i.setAttribute("fill","none")})),h.forEach((function(r){var i=r.filter((function(e,r,i){return(pn(i[r-1])||pn(i[r-1][t.fields[n]]))&&!pn(e[t.fields[n]])&&(pn(i[r+1])||pn(i[r+1][t.fields[n]]))}));t.points||(t.points=[],i.forEach((function(e){var n=yn("circle");t.points.push({circle:n,point:e}),t.g.appendChild(n)}))),t.points.forEach((function(r){r.circle.setAttribute("cx",t.parentNode.scales[e][t.scales[e]](r.point[t.fields[e]])),r.circle.setAttribute("cy",t.parentNode.scales[n][t.scales[n]](r.point[t.fields[n]])),r.circle.setAttribute("fill",t.stroke),r.circle.setAttribute("r",t.strokeWidth)}))}))}return t.objects.forEach((function(t){return t.draw()})),t.parentNode}}gn.prototype=Object.create(pe.prototype),gn.prototype.constructor=gn,gn.parent=pe.prototype,gn.prototype=Object.assign(gn.prototype,{width:function(t){return pn(t)?this.strokeWidth:("function"==typeof t||(this.strokeWidth=t),this)},color:function(t){return pn(t)?this.stroke:("function"==typeof t||(this.stroke=t),this)},opacity:function(t){return pn(t)?this.strokeOpacity:("function"==typeof t||(this.strokeOpacity=t),this)},area:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"bottom";return"function"==typeof t||(this._area=t),this},fill:function(t){return pn(t)?this._fill:("function"==typeof t||(this._fill=t),this)},fillOpacity:function(t){return pn(t)?this._fillOpacity:("function"==typeof t||(this._fillOpacity=t),this)},zero:function(t){return pn(t)?this._zero:("function"==typeof t||(this._zero=t),this)},sort:function(t){return pn(t)?this._sortedData:("function"==typeof t||(this._sortedData=t),this)}}),Math.log10=Math.log10||function(t){return Math.log(t)*Math.LOG10E};var mn=["chrt","series"];function bn(t){return null===t||null==t||void 0===t}function vn(){return"c"+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function _n(t){return!bn(t.type)&&mn.indexOf(t.type)>-1}function xn(t){return function(t){if(Array.isArray(t))return Nn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Nn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nn(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var kn={second:1e3,minute:6e4};kn.hour=60*kn.minute,kn.day=24*kn.hour,Object.keys(kn).forEach((function(t){return kn["".concat(t,"s")]=kn[t]}));var wn={bidiurnal:2*kn.day,week:7*kn.day,fortnight:14*kn.day,month:30*kn.day,year:365*kn.day};function An(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t._id||vn();return t.id(n).parent(this),e?this.objects=[t].concat(xn(this.objects)):this.objects.push(t),this}function Mn(t){var e,n,r,i,a=this;return e=t.map((function(t){return[a.parentNode.scales.x[a.scales.x](t[a.fields.x]),bn(t[a.fields.y])||(e=t[a.fields.y],"string"!=typeof e&&!isFinite(e))?null:a.parentNode.scales.y[a.scales.y](t[a.fields.y])];var e})),n=jn,i=e.reduce((function(t,e){return bn(e[1])?t.push([]):t[t.length-1].push(e),t}),[[]]).map((function(t){return t.reduce((function(t,e,r,i){return t.push(0===r?"M".concat(isNaN(e[0])?0:e[0],",").concat(isNaN(e[1])?0:e[1]):"".concat(n(e,r,i))),t}),[])})),(r=[]).concat.apply(r,xn(i))}Object.keys(wn).forEach((function(t){return wn["".concat(t,"s")]=wn[t]}));var jn=function(t){return"L".concat(isNaN(t[0])?0:t[0],",").concat(isNaN(t[1])?0:t[1])};function On(){var t=this;this._id=null,this.objects=[],this.fields={x:null,y:null},this.scales={x:"x",y:"y"},this._classNames=[],this.interpolationFunction=Mn,this.attrs=[],this.id=function(e){return bn(e)?t._id:(t._id=e||t._id,t.g&&t.g.setAttribute("id",t._id),t)},this.class=function(e){if(bn(e))return t._classNames;var n=e.split(" ");return t._classNames=[].concat(xn(t._classNames.filter((function(t){return t!==e}))),xn(n)),t.g&&n.forEach((function(e){return t.g.classList.add(e)})),t},this.hasData=function(){return _n(t)};var e=function(e,n){bn(n)||(t.scales[e]=n)};return this.x=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x";return bn(n)?t.scales.x:(e("x",n),t)},this.y=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";return bn(n)?t.scale.y:(e("y",n),t)},this}function En(){var t=this;On.call(this),this.type="stack",this._grouped=1,this._groupIndex=0,this._orientation="bottom",this._dataMap={x:{},y:{}},this.orientation=function(e){if(bn(e))return t._orientation;return t._orientation=["bottom","left"].indexOf(e)>-1?e:t._orientation,t},this.add=function(e){e._stacked=t,An.call(t,e);var n=e.data;return e.data=function(r,i){return bn(r)||(r=r.map((function(e){t._dataMap.x[e.x]||(t._dataMap.x[e.x]={x:e.x,values:[]}),t._dataMap.x[e.x].values.push(e);var n=bn(t._dataMap.x[e.x].y0)?null:t._dataMap.x[e.x].y0;t._dataMap.x[e.x].y0="bottom"!==t._orientation?null:(n||0)+e.y,t._dataMap.y[e.y]||(t._dataMap.y[e.y]={y:e.y,values:[]}),t._dataMap.y[e.y].values.push(e);var r=bn(t._dataMap.y[e.y].x0)?null:t._dataMap.y[e.y].x0;return t._dataMap.y[e.y].x0="left"!==t._orientation?null:(r||0)+e.x,Object.assign({},e,{stacked_y:(n||0)+e.y,y0:n,stacked_x:(r||0)+e.x,x0:r})}))),n.call(e,r,i)},t},this.draw=function(){var e="group"===t.parentNode.type?t.parentNode.parentNode:t.parentNode;return t.objects.forEach((function(t){-1===e.objects.map((function(t){return t._id})).indexOf(t._id)&&e.add(t)})),t.objects.forEach((function(t){return t.draw()})),e}}function Sn(){var t=this;On.call(this),this.type="group",this.attr("width",1),this.width=function(e){return bn(e)?t.attr("width")():(t.attr("width",Math.min(Math.max(e,0),1)),t)},this.add=function(e){return An.call(t,e),e._groupIndex=t.objects.length-1,t.objects.forEach((function(e){e._group=t,e._grouped=t.objects.length})),t},this.draw=function(){return t.objects.forEach((function(e){-1===t.parentNode.objects.map((function(t){return t._id})).indexOf(e._id)&&t.parentNode.add(e)})),t.objects.forEach((function(t){return t.draw()})),t.parentNode}}function Ln(t){return null===t||null==t||void 0===t}function Fn(t){return!isFinite(t)}function Cn(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Dn(t){return this.attr("strokeWidth",t,(function(t){return Math.max(0,t)}))}function Tn(t){return this.attr("stroke",t)}function In(t){return this.attr("fill",t)}function $n(t){return this.attr("barRatioWidth",t,(function(t){return Math.max(0,Math.min(t,1))}))}On.prototype=Object.create(function(){return new On}.prototype),On.prototype=Object.assign(On.prototype,{node:function(t){return t?(this.root=t,this.currentNode=this.root,this):this.g||this.root},data:function(t,e){if(!t)return _n(this)?this._data||[]:this;if(!_n(this))return this;if("function"==typeof arguments[0])return this._accessor=arguments[0],this;this._orginalData=t;var n=e||this._accessor;return this._accessor=n,this._data=n?t.map((function(t,e,r){return t instanceof Object?Object.assign({},t,n(t,e,r)):n(t,e,r)})):t,this},add:An,parent:function(t){return t?(this.parentNode=t,this):this.parentNode},accessor:function(){return this._accessor},render:function(t){var e;return this.g=(e="g",document.createElementNS("http://www.w3.org/2000/svg",e)),this._id&&this.g.setAttribute("id",this._id),_n(this)&&t?"stack"===t.type||"group"===t.group?t.g.prepend(this.g):t.g.append(this.g):this.currentNode.append(this.g),this.update(),this.parentNode},update:function(){this.parentNode.scales.x[this.scales.x]&&this.parentNode.scales.y[this.scales.y]&&this.draw()},curve:function(t){return bn(t)?this.interpolationFunction:(this.interpolationFunction=t,this)},attr:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t};return bn(t)?(console.warn("name missing: attr method requires a name for the attribute"),this):bn(e)?this.attrs[t]:(this.attrs[t]="function"==typeof e?n(e):function(){return n(e)},this)}}),En.prototype=Object.create(On.prototype),En.prototype.constructor=En,En.parent=On.prototype,En.prototype=Object.assign(En.prototype,{}),Sn.prototype=Object.create(On.prototype),Sn.prototype.constructor=Sn,Sn.parent=On.prototype,Sn.prototype=Object.assign(Sn.prototype,{});function Pn(){var t=this;On.call(this),this.type="series",this._stacked=null,this._grouped=1,this._groupIndex=0;var e=3;this.attr("barRatioWidth",1),this.attr("stroke","#000"),this.attr("fill","#ddd"),this.attr("strokeWidth",0),this._classNames=["chrt-bars"],this.getXScale=function(){return Ln(t.fields.x)&&(t.fields.x=t.parentNode.scales.x[t.scales.x].field),t.parentNode.scales.x[t.scales.x]},this.barWidth=function(){return e},this.draw=function(){var n=t.parentNode,r=n._margins,i=n.scales;t._classNames.forEach((function(e){return t.g.classList.add(e)})),Ln(t.fields.y)&&(t.fields.y=i.y[t.scales.y].field),Ln(t.fields.x)&&(t.fields.x=i.x[t.scales.x].field),Ln(t.fields.x0)&&(t.fields.x0="".concat(i.x[t.scales.x].field,"0"));var a=i.x[t.scales.x],o=i.y[t.scales.y],s=t._data.length?t._data:t.parentNode._data;if(!Ln(s)){e=s.reduce((function(e,n,r,i){var a=i[r+1];if(!(Ln(n)||Ln(n[t.fields.y])||Ln(a)||Ln(a[t.fields.y]))){var s=o(n[t.fields.y]),c=o(a[t.fields.y]),u=Math.abs(c-s);e=u<e?u:e}return e}),Math.abs(o.barwidth));var c=Math.floor(e)||e||0;(isNaN(c)||Fn(c))&&(c=1),c*=t._group?t._group.width():1;var u=t._stacked?t._stacked._grouped:t._grouped||t._grouped,l=t._stacked?t._stacked._groupIndex:t._groupIndex||t._groupIndex;e=c/u*t.attr("barRatioWidth")(),t.g.setAttribute("transform","translate(0, ".concat(c/u*l+c/u/2-c/2,")"));var h=t.parentNode.getAxis("y"),d=h?h.width():0;s.forEach((function(n,i,s){var c=t.g.querySelector("[data-id='rect-".concat(name,"-").concat(i,"']"));c||((c=Cn("rect")).setAttribute("data-id","rect-".concat(name,"-").concat(i)),t.g.appendChild(c));var u=o(n[t.fields.y])-e/2;if(!isNaN(u)){var l=a(n[t._stacked?"stacked_".concat(t.fields.x):t.fields.x]),h=Ln(n[t.fields.x0])?null:a.isLog()?a.range[0]+r.left:a(n[t.fields.x0]);Ln(h)&&(h=a.isLog()?a.range[0]+r.left:a(0)),h=Ln(n[t.fields.x0])?a(a.domain[0]):a(n[t.fields.x0]),c.setAttribute("x",h),c.setAttribute("y",u),c.setAttribute("width",Math.max(Math.abs(l-h),Math.abs(l-h)-d/2)),c.setAttribute("height",e),c.setAttribute("fill",t.attr("fill")(n,i,s)),c.setAttribute("stroke",t.attr("stroke")(n,i,s)),c.setAttribute("stroke-width",t.attr("strokeWidth")(n,i,s))}}))}return t.objects.forEach((function(t){return t.draw()})),t.parentNode}}Pn.prototype=Object.create(On.prototype),Pn.prototype.constructor=Pn,Pn.parent=On.prototype,Pn.prototype=Object.assign(Pn.prototype,{width:$n,strokeWidth:Dn,color:Tn,fill:In});function Wn(){var t=this;On.call(this),this.type="series",this._stacked=null,this._grouped=1,this._groupIndex=0;var e=3;this.attr("barRatioWidth",1),this.attr("stroke","#000"),this.attr("fill","#ddd"),this.attr("strokeWidth",0),this._classNames=["chrt-columns"],this.getXScale=function(){return Ln(t.fields.x)&&(t.fields.x=t.parentNode.scales.x[t.scales.x].field),t.parentNode.scales.x[t.scales.x]},this.draw=function(){var n=t.parentNode,r=n._margins,i=n.scales;t._classNames.forEach((function(e){return t.g.classList.add(e)})),Ln(t.fields.x)&&(t.fields.x=i.x[t.scales.x].field),Ln(t.fields.y)&&(t.fields.y=i.y[t.scales.y].field),Ln(t.fields.y0)&&(t.fields.y0="".concat(i.y[t.scales.y].field,"0"));var a=i.x[t.scales.x],o=i.y[t.scales.y],s=t._data.length?t._data:t.parentNode._data;if(!Ln(s)){e=s.reduce((function(e,n,r,i){var o=i[r+1];if(!(Ln(n)||Ln(n[t.fields.x])||Ln(o)||Ln(o[t.fields.x]))){var s=a(n[t.fields.x]),c=a(o[t.fields.x]),u=Math.abs(c-s);e=u<e?u:e}return e}),a.barwidth);var c=Math.floor(e)||e||0;(isNaN(c)||Fn(c))&&(c=1),c*=t._group?t._group.width():1;var u=t._stacked?t._stacked._grouped:t._grouped||t._grouped,l=t._stacked?t._stacked._groupIndex:t._groupIndex||t._groupIndex;e=c/u*t.attr("barRatioWidth")();var h=c/u*l+c/u/2-c/2;t.g.setAttribute("transform","translate(".concat(h,", 0)"));var d=t.parentNode.getAxis("x"),f=d?d.width():0;s.forEach((function(n,i,s){var c=t.g.querySelector("[data-id='rect-".concat(name,"-").concat(i,"']"));c||((c=Cn("rect")).setAttribute("data-id","rect-".concat(name,"-").concat(i)),t.g.appendChild(c));var u=a(n[t.fields.x])-e/2;if(!isNaN(u)){var l=o(n[t._stacked?"stacked_".concat(t.fields.y):t.fields.y]),h=Ln(n[t.fields.y0])?null:o(n[t.fields.y0]);Ln(h)&&(h=o.isLog()?o.range[0]-r.bottom:o(0)),c.setAttribute("x",u),c.setAttribute("y",l>h?h:l),c.setAttribute("width",e),c.setAttribute("height",Math.max(Math.abs(l-h),Math.abs(l-h)-f/2)),c.setAttribute("fill",t.attr("fill")(n,i,s)),c.setAttribute("stroke",t.attr("stroke")(n,i,s)),c.setAttribute("stroke-width",t.attr("strokeWidth")(n,i,s))}}))}return t.objects.forEach((function(t){return t.draw()})),t.parentNode}}Wn.prototype=Object.create(On.prototype),Wn.prototype.constructor=Wn,Wn.parent=On.prototype,Wn.prototype=Object.assign(Wn.prototype,{width:$n,strokeWidth:Dn,color:Tn,fill:In}),Math.log10=Math.log10||function(t){return Math.log(t)*Math.LOG10E};var qn=["chrt","series"];function Rn(t){return null===t||null==t||void 0===t}function Un(){return"c"+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function Bn(t){return!Rn(t.type)&&qn.indexOf(t.type)>-1}function zn(t){return function(t){if(Array.isArray(t))return Hn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Hn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hn(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Gn={second:1e3,minute:6e4};Gn.hour=60*Gn.minute,Gn.day=24*Gn.hour,Object.keys(Gn).forEach((function(t){return Gn["".concat(t,"s")]=Gn[t]}));var Zn={bidiurnal:2*Gn.day,week:7*Gn.day,fortnight:14*Gn.day,month:30*Gn.day,year:365*Gn.day};function Jn(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t._id||Un();return t.id(n).parent(this),e?this.objects=[t].concat(zn(this.objects)):this.objects.push(t),this}function Xn(t){var e,n,r,i,a=this;return e=t.map((function(t){return[a.parentNode.scales.x[a.scales.x](t[a.fields.x]),Rn(t[a.fields.y])||(e=t[a.fields.y],"string"!=typeof e&&!isFinite(e))?null:a.parentNode.scales.y[a.scales.y](t[a.fields.y])];var e})),n=Yn,i=e.reduce((function(t,e){return Rn(e[1])?t.push([]):t[t.length-1].push(e),t}),[[]]).map((function(t){return t.reduce((function(t,e,r,i){return t.push(0===r?"M".concat(isNaN(e[0])?0:e[0],",").concat(isNaN(e[1])?0:e[1]):"".concat(n(e,r,i))),t}),[])})),(r=[]).concat.apply(r,zn(i))}Object.keys(Zn).forEach((function(t){return Zn["".concat(t,"s")]=Zn[t]}));var Yn=function(t){return"L".concat(isNaN(t[0])?0:t[0],",").concat(isNaN(t[1])?0:t[1])};function Vn(){var t=this;this._id=null,this.objects=[],this.fields={x:null,y:null},this.scales={x:"x",y:"y"},this._classNames=[],this.interpolationFunction=Xn,this.attrs=[],this.id=function(e){return Rn(e)?t._id:(t._id=e||t._id,t.g&&t.g.setAttribute("id",t._id),t)},this.class=function(e){if(Rn(e))return t._classNames;var n=e.split(" ");return t._classNames=[].concat(zn(t._classNames.filter((function(t){return t!==e}))),zn(n)),t.g&&n.forEach((function(e){return t.g.classList.add(e)})),t},this.hasData=function(){return Bn(t)};var e=function(e,n){Rn(n)||(t.scales[e]=n)};return this.x=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x";return Rn(n)?t.scales.x:(e("x",n),t)},this.y=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";return Rn(n)?t.scale.y:(e("y",n),t)},this}function Kn(){var t=this;Vn.call(this),this.type="stack",this._grouped=1,this._groupIndex=0,this._orientation="bottom",this._dataMap={x:{},y:{}},this.orientation=function(e){if(Rn(e))return t._orientation;return t._orientation=["bottom","left"].indexOf(e)>-1?e:t._orientation,t},this.add=function(e){e._stacked=t,Jn.call(t,e);var n=e.data;return e.data=function(r,i){return Rn(r)||(r=r.map((function(e){t._dataMap.x[e.x]||(t._dataMap.x[e.x]={x:e.x,values:[]}),t._dataMap.x[e.x].values.push(e);var n=Rn(t._dataMap.x[e.x].y0)?null:t._dataMap.x[e.x].y0;t._dataMap.x[e.x].y0="bottom"!==t._orientation?null:(n||0)+e.y,t._dataMap.y[e.y]||(t._dataMap.y[e.y]={y:e.y,values:[]}),t._dataMap.y[e.y].values.push(e);var r=Rn(t._dataMap.y[e.y].x0)?null:t._dataMap.y[e.y].x0;return t._dataMap.y[e.y].x0="left"!==t._orientation?null:(r||0)+e.x,Object.assign({},e,{stacked_y:(n||0)+e.y,y0:n,stacked_x:(r||0)+e.x,x0:r})}))),n.call(e,r,i)},t},this.draw=function(){var e="group"===t.parentNode.type?t.parentNode.parentNode:t.parentNode;return t.objects.forEach((function(t){-1===e.objects.map((function(t){return t._id})).indexOf(t._id)&&e.add(t)})),t.objects.forEach((function(t){return t.draw()})),e}}function Qn(){var t=this;Vn.call(this),this.type="group",this.attr("width",1),this.width=function(e){return Rn(e)?t.attr("width")():(t.attr("width",Math.min(Math.max(e,0),1)),t)},this.add=function(e){return Jn.call(t,e),e._groupIndex=t.objects.length-1,t.objects.forEach((function(e){e._group=t,e._grouped=t.objects.length})),t},this.draw=function(){return t.objects.forEach((function(e){-1===t.parentNode.objects.map((function(t){return t._id})).indexOf(e._id)&&t.parentNode.add(e)})),t.objects.forEach((function(t){return t.draw()})),t.parentNode}}function tr(t){return null===t||null==t||void 0===t}function er(t){return this.attr("radius",t)}function nr(t){return this.attr("strokeWidth",t)}Vn.prototype=Object.create(function(){return new Vn}.prototype),Vn.prototype=Object.assign(Vn.prototype,{node:function(t){return t?(this.root=t,this.currentNode=this.root,this):this.g||this.root},data:function(t,e){if(!t)return Bn(this)?this._data||[]:this;if(!Bn(this))return this;if("function"==typeof arguments[0])return this._accessor=arguments[0],this;this._orginalData=t;var n=e||this._accessor;return this._accessor=n,this._data=n?t.map((function(t,e,r){return t instanceof Object?Object.assign({},t,n(t,e,r)):n(t,e,r)})):t,this},add:Jn,parent:function(t){return t?(this.parentNode=t,this):this.parentNode},accessor:function(){return this._accessor},render:function(t){var e;return this.g=(e="g",document.createElementNS("http://www.w3.org/2000/svg",e)),this._id&&this.g.setAttribute("id",this._id),Bn(this)&&t?"stack"===t.type||"group"===t.group?t.g.prepend(this.g):t.g.append(this.g):this.currentNode.append(this.g),this.update(),this.parentNode},update:function(){this.parentNode.scales.x[this.scales.x]&&this.parentNode.scales.y[this.scales.y]&&this.draw()},curve:function(t){return Rn(t)?this.interpolationFunction:(this.interpolationFunction=t,this)},attr:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t};return Rn(t)?(console.warn("name missing: attr method requires a name for the attribute"),this):Rn(e)?this.attrs[t]:(this.attrs[t]="function"==typeof e?n(e):function(){return n(e)},this)}}),Kn.prototype=Object.create(Vn.prototype),Kn.prototype.constructor=Kn,Kn.parent=Vn.prototype,Kn.prototype=Object.assign(Kn.prototype,{}),Qn.prototype=Object.create(Vn.prototype),Qn.prototype.constructor=Qn,Qn.parent=Vn.prototype,Qn.prototype=Object.assign(Qn.prototype,{});var rr="#000";function ir(){var t=this;Vn.call(this),this.type="series",this.attr("radius",3),this.attr("stroke",rr),this.attr("fill",rr),this.attr("strokeWidth",0),this.attr("strokeOpacity",1),this.attr("fillOpacity",1),this._classNames=["chrt-points"],this.draw=function(){return t._classNames.forEach((function(e){return t.g.classList.add(e)})),tr(t._data)||(tr(t.fields.x)&&(t.fields.x=t.parentNode.scales.x[t.scales.x].field),tr(t.fields.y)&&(t.fields.y=t.parentNode.scales.y[t.scales.y].field),t._data.forEach((function(e,n,r){var i,a=t.g.querySelector("[data-id='circle-".concat(name,"-").concat(n,"']"));if(a||(i="circle",(a=document.createElementNS("http://www.w3.org/2000/svg",i)).setAttribute("data-id","circle-".concat(name,"-").concat(n)),t.g.appendChild(a)),!tr(t.parentNode.scales.x[t.scales.x])&&!tr(t.parentNode.scales.y[t.scales.y])){var o=t.parentNode.scales.x[t.scales.x](e[t.fields.x]),s=t.parentNode.scales.y[t.scales.y](e[t.fields.y]);a.setAttribute("cx",isNaN(o)?0:o),a.setAttribute("cy",isNaN(s)?0:s),a.setAttribute("r",t.attr("radius")(e,n,r)),a.setAttribute("fill",t.attr("fill")(e,n,r)),a.setAttribute("fill-opacity",t.attr("fillOpacity")(e,n,r)||1),a.setAttribute("stroke",t.attr("stroke")(e,n,r)),a.setAttribute("stroke-width",t.attr("strokeWidth")(e,n,r)),a.setAttribute("stroke-opacity",t.attr("strokeOpacity")(e,n,r))}}))),t.parentNode}}ir.prototype=Object.create(Vn.prototype),ir.prototype.constructor=ir,ir.parent=Vn.prototype,ir.prototype=Object.assign(ir.prototype,{pointSize:er,size:er,radius:er,color:function(t){return this.attr("fill",t)},stroke:function(t){return this.attr("stroke",t)},width:nr,strokeWidth:nr,opacity:function(t){return this.attr("fillOpacity",t)},strokeOpacity:function(t){return this.attr("strokeOpacity",t)}}),Math.log10=Math.log10||function(t){return Math.log(t)*Math.LOG10E};var ar=["chrt","series"];function or(t){return null===t||null==t||void 0===t}function sr(){return"c"+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function cr(t){return!or(t.type)&&ar.indexOf(t.type)>-1}function ur(t){return function(t){if(Array.isArray(t))return lr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return lr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lr(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var hr={second:1e3,minute:6e4};hr.hour=60*hr.minute,hr.day=24*hr.hour,Object.keys(hr).forEach((function(t){return hr["".concat(t,"s")]=hr[t]}));var dr={bidiurnal:2*hr.day,week:7*hr.day,fortnight:14*hr.day,month:30*hr.day,year:365*hr.day};function fr(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t._id||sr();return t.id(n).parent(this),e?this.objects=[t].concat(ur(this.objects)):this.objects.push(t),this}function pr(t){var e,n,r,i,a=this;return e=t.map((function(t){return[a.parentNode.scales.x[a.scales.x](t[a.fields.x]),or(t[a.fields.y])||(e=t[a.fields.y],"string"!=typeof e&&!isFinite(e))?null:a.parentNode.scales.y[a.scales.y](t[a.fields.y])];var e})),n=yr,i=e.reduce((function(t,e){return or(e[1])?t.push([]):t[t.length-1].push(e),t}),[[]]).map((function(t){return t.reduce((function(t,e,r,i){return t.push(0===r?"M".concat(isNaN(e[0])?0:e[0],",").concat(isNaN(e[1])?0:e[1]):"".concat(n(e,r,i))),t}),[])})),(r=[]).concat.apply(r,ur(i))}Object.keys(dr).forEach((function(t){return dr["".concat(t,"s")]=dr[t]}));var yr=function(t){return"L".concat(isNaN(t[0])?0:t[0],",").concat(isNaN(t[1])?0:t[1])};function gr(){var t=this;this._id=null,this.objects=[],this.fields={x:null,y:null},this.scales={x:"x",y:"y"},this._classNames=[],this.interpolationFunction=pr,this.attrs=[],this.id=function(e){return or(e)?t._id:(t._id=e||t._id,t.g&&t.g.setAttribute("id",t._id),t)},this.class=function(e){if(or(e))return t._classNames;var n=e.split(" ");return t._classNames=[].concat(ur(t._classNames.filter((function(t){return t!==e}))),ur(n)),t.g&&n.forEach((function(e){return t.g.classList.add(e)})),t},this.hasData=function(){return cr(t)};var e=function(e,n){or(n)||(t.scales[e]=n)};return this.x=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x";return or(n)?t.scales.x:(e("x",n),t)},this.y=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";return or(n)?t.scale.y:(e("y",n),t)},this}function mr(){var t=this;gr.call(this),this.type="stack",this._grouped=1,this._groupIndex=0,this._orientation="bottom",this._dataMap={x:{},y:{}},this.orientation=function(e){if(or(e))return t._orientation;return t._orientation=["bottom","left"].indexOf(e)>-1?e:t._orientation,t},this.add=function(e){e._stacked=t,fr.call(t,e);var n=e.data;return e.data=function(r,i){return or(r)||(r=r.map((function(e){t._dataMap.x[e.x]||(t._dataMap.x[e.x]={x:e.x,values:[]}),t._dataMap.x[e.x].values.push(e);var n=or(t._dataMap.x[e.x].y0)?null:t._dataMap.x[e.x].y0;t._dataMap.x[e.x].y0="bottom"!==t._orientation?null:(n||0)+e.y,t._dataMap.y[e.y]||(t._dataMap.y[e.y]={y:e.y,values:[]}),t._dataMap.y[e.y].values.push(e);var r=or(t._dataMap.y[e.y].x0)?null:t._dataMap.y[e.y].x0;return t._dataMap.y[e.y].x0="left"!==t._orientation?null:(r||0)+e.x,Object.assign({},e,{stacked_y:(n||0)+e.y,y0:n,stacked_x:(r||0)+e.x,x0:r})}))),n.call(e,r,i)},t},this.draw=function(){var e="group"===t.parentNode.type?t.parentNode.parentNode:t.parentNode;return t.objects.forEach((function(t){-1===e.objects.map((function(t){return t._id})).indexOf(t._id)&&e.add(t)})),t.objects.forEach((function(t){return t.draw()})),e}}function br(){var t=this;gr.call(this),this.type="group",this.attr("width",1),this.width=function(e){return or(e)?t.attr("width")():(t.attr("width",Math.min(Math.max(e,0),1)),t)},this.add=function(e){return fr.call(t,e),e._groupIndex=t.objects.length-1,t.objects.forEach((function(e){e._group=t,e._grouped=t.objects.length})),t},this.draw=function(){return t.objects.forEach((function(e){-1===t.parentNode.objects.map((function(t){return t._id})).indexOf(e._id)&&t.parentNode.add(e)})),t.objects.forEach((function(t){return t.draw()})),t.parentNode}}function vr(t){return null===t||null==t||void 0===t}function _r(t){return vr(t)?this._position:("function"==typeof t||(this._position=Object.assign({},this._position,t)),this)}function xr(t){return vr(t)?this._alignment:("function"==typeof coords||(this._alignment=Object.assign({},this._alignment,t)),this)}function Nr(t){if(vr(t))return this._alignment.vertical;var e=this._alignment.vertical;switch(t){case"top":e="-0.7em";break;case"bottom":e="1em";break;case"middle":default:e="0.25em"}return this._vposition=t,xr.call(this,{vertical:e})}function kr(t){if(vr(t))return this._alignment.horizontal;var e=this._alignment.horizontal;switch(t){case"end":case"right":this._alignment.horizontal="end",e="end";break;case"middle":case"center":this._alignment.horizontal="middle",e="middle";break;case"left":default:e="start"}return this._hposition=t,xr.call(this,{horizontal:e})}function wr(t){return this.attr("outside",t)}function Ar(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}gr.prototype=Object.create(function(){return new gr}.prototype),gr.prototype=Object.assign(gr.prototype,{node:function(t){return t?(this.root=t,this.currentNode=this.root,this):this.g||this.root},data:function(t,e){if(!t)return cr(this)?this._data||[]:this;if(!cr(this))return this;if("function"==typeof arguments[0])return this._accessor=arguments[0],this;this._orginalData=t;var n=e||this._accessor;return this._accessor=n,this._data=n?t.map((function(t,e,r){return t instanceof Object?Object.assign({},t,n(t,e,r)):n(t,e,r)})):t,this},add:fr,parent:function(t){return t?(this.parentNode=t,this):this.parentNode},accessor:function(){return this._accessor},render:function(t){var e;return this.g=(e="g",document.createElementNS("http://www.w3.org/2000/svg",e)),this._id&&this.g.setAttribute("id",this._id),cr(this)&&t?"stack"===t.type||"group"===t.group?t.g.prepend(this.g):t.g.append(this.g):this.currentNode.append(this.g),this.update(),this.parentNode},update:function(){this.parentNode.scales.x[this.scales.x]&&this.parentNode.scales.y[this.scales.y]&&this.draw()},curve:function(t){return or(t)?this.interpolationFunction:(this.interpolationFunction=t,this)},attr:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t};return or(t)?(console.warn("name missing: attr method requires a name for the attribute"),this):or(e)?this.attrs[t]:(this.attrs[t]="function"==typeof e?n(e):function(){return n(e)},this)}}),mr.prototype=Object.create(gr.prototype),mr.prototype.constructor=mr,mr.parent=gr.prototype,mr.prototype=Object.assign(mr.prototype,{}),br.prototype=Object.create(gr.prototype),br.prototype.constructor=br,br.parent=gr.prototype,br.prototype=Object.assign(br.prototype,{});function Mr(t){var e=this;gr.call(this),this.type="label",this.g=null,this._fill=null,this._position={},this._alignment={horizontal:"start",vertical:"0.25em"},this._vposition="middle",this._hposition="start",this._margins={top:0,right:0,bottom:0,left:0},this._offsets=[function(){return 0},function(){return 0}],this._classNames=["chrt-label"],this.value=function(t){return e.attr("text",t)},this.value(t),this.draw=function(){if(!e.parentNode.parentNode.scales)return e.parentNode.parentNode;e.g||(e.g=Ar("g"),e.parentNode.g.appendChild(e.g)),e.g.setAttribute("id",e.id());var t=e.parentNode.parentNode.scales;e._classNames.forEach((function(t){return e.g.classList.add(t)}));var n=function(t){return function(n){return vr(t[n])?!vr(e.parentNode._data)&&e.parentNode._data.length?e.parentNode._data[e.parentNode._data.length-1][n]:0:t[n]}};if(t&&t.x[e.parentNode.scales.x]){var r=t.x[e.parentNode.scales.x](n(e._position)(e.parentNode.fields.x))+e._margins.left-e._margins.right+e._offsets[1](),i=t.y[e.parentNode.scales.y](n(e._position)(e.parentNode.fields.y))+e._margins.top-e._margins.bottom+e._offsets[0]();e.g.setAttribute("transform","translate(".concat(isNaN(r)?0:r,",").concat(isNaN(i)?0:i,")"))}var a=e.g.querySelector("text");a||((a=Ar("text")).setAttribute("data-id","label-".concat(e.attr("text")())),e.g.appendChild(a)),a.setAttribute("fill",e._fill||e.parentNode.stroke||"#000"),a.textContent=e.attr("text")();var o=e._alignment.horizontal;e.outside()&&e.outside()()&&(o="start"===o?"end":"start"),a.setAttribute("text-anchor",o),a.setAttribute("dy",e._alignment.vertical)}}function jr(){var t=this;gr.call(this),this.type="labels",this.labels=[],this.g=null,this.labelsFilter=function(){return!0},this._alignment={horizontal:"end",vertical:"middle"},this._hposition="middle",this._vposition="top",this.value=function(e){return t.attr("textField",e)},this.position=function(e){return t.attr("position",e)},this.draw=function(){var e=t.parentNode.data(),n=e.length?e:t.parentNode.parentNode._data||[];t.g||(t.g=Ar("g"),t.parentNode.g.appendChild(t.g));var r="chrtBars"===t.parentNode.constructor.name;return n.forEach((function(e,n){var i=e[t.parentNode.fields.y],a=vr(e[t.parentNode.fields.x0])?t.parentNode.getXScale().domain[0]:e[t.parentNode.fields.x0],o=a;switch(t._alignment.horizontal){case"start":break;case"end":o=e[t.parentNode.fields.x]+a;break;case"center":case"middle":o=(e[t.parentNode.fields.x]+a)/2}o=r?o:e[t.parentNode.fields.x];var s={top:function(){switch(t._vposition){case"top":return r?-(t.parentNode.barWidth()||0)/2:0;case"bottom":return r?(t.parentNode.barWidth()||0)/2:0;case"center":case"middle":return 0}}};t.labels[n]||(t.labels[n]=function(t){return new Mr(t)}(),t.parentNode.add(t.labels[n]));var c=t.attr("textField"),u=vr(c)?e[t.parentNode.fields.y]:c(e),l=t.class();l.length&&t.labels[n].class(l.join(" ")),t.labels[n].value(u).top(i).left(o).align(t._hposition).valign(t._vposition).offset(s.top||0,0).outside(t.outside())})),t.parentNode}}Mr.prototype=Object.create(gr.prototype),Mr.prototype.constructor=Mr,Mr.prototype=Object.assign(Mr.prototype,{color:function(t){return vr(t)?this._fill:("function"==typeof t||(this._fill=t),this)},position:_r,top:function(t){return vr(t)?this.position().y:_r.call(this,{y:t})},left:function(t){return vr(t)?this.position().x:_r.call(this,{x:t})},align:kr,valign:Nr,margins:function(t){if(vr(t))return this._margins;var e=t.top,n=t.bottom,r=t.left,i=t.right;return this._margins.top=vr(e)?this._margins.top:e,this._margins.bottom=vr(n)?this._margins.bottom:n,this._margins.left=vr(r)?this._margins.left:r,this._margins.right=vr(i)?this._margins.right:i,this},offset:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(vr(e))return this._offsets;var r=e[0],i=e[1],a=this._offsets[0];vr(r)||(a="function"==typeof r?r:function(){return r});var o=this._offsets[1];return vr(i)||(o="function"==typeof i?i:function(){return i}),this._offsets=[a,o],this},outside:wr}),jr.prototype=Object.create(gr.prototype),jr.prototype.constructor=jr,jr.parent=gr.prototype,jr.prototype=Object.assign(jr.prototype,{align:kr,valign:Nr,outside:wr}),Math.log10=Math.log10||function(t){return Math.log(t)*Math.LOG10E};var Or=["chrt","series"];function Er(t){return null===t||null==t||void 0===t}function Sr(){return"c"+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function Lr(t){return!Er(t.type)&&Or.indexOf(t.type)>-1}function Fr(t){return function(t){if(Array.isArray(t))return Cr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Cr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cr(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Dr={second:1e3,minute:6e4};Dr.hour=60*Dr.minute,Dr.day=24*Dr.hour,Object.keys(Dr).forEach((function(t){return Dr["".concat(t,"s")]=Dr[t]}));var Tr={bidiurnal:2*Dr.day,week:7*Dr.day,fortnight:14*Dr.day,month:30*Dr.day,year:365*Dr.day};function Ir(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t._id||Sr();return t.id(n).parent(this),e?this.objects=[t].concat(Fr(this.objects)):this.objects.push(t),this}function $r(t){var e,n,r,i,a=this;return e=t.map((function(t){return[a.parentNode.scales.x[a.scales.x](t[a.fields.x]),Er(t[a.fields.y])||(e=t[a.fields.y],"string"!=typeof e&&!isFinite(e))?null:a.parentNode.scales.y[a.scales.y](t[a.fields.y])];var e})),n=Pr,i=e.reduce((function(t,e){return Er(e[1])?t.push([]):t[t.length-1].push(e),t}),[[]]).map((function(t){return t.reduce((function(t,e,r,i){return t.push(0===r?"M".concat(isNaN(e[0])?0:e[0],",").concat(isNaN(e[1])?0:e[1]):"".concat(n(e,r,i))),t}),[])})),(r=[]).concat.apply(r,Fr(i))}Object.keys(Tr).forEach((function(t){return Tr["".concat(t,"s")]=Tr[t]}));var Pr=function(t){return"L".concat(isNaN(t[0])?0:t[0],",").concat(isNaN(t[1])?0:t[1])};function Wr(){var t=this;this._id=null,this.objects=[],this.fields={x:null,y:null},this.scales={x:"x",y:"y"},this._classNames=[],this.interpolationFunction=$r,this.attrs=[],this.id=function(e){return Er(e)?t._id:(t._id=e||t._id,t.g&&t.g.setAttribute("id",t._id),t)},this.class=function(e){if(Er(e))return t._classNames;var n=e.split(" ");return t._classNames=[].concat(Fr(t._classNames.filter((function(t){return t!==e}))),Fr(n)),t.g&&n.forEach((function(e){return t.g.classList.add(e)})),t},this.hasData=function(){return Lr(t)};var e=function(e,n){Er(n)||(t.scales[e]=n)};return this.x=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x";return Er(n)?t.scales.x:(e("x",n),t)},this.y=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";return Er(n)?t.scale.y:(e("y",n),t)},this}function qr(){var t=this;Wr.call(this),this.type="stack",this._grouped=1,this._groupIndex=0,this._orientation="bottom",this._dataMap={x:{},y:{}},this.orientation=function(e){if(Er(e))return t._orientation;return t._orientation=["bottom","left"].indexOf(e)>-1?e:t._orientation,t},this.add=function(e){e._stacked=t,Ir.call(t,e);var n=e.data;return e.data=function(r,i){return Er(r)||(r=r.map((function(e){t._dataMap.x[e.x]||(t._dataMap.x[e.x]={x:e.x,values:[]}),t._dataMap.x[e.x].values.push(e);var n=Er(t._dataMap.x[e.x].y0)?null:t._dataMap.x[e.x].y0;t._dataMap.x[e.x].y0="bottom"!==t._orientation?null:(n||0)+e.y,t._dataMap.y[e.y]||(t._dataMap.y[e.y]={y:e.y,values:[]}),t._dataMap.y[e.y].values.push(e);var r=Er(t._dataMap.y[e.y].x0)?null:t._dataMap.y[e.y].x0;return t._dataMap.y[e.y].x0="left"!==t._orientation?null:(r||0)+e.x,Object.assign({},e,{stacked_y:(n||0)+e.y,y0:n,stacked_x:(r||0)+e.x,x0:r})}))),n.call(e,r,i)},t},this.draw=function(){var e="group"===t.parentNode.type?t.parentNode.parentNode:t.parentNode;return t.objects.forEach((function(t){-1===e.objects.map((function(t){return t._id})).indexOf(t._id)&&e.add(t)})),t.objects.forEach((function(t){return t.draw()})),e}}function Rr(){var t=this;Wr.call(this),this.type="group",this.attr("width",1),this.width=function(e){return Er(e)?t.attr("width")():(t.attr("width",Math.min(Math.max(e,0),1)),t)},this.add=function(e){return Ir.call(t,e),e._groupIndex=t.objects.length-1,t.objects.forEach((function(e){e._group=t,e._grouped=t.objects.length})),t},this.draw=function(){return t.objects.forEach((function(e){-1===t.parentNode.objects.map((function(t){return t._id})).indexOf(e._id)&&t.parentNode.add(e)})),t.objects.forEach((function(t){return t.draw()})),t.parentNode}}function Ur(t){return null===(e=t)||null==e||void 0===e?(this.markersFilter=function(){return!0},this):"function"==typeof t?(this.markersFilter=function(e,n,r){return t(e,n,r)},this):"boolean"==typeof t?(this.markersFilter=function(){return t},this):Number.isFinite(t)?(this.markersFilter=function(e){return t===e},this):Array.isArray(t)?(this.markersFilter=function(e){return t.indexOf(e)>-1},this):this;var e}function Br(t){Ur.call(this,t);var e=this.markersFilter;return this.markersFilter=function(t,n,r){return!e(t,n,r)},this}function zr(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}Wr.prototype=Object.create(function(){return new Wr}.prototype),Wr.prototype=Object.assign(Wr.prototype,{node:function(t){return t?(this.root=t,this.currentNode=this.root,this):this.g||this.root},data:function(t,e){if(!t)return Lr(this)?this._data||[]:this;if(!Lr(this))return this;if("function"==typeof arguments[0])return this._accessor=arguments[0],this;this._orginalData=t;var n=e||this._accessor;return this._accessor=n,this._data=n?t.map((function(t,e,r){return t instanceof Object?Object.assign({},t,n(t,e,r)):n(t,e,r)})):t,this},add:Ir,parent:function(t){return t?(this.parentNode=t,this):this.parentNode},accessor:function(){return this._accessor},render:function(t){var e;return this.g=(e="g",document.createElementNS("http://www.w3.org/2000/svg",e)),this._id&&this.g.setAttribute("id",this._id),Lr(this)&&t?"stack"===t.type||"group"===t.group?t.g.prepend(this.g):t.g.append(this.g):this.currentNode.append(this.g),this.update(),this.parentNode},update:function(){this.parentNode.scales.x[this.scales.x]&&this.parentNode.scales.y[this.scales.y]&&this.draw()},curve:function(t){return Er(t)?this.interpolationFunction:(this.interpolationFunction=t,this)},attr:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t};return Er(t)?(console.warn("name missing: attr method requires a name for the attribute"),this):Er(e)?this.attrs[t]:(this.attrs[t]="function"==typeof e?n(e):function(){return n(e)},this)}}),qr.prototype=Object.create(Wr.prototype),qr.prototype.constructor=qr,qr.parent=Wr.prototype,qr.prototype=Object.assign(qr.prototype,{}),Rr.prototype=Object.create(Wr.prototype),Rr.prototype.constructor=Rr,Rr.parent=Wr.prototype,Rr.prototype=Object.assign(Rr.prototype,{});function Hr(){var t=this;Wr.call(this),this.type="markers",this.markers=[],this.g=null,this.markersFilter=function(){return!0},this.draw=function(){var e=t.parentNode.data(),n=e.length?e:t.parentNode.parentNode._data||[],r=t._radius||2,i=t._fill||t.parentNode.stroke||"#000",a=t._opacity||t.parentNode.strokeOpacity||1,o=t._stroke||t.parentNode.stroke||"#000",s=t._strokeOpacity||t.parentNode.strokeOpacity||1,c=t._strokeWidth||t.parentNode.strokeWidth||1;return t.g||(t.g=zr("g"),t.parentNode.g.appendChild(t.g)),n.forEach((function(e,n){if(t.markers[n])t.markers[n].marker=e;else{var r=zr("circle");t.markers.push({circle:r,marker:e}),t.g.appendChild(r)}})),t.markers.filter((function(e,n,r){return t.markersFilter(e.marker,n,r)})).forEach((function(e){var n=t.parentNode.parentNode.scales.x[t.parentNode.scales.x](e.marker[t.parentNode.fields.x]);e.circle.setAttribute("cx",isNaN(n)?0:n);var u=t.parentNode.parentNode.scales.y[t.parentNode.scales.y](e.marker[t.parentNode.fields.y]);e.circle.setAttribute("cy",isNaN(u)?0:u),e.circle.setAttribute("fill",i),e.circle.setAttribute("fill-opacity",a),e.circle.setAttribute("r",r),e.circle.setAttribute("stroke",o),e.circle.setAttribute("stroke-width",c),e.circle.setAttribute("stroke-opacity",s)})),t.parentNode}}function Gr(t){return null===t||null==t||void 0===t}function Zr(t){return Gr(t)||"function"==typeof t||(this._position=Object.assign({},this._position,t)),this}function Jr(t){return Gr(t)||(console.log("alignment",t),"function"==typeof coords||(this._alignment=Object.assign({},this._alignment,t))),this}function Xr(t){return document.createElement(t)}function Yr(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:"x",y:"y"};pe.call(this),this.type="annnotation",this.div=null,this.text=t,this._fill=null,this._position={},this._alignment={horizontal:"start",vertical:"0.25em"},this._offsets=[0,0],this._classNames=["chrt-annotation"],this.draw=function(){if(!e.parentNode.scales)return e.parentNode;var r={x:e.parentNode.scales.x[n.x]||Object.values(e.parentNode.scales.x)[0],y:e.parentNode.scales.y[n.y]||Object.values(e.parentNode.scales.y)[0]};if(e.div||(e.div=Xr("div"),e.parentNode.root.appendChild(e.div),e.div.style.position="absolute"),e.div.setAttribute("id",e.id()),e._classNames.forEach((function(t){return e.div.classList.add(t)})),r&&r.x){var i=Gr(e._position.x)?0:r.x(e._position.x),a=Gr(e._position.y)?0:r.y(e._position.y);e.div.style.left="".concat(i+e._offsets[0],"px"),e.div.style.top="".concat(a+e._offsets[1],"px")}var o=e.div.querySelector("span");o||(o=Xr("span"),e.div.appendChild(o)),o.innerHTML=t}}function Vr(t,e){return new Yr(t,e)}function Kr(e){let n,r;return{c(){n=u("div"),r=u("div"),r.innerHTML="<g><text></text></g>",d(r,"class","axis-label"),d(n,"class","chart svelte-1ig0fob"),d(n,"id",e[0])},m(t,i){s(t,n,i),o(n,r),e[6](n)},p(t,[e]){1&e&&d(n,"id",t[0])},i:t,o:t,d(t){t&&c(n),e[6](null)}}}Hr.prototype=Object.create(Wr.prototype),Hr.prototype.constructor=Hr,Hr.parent=Wr.prototype,Hr.prototype=Object.assign(Hr.prototype,{fill:function(t){return t?("function"==typeof t||(this._fill=t),this):this._fill},size:function(t){return t?("function"==typeof t||(this._radius=t/2),this):2*this._radius},stroke:function(t){return t?("function"==typeof t||(this._stroke=t),this):this._stroke},strokeWidth:function(t){return t?("function"==typeof t||(this._strokeWidth=t),this):this._strokeWidth},showMarkers:Ur,hideMarkers:Br,firstMarker:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?Ur.call(this,(function(t,e){return 0===e})):Br.call(this,(function(t,e){return 0===e})),this},lastMarker:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?Ur.call(this,(function(t,e,n){return e===n.length-1})):Br.call(this,(function(t,e,n){return e===n.length-1})),this},firstAndLastMarkers:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?Ur.call(this,(function(t,e,n){return 0===e||e===n.length-1})):Br.call(this,(function(t,e,n){return 0===e||e===n.length-1})),this}}),Yr.prototype=Object.create(pe.prototype),Yr.prototype.constructor=Yr,Yr.parent=pe.prototype,Yr.prototype=Object.assign(Yr.prototype,{color:function(t){return t?("function"==typeof t||(this._fill=t),this):this._fill},position:Zr,top:function(t){return Zr.call(this,{y:t})},left:function(t){return Zr.call(this,{x:t})},align:function(t){var e=this._alignment.horizontal;switch(t){case"right":e="end";break;case"center":e="middle";break;default:e="start"}return Jr.call(this,{horizontal:e})},valign:function(t){var e=this._alignment.vertical;switch(t){case"top":e="-0.7em";break;case"bottom":e="1em";break;default:e="0.25em"}return Jr.call(this,{vertical:e})},offset:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(Gr(e))return this._offsets;var r=e[0],i=e[1];return this._offsets[0]=Gr(r)?this._offsets[0]:r,this._offsets[1]=Gr(i)?this._offsets[1]:i,this}});function Qr(t,e,n){let r,{data:i}=e,{id:a}=e,{label:o}=e,{charts:s}=e,{position:c}=e;const u=le(),l=t=>`Week ${new Date(i[a][t].startDay).getMonth()+1}/${new Date(i[a][t].startDay).getDate()}`;return y((()=>{const t=Math.max(...i[a].map((t=>t.value))),e=i[a].find((e=>e.value===t)),n=i[a].findIndex((e=>e.value===t)),h=Math.min(...i[a].map((t=>t.value)));var d,f;i[a].find((t=>t.value===h)),i[a].findIndex((t=>t.value===h)),u.node(r).svg().size(750,150).margins({bottom:30,left:0,right:0}).padding({left:30,right:30,top:30}).x(null,null).y([Math.min(0,...i[a].map((t=>t.value))),null]),u.add((new Wn).fill((e=>e.value===t?"url(#stripes2)":e.value===h?"url(#stripes3)":"url(#stripes)")).color((t=>(t.value,"#444"))).strokeWidth(1).width(.6).data(i[a],((t,e)=>({x:e,y:t.value,startDay:new Date(t.startDay),endDay:new Date(t.endDay)})))),0==c&&u.add(Ce().zero(0).orient("top").setTickPosition("outside").setLabelPosition("outside").class("axis-label").format((t=>l(t))).color("#444").width(1)).add(Ce().zero(0).orient("bottom").hideTicks().hideLabels().color("#444").width(1)),c<s-1&&c>0&&u.add(Ce().zero(0).orient("bottom").hideTicks().hideLabels().color("#444").width(1)),c==s-1&&u.add(Ce().zero(0).orient("bottom").setTickPosition("outside").setLabelPosition("outside").class("axis-label").format((t=>l(t))).color("#444").width(1)),u.add(new De(d,f).hideAxis().hideLabels().hideTicks().add((new We).dashed().stroke("#444").strokeWidth(1).from(t))),u.add(Vr(`<div>${o}: ${new Intl.NumberFormat("en-EN").format(e.value)}</div>`).top(t).left(n)),u.add(Vr(`<div>${new Intl.NumberFormat("en-EN").format(i[a][i[a].length-1].value)}</div>`).top(i[a][i[a].length-1].value).left(i[a].length-1).class("thisWeek"))})),t.$$set=t=>{"data"in t&&n(2,i=t.data),"id"in t&&n(0,a=t.id),"label"in t&&n(3,o=t.label),"charts"in t&&n(4,s=t.charts),"position"in t&&n(5,c=t.position)},[a,r,i,o,s,c,function(t){m[t?"unshift":"push"]((()=>{r=t,n(1,r)}))}]}class ti extends ${constructor(t){super(),I(this,t,Qr,Kr,a,{data:2,id:0,label:3,charts:4,position:5})}}function ei(t,e,n){const r=t.slice();return r[2]=e[n],r[4]=n,r}function ni(t){let e,n,r=t[1],i=[];for(let e=0;e<r.length;e+=1)i[e]=ri(ei(t,r,e));const a=t=>F(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=l("")},m(t,r){for(let e=0;e<i.length;e+=1)i[e].m(t,r);s(t,e,r),n=!0},p(t,n){if(3&n){let o;for(r=t[1],o=0;o<r.length;o+=1){const a=ei(t,r,o);i[o]?(i[o].p(a,n),L(i[o],1)):(i[o]=ri(a),i[o].c(),L(i[o],1),i[o].m(e.parentNode,e))}for(E(),o=r.length;o<i.length;o+=1)a(o);S()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)L(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)F(i[t]);n=!1},d(t){!function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(i,t),t&&c(e)}}}function ri(t){let e,n,r,i;return n=new ti({props:{id:t[2].id,data:t[0],title:t[2].title,label:t[2].label,position:t[4],charts:t[1].length}}),{c(){var i;e=u("div"),(i=n.$$.fragment)&&i.c(),r=h(),d(e,"class","chart svelte-h5irno"),d(e,"id","wrapper-"+t[2].id)},m(t,a){s(t,e,a),C(n,e,null),o(e,r),i=!0},p(t,e){const r={};1&e&&(r.data=t[0]),n.$set(r)},i(t){i||(L(n.$$.fragment,t),i=!0)},o(t){F(n.$$.fragment,t),i=!1},d(t){t&&c(e),D(n)}}}function ii(t){let e,n,r,i,a,l,f,p,y,g=void 0!==t[0]&&ni(t);return{c(){e=u("main"),n=u("div"),r=u("h1"),r.innerHTML='Weekly Progression since January 1<span class="svelte-h5irno">st</span>, 2021',i=h(),g&&g.c(),a=h(),l=u("h4"),l.textContent="Data from Italian Civil Protection.\n\t\t\tWeeks are computed from Friday to Friday, the day the Italian Government and the Italian Scientific Committee review COVID-Related Data.",f=h(),p=u("div"),p.innerHTML='<svg><defs><pattern id="stripes" width="5px" height="5px" patternUnits="userSpaceOnUse" patternContentUnits="userSpaceOnUse" viewBox="0 0 100 100" preserveAspectRatio="none" patternTransform="rotate(-45)"><line x1="0" x2="100" y1="46" y2="46" stroke-width="20" stroke="#444"></line><line x1="0" x2="100" y1="92" y2="92" stroke-width="20" stroke="#444"></line><line x1="46" x2="46" y1="0" y2="100" stroke-width="20" stroke="#444"></line><line x1="92" x2="92" y1="0" y2="100" stroke-width="20" stroke="#444"></line></pattern><pattern id="stripes2" width="5px" height="5px" patternUnits="userSpaceOnUse" patternContentUnits="userSpaceOnUse" viewBox="0 0 140 140" preserveAspectRatio="none" patternTransform="rotate(-45)"><line x1="0" x2="140" y1="70" y2="70" stroke-width="30" stroke="#444"></line></pattern><pattern id="stripes3" width="5px" height="5px" patternUnits="userSpaceOnUse" patternContentUnits="userSpaceOnUse" viewBox="0 0 140 140" preserveAspectRatio="none" patternTransform="rotate(45)"><line x1="0" x2="140" y1="70" y2="70" stroke-width="30" stroke="#444"></line></pattern></defs></svg>',d(r,"class","svelte-h5irno"),d(l,"class","svelte-h5irno"),d(n,"class","wrapper svelte-h5irno"),d(p,"class","assets svelte-h5irno")},m(t,c){s(t,e,c),o(e,n),o(n,r),o(n,i),g&&g.m(n,null),o(n,a),o(n,l),o(e,f),o(e,p),y=!0},p(t,[e]){void 0!==t[0]?g?(g.p(t,e),1&e&&L(g,1)):(g=ni(t),g.c(),L(g,1),g.m(n,a)):g&&(E(),F(g,1,1,(()=>{g=null})),S())},i(t){y||(L(g),y=!0)},o(t){F(g),y=!1},d(t){t&&c(e),g&&g.d()}}}const ai="https://corona.elezioni.io/data";function oi(t,e,n){let r;return y((async()=>{const t={epicenters:[],generated:"",italy:{global:[],provinces:[],regions:[]},tested:[]},e={cases:[],fatalities:[],tests:[],icus:[],hospitals:[]};(async()=>{Promise.all([kt.get(`${ai}/italia`),kt.get(`${ai}/regioni`),kt.get(`${ai}/province`),kt.get(`${ai}/regioni2020`)]).then((i=>{i[0].data.error||(t.italy.global=i[0].data.data.italy.global,t.tested=i[0].data.data.tested,t.generated=i[0].data.data.generated),i[1].data.error||(t.italy.regions=i[1].data.data.italy.regions,t.generated=i[0].data.data.generated),i[2].data.error||(t.italy.provinces=i[2].data.data.italy.provinces,t.generated=i[0].data.data.generated),i[3].data.error||(t.italy.regions=t.italy.regions.concat(i[3].data.data.italy.regions).sort(((t,e)=>t.datetime>e.datetime?1:-1)),t.generated=i[0].data.data.generated);const a=t.italy.global.filter((t=>t.datetime>="2020-12-25"));let o={},s={},c={},u={},l={};a.forEach(((t,n)=>{const r=new Date(t.datetime);if(5===r.getDay()){n>0&&(e.cases.push(o),e.fatalities.push(s),e.icus.push(c),e.hospitals.push(u),e.tests.push(l));const i=new Date(t.datetime);i.setDate(i.getDate()+6),o={avg:t.new_tested_positive,endDay:i,startDay:r,value:t.new_tested_positive},s={avg:0===n?t.deaths:t.deaths-a[n-1].deaths,endDay:i,startDay:r,value:0===n?t.deaths:t.deaths-a[n-1].deaths},c={avg:0===n?t.icu:t.icu-a[n-1].icu,endDay:i,startDay:r,value:0===n?t.icu:t.icu-a[n-1].icu},u={avg:0===n?t.hospital:t.hospital-a[n-1].hospital,endDay:i,startDay:r,value:0===n?t.hospital:t.hospital-a[n-1].hospital},l={avg:0===n?t.tested:t.tested-a[n-1].tested,endDay:i,startDay:r,value:0===n?t.tested:t.tested-a[n-1].tested}}else o.avg=(o.avg+t.new_tested_positive)/7,o.value=o.value+t.new_tested_positive,s.avg=(s.avg+t.deaths-a[n-1].deaths)/7,s.value=s.value+t.deaths-a[n-1].deaths,c.avg=(c.avg+t.icu-a[n-1].icu)/7,c.value=c.value+t.icu-a[n-1].icu,u.avg=(u.avg+t.hospital-a[n-1].hospital)/7,u.value=u.value+t.hospital-a[n-1].hospital,l.avg=(l.avg+t.tested-a[n-1].tested)/7,l.value=l.value+t.tested-a[n-1].tested})),e.cases.shift(),e.hospitals.shift(),e.icus.shift(),e.fatalities.shift(),e.tests.shift(),n(0,r=JSON.parse(JSON.stringify(e)))})).catch((t=>{console.log("error",t)}))})()})),[r,[{id:"cases",label:"Highest Number of<br /><span>New Cases</span>",title:"New Cases"},{id:"hospitals",label:"Highest Increment of<br /><span>Hospital Bed occupancy</span>",title:"Hospital Bed occupancy"},{id:"icus",label:"Highest Increment of<br /><span>ICU Beds occupancy</span>",title:"ICU Bed occupancy"},{id:"fatalities",label:"Highest Number of<br /><span>Fatalities</span>",title:"Fatalities"},{id:"tests",label:"Highest Number of<br /><span>Tests Performed</span>",title:"Tests"}]]}return new class extends ${constructor(t){super(),I(this,t,oi,ii,a,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
