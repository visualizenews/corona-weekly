var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function i(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function o(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function u(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function l(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function h(){return d(" ")}function f(){return d("")}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}let y;function g(t){y=t}function m(t){(function(){if(!y)throw new Error("Function called outside component initialization");return y})().$$.on_mount.push(t)}const b=[],v=[],_=[],x=[],k=Promise.resolve();let N=!1;function w(t){_.push(t)}let A=!1;const M=new Set;function j(){if(!A){A=!0;do{for(let t=0;t<b.length;t+=1){const e=b[t];g(e),O(e.$$)}for(g(null),b.length=0;v.length;)v.pop()();for(let t=0;t<_.length;t+=1){const e=_[t];M.has(e)||(M.add(e),e())}_.length=0}while(b.length);for(;x.length;)x.pop()();N=!1,A=!1,M.clear()}}function O(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(w)}}const E=new Set;let S;function L(){S={r:0,c:[],p:S}}function F(){S.r||r(S.c),S=S.p}function C(t,e){t&&t.i&&(E.delete(t),t.i(e))}function T(t,e,n,r){if(t&&t.o){if(E.has(t))return;E.add(t),S.c.push((()=>{E.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function D(t){t&&t.c()}function I(t,n,a,o){const{fragment:s,on_mount:c,on_destroy:u,after_update:l}=t.$$;s&&s.m(n,a),o||w((()=>{const n=c.map(e).filter(i);u?u.push(...n):r(n),t.$$.on_mount=[]})),l.forEach(w)}function $(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function W(t,e){-1===t.$$.dirty[0]&&(b.push(t),N||(N=!0,k.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function P(e,i,a,o,s,u,l=[-1]){const d=y;g(e);const h=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:i.context||[]),callbacks:n(),dirty:l,skip_bound:!1};let f=!1;if(h.ctx=a?a(e,i.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return h.ctx&&s(h.ctx[t],h.ctx[t]=i)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](i),f&&W(e,t)),n})):[],h.update(),f=!0,r(h.before_update),h.fragment=!!o&&o(h.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);h.fragment&&h.fragment.l(t),t.forEach(c)}else h.fragment&&h.fragment.c();i.intro&&C(e.$$.fragment),I(e,i.target,i.anchor,i.customElement),j()}g(d)}class q{$destroy(){$(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var U=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}},R=Object.prototype.toString;function z(t){return"[object Array]"===R.call(t)}function B(t){return void 0===t}function H(t){return null!==t&&"object"==typeof t}function Y(t){if("[object Object]"!==R.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function G(t){return"[object Function]"===R.call(t)}function Z(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),z(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}var J={isArray:z,isArrayBuffer:function(t){return"[object ArrayBuffer]"===R.call(t)},isBuffer:function(t){return null!==t&&!B(t)&&null!==t.constructor&&!B(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:H,isPlainObject:Y,isUndefined:B,isDate:function(t){return"[object Date]"===R.call(t)},isFile:function(t){return"[object File]"===R.call(t)},isBlob:function(t){return"[object Blob]"===R.call(t)},isFunction:G,isStream:function(t){return H(t)&&G(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:Z,merge:function t(){var e={};function n(n,r){Y(e[r])&&Y(n)?e[r]=t(e[r],n):Y(n)?e[r]=t({},n):z(n)?e[r]=n.slice():e[r]=n}for(var r=0,i=arguments.length;r<i;r++)Z(arguments[r],n);return e},extend:function(t,e,n){return Z(e,(function(e,r){t[r]=n&&"function"==typeof e?U(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}};function X(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var V=function(t,e,n){if(!e)return t;var r;if(n)r=n(e);else if(J.isURLSearchParams(e))r=e.toString();else{var i=[];J.forEach(e,(function(t,e){null!=t&&(J.isArray(t)?e+="[]":t=[t],J.forEach(t,(function(t){J.isDate(t)?t=t.toISOString():J.isObject(t)&&(t=JSON.stringify(t)),i.push(X(e)+"="+X(t))})))})),r=i.join("&")}if(r){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+r}return t};function K(){this.handlers=[]}K.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},K.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},K.prototype.forEach=function(t){J.forEach(this.handlers,(function(e){null!==e&&t(e)}))};var Q=K,tt=function(t,e,n){return J.forEach(n,(function(n){t=n(t,e)})),t},et=function(t){return!(!t||!t.__CANCEL__)},nt=function(t,e){J.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))},rt=function(t,e,n,r,i){return function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}(new Error(t),e,n,r,i)},it=J.isStandardBrowserEnv()?{write:function(t,e,n,r,i,a){var o=[];o.push(t+"="+encodeURIComponent(e)),J.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),J.isString(r)&&o.push("path="+r),J.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},at=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],ot=J.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=J.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0},st=function(t){return new Promise((function(e,n){var r=t.data,i=t.headers;J.isFormData(r)&&delete i["Content-Type"];var a=new XMLHttpRequest;if(t.auth){var o=t.auth.username||"",s=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.Authorization="Basic "+btoa(o+":"+s)}var c,u,l=(c=t.baseURL,u=t.url,c&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(u)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(c,u):u);if(a.open(t.method.toUpperCase(),V(l,t.params,t.paramsSerializer),!0),a.timeout=t.timeout,a.onreadystatechange=function(){if(a&&4===a.readyState&&(0!==a.status||a.responseURL&&0===a.responseURL.indexOf("file:"))){var r,i,o,s,c,u="getAllResponseHeaders"in a?(r=a.getAllResponseHeaders(),c={},r?(J.forEach(r.split("\n"),(function(t){if(s=t.indexOf(":"),i=J.trim(t.substr(0,s)).toLowerCase(),o=J.trim(t.substr(s+1)),i){if(c[i]&&at.indexOf(i)>=0)return;c[i]="set-cookie"===i?(c[i]?c[i]:[]).concat([o]):c[i]?c[i]+", "+o:o}})),c):c):null,l={data:t.responseType&&"text"!==t.responseType?a.response:a.responseText,status:a.status,statusText:a.statusText,headers:u,config:t,request:a};!function(t,e,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(rt("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}(e,n,l),a=null}},a.onabort=function(){a&&(n(rt("Request aborted",t,"ECONNABORTED",a)),a=null)},a.onerror=function(){n(rt("Network Error",t,null,a)),a=null},a.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(rt(e,t,"ECONNABORTED",a)),a=null},J.isStandardBrowserEnv()){var d=(t.withCredentials||ot(l))&&t.xsrfCookieName?it.read(t.xsrfCookieName):void 0;d&&(i[t.xsrfHeaderName]=d)}if("setRequestHeader"in a&&J.forEach(i,(function(t,e){void 0===r&&"content-type"===e.toLowerCase()?delete i[e]:a.setRequestHeader(e,t)})),J.isUndefined(t.withCredentials)||(a.withCredentials=!!t.withCredentials),t.responseType)try{a.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&a.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&a.upload&&a.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){a&&(a.abort(),n(t),a=null)})),r||(r=null),a.send(r)}))},ct={"Content-Type":"application/x-www-form-urlencoded"};function ut(t,e){!J.isUndefined(t)&&J.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var lt,dt={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(lt=st),lt),transformRequest:[function(t,e){return nt(e,"Accept"),nt(e,"Content-Type"),J.isFormData(t)||J.isArrayBuffer(t)||J.isBuffer(t)||J.isStream(t)||J.isFile(t)||J.isBlob(t)?t:J.isArrayBufferView(t)?t.buffer:J.isURLSearchParams(t)?(ut(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):J.isObject(t)?(ut(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};dt.headers={common:{Accept:"application/json, text/plain, */*"}},J.forEach(["delete","get","head"],(function(t){dt.headers[t]={}})),J.forEach(["post","put","patch"],(function(t){dt.headers[t]=J.merge(ct)}));var ht=dt;function ft(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var pt=function(t){return ft(t),t.headers=t.headers||{},t.data=tt(t.data,t.headers,t.transformRequest),t.headers=J.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),J.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||ht.adapter)(t).then((function(e){return ft(t),e.data=tt(e.data,e.headers,t.transformResponse),e}),(function(e){return et(e)||(ft(t),e&&e.response&&(e.response.data=tt(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))},yt=function(t,e){e=e||{};var n={},r=["url","method","data"],i=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],o=["validateStatus"];function s(t,e){return J.isPlainObject(t)&&J.isPlainObject(e)?J.merge(t,e):J.isPlainObject(e)?J.merge({},e):J.isArray(e)?e.slice():e}function c(r){J.isUndefined(e[r])?J.isUndefined(t[r])||(n[r]=s(void 0,t[r])):n[r]=s(t[r],e[r])}J.forEach(r,(function(t){J.isUndefined(e[t])||(n[t]=s(void 0,e[t]))})),J.forEach(i,c),J.forEach(a,(function(r){J.isUndefined(e[r])?J.isUndefined(t[r])||(n[r]=s(void 0,t[r])):n[r]=s(void 0,e[r])})),J.forEach(o,(function(r){r in e?n[r]=s(t[r],e[r]):r in t&&(n[r]=s(void 0,t[r]))}));var u=r.concat(i).concat(a).concat(o),l=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===u.indexOf(t)}));return J.forEach(l,c),n};function gt(t){this.defaults=t,this.interceptors={request:new Q,response:new Q}}gt.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=yt(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[pt,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},gt.prototype.getUri=function(t){return t=yt(this.defaults,t),V(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},J.forEach(["delete","get","head","options"],(function(t){gt.prototype[t]=function(e,n){return this.request(yt(n||{},{method:t,url:e,data:(n||{}).data}))}})),J.forEach(["post","put","patch"],(function(t){gt.prototype[t]=function(e,n,r){return this.request(yt(r||{},{method:t,url:e,data:n}))}}));var mt=gt;function bt(t){this.message=t}bt.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},bt.prototype.__CANCEL__=!0;var vt=bt;function _t(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new vt(t),e(n.reason))}))}_t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},_t.source=function(){var t;return{token:new _t((function(e){t=e})),cancel:t}};var xt=_t;function kt(t){var e=new mt(t),n=U(mt.prototype.request,e);return J.extend(n,mt.prototype,e),J.extend(n,e),n}var Nt=kt(ht);Nt.Axios=mt,Nt.create=function(t){return kt(yt(Nt.defaults,t))},Nt.Cancel=vt,Nt.CancelToken=xt,Nt.isCancel=et,Nt.all=function(t){return Promise.all(t)},Nt.spread=function(t){return function(e){return t.apply(null,e)}},Nt.isAxiosError=function(t){return"object"==typeof t&&!0===t.isAxiosError};var wt=Nt,At=Nt;wt.default=At;var Mt=wt;function jt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return t===Math.E?Math.log:10===t&&Et||2===t&&St||function(e){return Ot(t,e)}}function Ot(t,e){return Math.log(e)/Math.log(t)}var Et=Math.log10=Math.log10||function(t){return Math.log(t)*Math.LOG10E},St=Math.log2||function(t){return Math.log(t)*Math.LOG2E},Lt=function(t){return isFinite(t)?+("1e"+t):t<0?0:t},Ft=function(t){return 10===t?Lt:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}},Ct=600,Tt=10,Dt=["chrt","series"];function It(t){return null===t||null==t||void 0===t}function $t(t){return Array.isArray(t)||(t=[t]),t.some((function(t){return It(t)}))}function Wt(t){return Array.isArray(t)||(t=[t]),t.some((function(t){return isNaN(t)}))}function Pt(){return"c"+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function qt(t){return!It(t.type)&&Dt.indexOf(t.type)>-1}function Ut(t,e){return Array.isArray(t)&&Array.isArray(e)?0===t.length&&0===e.length||t.length==e.length&&t.every((function(t,n){return t===e[n]})):(console.warn("arraysEqual(array1, array2)","Both parameters should be arrays"),!1)}function Rt(t,e){if(!t)return qt(this)?this._data||[]:this;if(!qt(this))return this;if("function"==typeof arguments[0])return this._accessor=arguments[0],this;this._orginalData=t;var n=e||this._accessor;return this._accessor=n,this._data=n?t.map((function(t,e,r){return t instanceof Object?Object.assign({},t,n(t,e,r)):n(t,e,r)})):t,this}function zt(t){return t?(this.root=t,this.currentNode=this.root,this):this.g||this.root}function Bt(t){var e={};return function(){var n=Array.prototype.slice.call(arguments),r=JSON.stringify({func:t.name,args:n});if(e[r])return e[r];var i=t.apply(null,arguments);return e[r]=i,i}}function Ht(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!e.length)return{width:this.width,height:this.height};var r=e[0],i=e[1],a=this.width,o=this.height;this.width=r||a||Ct,this.height=i||o||300;var s=this.root.querySelector("svg");return s||this.svg(!1),(s=this.root.querySelector("svg")).setAttribute("viewBox","0 0 ".concat(this.width," ").concat(this.height)),s.parentNode.style.width="".concat(this.width,"px"),s.parentNode.style.height="".concat(this.height,"px"),this.update()}function Yt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(t,e)||Zt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gt(t){return function(t){if(Array.isArray(t))return Jt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Zt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zt(t,e){if(t){if("string"==typeof t)return Jt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jt(t,e):void 0}}function Jt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xt(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Zt(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Vt(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Kt(t){var e=this,n=Yt(t,2),r=n[0],i=n[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tt,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,5,2,2.5,4,3],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[.25,.2,.5,.05],u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=100*Number.EPSILON;if(this._ticks=[],r>i){var d=r;r=i,i=d}var h={score:-2};return this.ticks=function(t){if(i-r<l)return ie(r,i,(i-r)/t);h={score:-2};for(var n=1;n<1/0;){var a,d=Xt(o);try{for(d.s();!(a=d.n()).done;){var f=a.value,p=Qt.max(f,o,n);if(c[0]*p+c[1]+c[2]+c[3]<h.score){n=1/0;break}for(var y=2;y<1/0;){var g=ee.max(y,t);if(c[0]*p+c[1]+c[2]*g+c[3]<h.score)break;for(var m=(i-r)/(y+1)/n/f,b=Math.ceil(Math.log10(m));b<1/0;){var v=n*f*Math.pow(10,b),_=te.max(r,i,v*(y-1));if(c[0]*p+c[1]*_+c[2]*g+c[3]<h.score)break;var x=Math.floor(i/v)*n-(y-1)*n,k=Math.ceil(r/v)*n;if(x>k)b+=1;else{for(var N=x;N<=k;N++){var w=N*(v/n),A=w+v*(y-1),M=v,j=Qt(f,o,n,w,A,M),O=te(r,i,w,A),E=ee(y,t,r,i,w,A),S=ne(w,A,M),L=c[0]*j+c[1]*O+c[2]*E+c[3]*S;L>h.score&&(!s||w<=r&&A>=i)&&(h.lmin=w,h.lmax=A,u&&(h.lmin=w<A?Math.floor(r/M)*M:Math.ceil(r/M)*M,h.lmax=A>w?Math.ceil(i/M)*M:Math.floor(i/M)*M),h.lstep=M,h.score=L)}b+=1}}y+=1}}}catch(t){d.e(t)}finally{d.f()}n+=1}return e._ticks=ie(h.lmin,h.lmax+h.lstep,h.lstep),e._ticks},this.ticks(a),this.getMin=function(){return h.lmin},this.getMax=function(){return h.lmax},this.getStep=function(){return h.lstep},this}function Qt(t,e,n,r,i,a){var o=100*Number.EPSILON,s=e.length;return 1-(re(t,e)[0]-1)/(s-1)-n+((r%a<o||a-r%a<o)&&r<=0&&r>=0?1:0)}function te(t,e,n,r){var i=e-t;return 1-.5*(Math.pow(e-r,2)+Math.pow(t-n,2))/Math.pow(.1*i,2)}function ee(t,e,n,r,i,a){var o=(t-1)/(a-i),s=(e-1)/(Math.max(a,r)-Math.min(n,i));return 2-Math.max(o/s,s/o)}Qt.max=function(t,e,n){var r=e.length;return 1-(re(t,e)[0]-1)/(r-1)-n+1},te.max=function(t,e,n){var r=e-t;if(n>r){var i=(n-r)/2;return 1-.5*(Math.pow(i,2)+Math.pow(i,2))/Math.pow(.1*r,2)}return 1},ee.max=function(t,e){return t>=e?2-(t-1)/(e-1):1};var ne=function(){return 1};function re(t,e){if(Array.isArray(t))return t.map((function(t){return e.indexOf(t)})).map((function(t){return t>-1?t:null}));var n=e.indexOf(t);return n>-1?[n+1]:[null]}function ie(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=[],i=t;i<e;i+=n)r.push(i);return r}function ae(t,e,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[0,Ct],a=arguments.length>4?arguments[4]:void 0,o=this.scales[e][t],s=n||(o?o.fixedDomain:null),c=It(s)?null:Gt(s),u=[];i[0]+="x"===e?this._padding.left:-this._padding.bottom,i[1]-="x"===e?this._padding.right:-this._padding.top;var l=o&&!o.isLog()?o.domain:[],d=c||n||l;if(1===arguments.length)return this.scales.x[arguments[0]]||this.scales.y[arguments[0]];(It(s)||$t(s)||Wt(l)||!d||!d.length||d[0]!==l[0]||d[1]!==l[1])&&(this._data.forEach((function(e){d[0]=It(d[0])?e[a||t]:Math.min.apply(Math,Gt([e[a||t],d[0],e["stacked_".concat(a||t)]].filter((function(t){return!It(t)})))),d[1]=It(d[1])?e[a||t]:Math.max.apply(Math,Gt([e[a||t],d[1],e["stacked_".concat(a||t)]].filter((function(t){return!It(t)}))))})),this.objects.forEach((function(e){var n=!It(e._data)&&e._data.length?e._data:r._data;n&&n.forEach((function(n){d[0]=It(d[0])?n[a||e.fields[t]]:Math.min.apply(Math,Gt([n[a||e.fields[t]],d[0],n["stacked_".concat(a||e.fields[t])]].filter((function(t){return!It(t)&&!Wt(t)})))),d[1]=It(d[1])?n[a||e.fields[t]]:Math.max.apply(Math,Gt([n[a||e.fields[t]],d[1],n["stacked_".concat(a||e.fields[t])]].filter((function(t){return!It(t)&&!Wt(t)}))))}))})));var h=new Kt(d);It(s)&&(d[0]=It(l[0])?h.getMin():Math.min(l[0],h.getMin()),d[1]=It(l[1])?h.getMax():Math.max(l[1],h.getMax()));var f=d[1]-d[0],p=i[1]>=i[0]?1:-1,y=i[1]-i[0]-("x"===e?this._margins.left+this._margins.right:this._margins.top+this._margins.bottom)*p,g=i[0]+("x"===e?this._margins.left:this._margins.bottom)*p,m=function(t){var e=(t-d[0])/f;return g+y*e},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt;if(It(t)&&u.length>0)return u;var e=Array.isArray(t)&&t.length;return(u=e?t:h.ticks(t)).map((function(t,n){return{index:n,value:t,x:m(t),isMinor:e?0:n%2,isZero:0===t}}))};return m.getName=function(){return t},m.getType=function(){return e},m.transformation="linear",m.getField=function(){return a},m.isLog=function(){return!1},m.fixedDomain=s,m.domain=d,m.field=a,m.range=i,m.step=h.getStep(),m.barwidth=m(d[0]+m.step)-m(d[0]),m.ticks=Bt(b),this.scales[e][t]=m,this}function oe(t,e){var n=this,r=Yt(t,2),i=r[0],a=r[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;this.ticksNumber=e||Tt,this._ticks=[];var s=jt(o),c=Ft(o);return this.improveRange=function(t){var e=t[0],n=t[1];return e===n&&(e<=0?(e=1,n=10):(e=c(Math.floor(s(e))-1),n=c(Math.floor(s(n))+1))),e<=0&&(e=c(Math.floor(s(n))-1)),n<=0&&(n=c(Math.floor(s(e))+1)),[e,n]},this.ticks=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.ticksNumber;n.ticksNumber=t,n._ticks=[],n.range=n.improveRange([i,a]),n.lmin=Math.floor(s(i))!==s(i)?c(Math.floor(s(i))-1):i,n.lmax=Math.floor(s(a))!==s(a)?c(Math.floor(s(a))+1):a;var e=[s(n.lmin),s(n.lmax)];if(e[0]>0)for(var r=e[0];r<=e[1];++r)for(var u=1;u<o;++u){var l=c(r)*u;l>=n.lmin&&n._ticks.push(l)}else for(var d=e[0];d<=e[1];++d)for(var h=o-1;h>=1;--h){var f=c(d)*h;f>=n.lmin&&n._ticks.push(f)}return n._ticks},this.ticks(this.ticksNumber),this.getMin=function(){return n.lmin},this.getMax=function(){return n.lmax},this}function se(t,e,n,r,i){var a=this,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"log10",s=this.scales[e][t],c=jt(),u=n||(s?s.fixedDomain:null),l=It(u)?null:Gt(u),d=[];r[0]+="x"===e?this._padding.left:-this._padding.bottom,r[1]-="x"===e?this._padding.right:-this._padding.top;var h=s&&s.isLog()?s.domain:[],f=l||n||h;if(1===arguments.length)return this.scales.x[arguments[0]]||this.scales.y[arguments[0]];!It(u)&&!Wt(h)&&f&&f.length&&f[0]===h[0]&&f[1]===h[1]||(this._data.filter((function(t){return t[i]>0})).forEach((function(e){f[0]=It(f[0])?e[i||t]:Math.min.apply(Math,Gt([e[i||t],f[0],e["stacked_".concat(i||t)]].filter((function(t){return!It(t)})))),f[1]=It(f[1])?e[i||t]:Math.max.apply(Math,Gt([e[i||t],f[1],e["stacked_".concat(i||t)]].filter((function(t){return!It(t)}))))})),this.objects.forEach((function(e){var n=!It(e._data)&&e._data.length?e._data:a._data;n&&n.forEach((function(n){f[0]=It(f[0])?n[e.fields[i||t]]:Math.min.apply(Math,Gt([n[i||e.fields[t]],f[0],n["stacked_".concat(i||e.fields[t])]].filter((function(t){return!It(t)&&!Wt(t)})))),f[1]=It(f[1])?n[e.fields[i||t]]:Math.max.apply(Math,Gt([n[i||e.fields[t]],f[1],n["stacked_".concat(i||e.fields[t])]].filter((function(t){return!It(t)&&!Wt(t)}))))}))})));var p=new oe(f);It(u)&&(f[0]=It(h[0])?p.getMin():Math.min(h[0],p.getMin()),f[1]=It(h[1])?p.getMax():Math.max(h[1],p.getMax()));var y=c(f[1])-c(f[0]),g=r[1]>=r[0]?1:-1,m=r[1]-r[0]-("x"===e?this._margins.left+this._margins.right:this._margins.top+this._margins.bottom)*g,b=r[0]+("x"===e?this._margins.left:this._margins.bottom)*g,v=function(t){var e=(c(t)-c(f[0]))/y;return b+m*e},_=function(t){return It(t)&&d.length>0?d:d=p.ticks(t).map((function(t,e){return{index:e,value:t,x:v(t),isMinor:c(t)%1}}))};return v.getName=function(){return t},v.getType=function(){return e},v.getTransformation=function(){return o},v.transformation=o,v.getField=function(){return i},v.field=i,v.isLog=function(){return!0},v.fixedDomain=u,v.domain=f,v.range=r,v.ticks=Bt(_),this.scales[e][t]=v,this}function ce(t,e,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[0,Ct],a=arguments.length>4?arguments[4]:void 0,o=this.scales[e][t],s=n||(o&&"ordinal"===o.transformation?o.fixedDomain:null),c=It(s)?null:Gt(s),u=[];i[0]+="x"===e?this._padding.left:-this._padding.bottom,i[1]-="x"===e?this._padding.right:-this._padding.top;var l=o&&"ordinal"===o.transformation?o.domain:[],d=c||n||l;if(1===arguments.length)return this.scales.x[arguments[0]]||this.scales.y[arguments[0]];!It(s)&&d&&d.length&&Ut(d,l)||(this._data.forEach((function(e){-1===d.indexOf(e[a||t])&&d.push(e[a||t])})),this.objects.forEach((function(t){var n=!It(t._data)&&t._data.length?t._data:r._data;n&&n.forEach((function(n){-1===d.indexOf(n[t.fields[e]])&&d.push(n[t.fields[e]])}))})));var h=d.length,f=i[1]>=i[0]?1:-1,p=i[1]-i[0]-("x"===e?this._margins.left+this._margins.right:this._margins.top+this._margins.bottom)*f,y=i[0]+("x"===e?this._margins.left:this._margins.bottom)*f,g=p/d.length,m=function(t){var e=d.indexOf(t)/h;return y+g/2+p*e},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.length;return It(t)&&u.length>0?u:(u=d).map((function(t,e){return{index:e,value:t,x:m(t)}}))};return m.getName=function(){return t},m.getType=function(){return e},m.transformation="ordinal",m.getField=function(){return a},m.field=a,m.isLog=function(){return!1},m.fixedDomain=s,m.domain=d,m.range=i,m.step=1,m.barwidth=g,m.ticks=b,this.scales[e][t]=m,this}var ue={second:1e3,minute:6e4};ue.hour=60*ue.minute,ue.day=24*ue.hour,Object.keys(ue).forEach((function(t){return ue["".concat(t,"s")]=ue[t]}));var le={bidiurnal:2*ue.day,week:7*ue.day,fortnight:14*ue.day,month:30*ue.day,year:365*ue.day};function de(t,e,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[0,Ct],a=arguments.length>4?arguments[4]:void 0,o=ue.day,s=this.scales[e][t],c=n||(s?s.fixedDomain:null),u=It(c)?null:Gt(c),l=[];i[0]+="x"===e?this._padding.left:-this._padding.bottom,i[1]-="x"===e?this._padding.right:-this._padding.top;var d=s&&!s.isLog()?s.domain:[],h=u||n||d;if(1===arguments.length)return this.scales.x[arguments[0]]||this.scales.y[arguments[0]];!It(c)&&!Wt(d)&&h&&h.length&&h[0]===d[0]&&h[1]===d[1]||(this._data.forEach((function(e){h[0]=It(h[0])?+e[a||t]:Math.min.apply(Math,Gt([+e[a||t],h[0],+e["stacked_".concat(a||t)]].filter((function(t){return!It(t)})))),h[1]=It(h[1])?+e[a||t]:Math.max.apply(Math,Gt([+e[a||t],h[1],+e["stacked_".concat(a||t)]].filter((function(t){return!It(t)}))))})),this.objects.forEach((function(e){var n=!It(e._data)&&e._data.length?e._data:r._data;n&&n.forEach((function(n){h[0]=It(h[0])?+n[a||e.fields[t]]:Math.min.apply(Math,Gt([+n[a||e.fields[t]],h[0],+n["stacked_".concat(a||e.fields[t])]].filter((function(t){return!It(t)&&!Wt(t)})))),h[1]=It(h[1])?n[a||e.fields[t]]:Math.max.apply(Math,Gt([+n[a||e.fields[t]],h[1],+n["stacked_".concat(a||e.fields[t])]].filter((function(t){return!It(t)&&!Wt(t)}))))}))}))),!It(c)&&h&&h.length&&Ut(h,d)||(this._data.forEach((function(e){h[0]=It(h[0])?e[a||t]:Math.min.apply(Math,Gt([e[a||t],h[0],e["stacked_".concat(a||t)]].filter((function(t){return!It(t)})))),h[1]=It(h[1])?e[a||t]:Math.max.apply(Math,Gt([e[a||t],h[1],e["stacked_".concat(a||t)]].filter((function(t){return!It(t)}))))})),this.objects.forEach((function(e){var n=!It(e._data)&&e._data.length?e._data:r._data;n&&n.forEach((function(n){h[0]=It(h[0])?n[a||e.fields[t]]:Math.min.apply(Math,Gt([n[a||e.fields[t]],h[0],n["stacked_".concat(a||e.fields[t])]].filter((function(t){return!It(t)&&!Wt(t)})))),h[1]=It(h[1])?n[a||e.fields[t]]:Math.max.apply(Math,Gt([n[a||e.fields[t]],h[1],n["stacked_".concat(a||e.fields[t])]].filter((function(t){return!It(t)&&!Wt(t)}))))}))})));var f=function(t){if(h.length){var e=Gt(h);if(It(t)&&(t=ue.seconds,Object.keys(ue).forEach((function(n){Math.abs(e[1]-e[0])>=ue[n]&&(t=n)}))),(o=ue[t]||le[t]||ue.day)>le.week){var n=new Date(e[0]),r=new Date(e[1]);switch(t){case"month":case"months":e[0]=new Date(n.getFullYear(),n.getMonth(),1),e[1]=new Date(r.getFullYear(),r.getMonth()+1,1);break;case"year":case"years":e[0]=new Date(n.getFullYear(),0,1),e[1]=new Date(r.getFullYear(),0,1)}return e}return[Math.floor(e[0]/o)*o,Math.ceil(e[1]/o)*o]}return[]},p=h;p=f();var y=i[1]>=i[0]?1:-1,g=i[1]-i[0]-("x"===e?this._margins.left+this._margins.right:this._margins.top+this._margins.bottom)*y,m=i[0]+("x"===e?this._margins.left:this._margins.bottom)*y,b=function(t){var e=(t-p[0])/(p[1]-p[0]);return m+g*e},v=function(t){if(It(t))return t;"number"!=typeof t?ue[t]||le[t]?p=f(t):console.error("The selected interval does not exists."):console.error("Please use a string for now")},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,e=arguments.length>1?arguments[1]:void 0;if(!h.length)return[];var n=f(e),r=n[1]-n[0];if(It(t)&&It(e)&&l.length>0)return l;var i=le[e]||ue[e]||ue.day,a=Array.isArray(t)&&t.length;if(i<=le.fortnight)l=Gt(Array(a?t:Math.floor(r/i)+1).keys()).map((function(t){return+n[0]+t*i}));else if(i===le.month)for(var o=(l=[new Date(n[0])])[0],s=l[0].getMonth(),c=new Date(n[0]).getFullYear();s<1e4&&+o<+n[1];)o=new Date(c,s,1),l.push(o),s++;else if(i===le.year)for(var u=(l=[new Date(n[0])])[0],d=l[0].getFullYear(),p=l[0].getFullYear();+u<+n[1]&&p<d+1e4;)u=new Date(p,0,1),l.push(u),p++;return l.map((function(t,e){return{index:e,value:t,x:b(t)}}))};return b.getName=function(){return t},b.getType=function(){return e},b.transformation="time",b.getField=function(){return a},b.isLog=function(){return!1},b.fixedDomain=c,b.interval=v,b.domain=h,b.roundedDomainExtent=p,b.field=a,b.range=i,b.step=o,b.barwidth=b(p[0]+b.step)-b(p[0]),b.ticks=Bt(_),this.scales[e][t]=b,this}function he(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;this.type="chrt",this._data=e,this._orginalData=this._data,this.root=n,this.currentNode=n,this._accessor=function(t,e){return{x:!It(t)&&Object.prototype.hasOwnProperty.call(t,"x")?t.x:e,y:It(t)?null:Object.prototype.hasOwnProperty.call(t,"y")?t.y:t}},this.width=500,this.height=300,this._margins={top:20,bottom:20,left:40,right:20},this._padding={top:0,bottom:0,left:0,right:0},this.scales={x:{},y:{}},this.objects=[];var r=function(e,n,r,i,a){var o=t.scales[n][e],s=o?o.domain:[],c=o?o.range:[];return ae.apply(t,[e,n,r,i,a]),It(o)||Ut(s,o.domain)&&Ut(c,o.range)||t.objects.forEach((function(t){return t.update()})),t},i=function(e,n,r,i,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"log10",s=t.scales[n][e],c=s?s.domain:[],u=s?s.range:[];return se.apply(t,[e,n,r,i,a,o]),It(s)||Ut(c,s.domain)&&Ut(u,s.range)||t.objects.forEach((function(t){return t.update()})),t},a=function(e,n,r,i,a){var o=t.scales[n][e],s=o?o.domain:[],c=o?o.range:[];return ce.apply(t,[e,n,t._data.length?r:[],i,a]),It(o)||Ut(s,o.domain)&&Ut(c,o.range)||t.objects.forEach((function(t){return t.update()})),t},o=function(e,n,r,i,a){var o=t.scales[n][e],s=o?o.domain:[],c=o?o.range:[];return de.apply(t,[e,n,r||[],i,a]),It(o)||Ut(s,o.domain)&&Ut(c,o.range)||t.objects.forEach((function(t){return t.update()})),t};this.x=function(e,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=s&&s.scale||"linear";switch(c){case"log":case"log10":case"log2":return i(s.name||"x","x",e,n||[0,t.width],s.field||"x",c);case"time":return o.apply(t,[s.name||"x","x",e,n||[0,t.width],s.field||"x"]);case"ordinal":return a.apply(t,[s.name||"x","x",e,n||[0,t.width],s.field||"x"]);case"linear":default:return r.apply(t,[s.name||"x","x",e,n||[0,t.width],s.field||"x"])}},this.y=function(e,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=s&&s.scale||"linear";switch(c){case"log":case"log10":case"log2":return i(s.name||"y","y",e,n||[t.height,0],s.field||"y",c);case"time":return o.apply(t,[s.name||"y","y",e,n||[t.height,0],s.field||"y"]);case"ordinal":return a.apply(t,[s.name||"y","y",e,n||[t.height,0],s.field||"y"]);case"linear":default:return r.apply(t,[s.name||"y","y",e,n||[t.height,0],s.field||"y"])}},this.update=function(){return Object.values(t.scales.x).length?Object.values(t.scales.x).forEach((function(e){t.x(e.fixedDomain,[0,t.width],{name:e.getName(),type:e.getType(),field:e.field,scale:e.transformation})})):t.x(null,[0,t.width]),Object.values(t.scales.y).length?Object.values(t.scales.y).forEach((function(e){t.y(e.fixedDomain,[t.height,0],{name:e.getName(),type:e.getType(),field:e.field,scale:e.transformation})})):t.y(null,[t.height,0]),t.objects.forEach((function(t){t.update()})),t},this.getAxis=function(e,n){return t.objects.find((function(t){return"axis"===t.type&&t.name===e&&(!n||t.orientation===n)}))},this.class=function(e){return It(e)||"string"==typeof e||(console.warn("CSS prefix should be a string. Setting main class name to 'chrt'."),e=null),t._css="".concat(e?e.replace(/-$/,""):"").concat(e?"-":"","chrt"),t.root.classList.add(t._css),t},this.css=this.class}function fe(t,e){return new he(t,e)}function pe(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t._id||Pt();return t.id(n).parent(this),e?this.objects=[t].concat(Gt(this.objects)):this.objects.push(t),this}function ye(t){var e,n,r,i,a=this;return e=t.map((function(t){return[a.parentNode.scales.x[a.scales.x](t[a.fields.x]),It(t[a.fields.y])||(e=t[a.fields.y],"string"!=typeof e&&!isFinite(e))?null:a.parentNode.scales.y[a.scales.y](t[a.fields.y])];var e})),n=ge,i=e.reduce((function(t,e){return It(e[1])?t.push([]):t[t.length-1].push(e),t}),[[]]).map((function(t){return t.reduce((function(t,e,r,i){return t.push(0===r?"M".concat(isNaN(e[0])?0:e[0],",").concat(isNaN(e[1])?0:e[1]):"".concat(n(e,r,i))),t}),[])})),(r=[]).concat.apply(r,Gt(i))}Object.keys(le).forEach((function(t){return le["".concat(t,"s")]=le[t]})),he.prototype=fe.prototype={data:Rt,node:zt,append:function(t){if("string"==typeof t){var e=document.createElement(t);(this.currentNode||this.root).appendChild(e),this.currentNode=e}return this},add:function(t){var e=Pt();return t.id(e).parent(this).node(this.currentNode).data(t.hasData()?t.data():this._orginalData,t.accessor()||this._accessor).render(t._stacked||t._group),this.objects.push(t),qt(t)?this.update():this},rollup:function(){return this.currentNode.parentNode&&(this.currentNode=this.currentNode.parentNode),this},svg:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.root.querySelector("svg");e||((e=Vt("svg")).setAttribute("preserveAspectRatio","none"),e.setAttribute("width","100%"),e.setAttribute("height","100%"),this.currentNode.appendChild(e));var n=e.querySelector("g:first-of-type");return n||(n=e.appendChild(Vt("g"))),this.currentNode=n,t&&this.update(),this},border:function(){return this.currentNode&&(this.root.querySelector("svg").style.border="1px solid #000"),this},size:Ht,setWidth:function(t){return Ht(t)},setHeight:function(t){return Ht(null,t)},margins:function(t){if(It(t))return this._margins;var e=t.top,n=t.bottom,r=t.left,i=t.right;return this._margins.top=It(e)?this._margins.top:e,this._margins.bottom=It(n)?this._margins.bottom:n,this._margins.left=It(r)?this._margins.left:r,this._margins.right=It(i)?this._margins.right:i,this.update()},padding:function(t){if(It(t))return this._padding;var e=t.top,n=t.bottom,r=t.left,i=t.right;return this._padding.top=It(e)?this._padding.top:e,this._padding.bottom=It(n)?this._padding.bottom:n,this._padding.left=It(r)?this._padding.left:r,this._padding.right=It(i)?this._padding.right:i,this.update()}};var ge=function(t){return"L".concat(isNaN(t[0])?0:t[0],",").concat(isNaN(t[1])?0:t[1])};function me(){var t=this;this._id=null,this.objects=[],this.fields={x:null,y:null},this.scales={x:"x",y:"y"},this._classNames=[],this.interpolationFunction=ye,this.attrs=[],this.id=function(e){return It(e)?t._id:(t._id=e||t._id,t.g&&t.g.setAttribute("id",t._id),t)},this.class=function(e){if(It(e))return t._classNames;var n=e.split(" ");return t._classNames=[].concat(Gt(t._classNames.filter((function(t){return t!==e}))),Gt(n)),t.g&&n.forEach((function(e){return t.g.classList.add(e)})),t},this.hasData=function(){return qt(t)};var e=function(e,n){It(n)||(t.scales[e]=n)};return this.x=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x";return It(n)?t.scales.x:(e("x",n),t)},this.y=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";return It(n)?t.scale.y:(e("y",n),t)},this}function be(){var t=this;me.call(this),this.type="stack",this._grouped=1,this._groupIndex=0,this._orientation="bottom",this._dataMap={x:{},y:{}},this.orientation=function(e){if(It(e))return t._orientation;return t._orientation=["bottom","left"].indexOf(e)>-1?e:t._orientation,t},this.add=function(e){e._stacked=t,pe.call(t,e);var n=e.data;return e.data=function(r,i){return It(r)||(r=r.map((function(e){t._dataMap.x[e.x]||(t._dataMap.x[e.x]={x:e.x,values:[]}),t._dataMap.x[e.x].values.push(e);var n=It(t._dataMap.x[e.x].y0)?null:t._dataMap.x[e.x].y0;t._dataMap.x[e.x].y0="bottom"!==t._orientation?null:(n||0)+e.y,t._dataMap.y[e.y]||(t._dataMap.y[e.y]={y:e.y,values:[]}),t._dataMap.y[e.y].values.push(e);var r=It(t._dataMap.y[e.y].x0)?null:t._dataMap.y[e.y].x0;return t._dataMap.y[e.y].x0="left"!==t._orientation?null:(r||0)+e.x,Object.assign({},e,{stacked_y:(n||0)+e.y,y0:n,stacked_x:(r||0)+e.x,x0:r})}))),n.call(e,r,i)},t},this.draw=function(){var e="group"===t.parentNode.type?t.parentNode.parentNode:t.parentNode;return t.objects.forEach((function(t){-1===e.objects.map((function(t){return t._id})).indexOf(t._id)&&e.add(t)})),t.objects.forEach((function(t){return t.draw()})),e}}function ve(){var t=this;me.call(this),this.type="group",this.attr("width",1),this.width=function(e){return It(e)?t.attr("width")():(t.attr("width",Math.min(Math.max(e,0),1)),t)},this.add=function(e){return pe.call(t,e),e._groupIndex=t.objects.length-1,t.objects.forEach((function(e){e._group=t,e._grouped=t.objects.length})),t},this.draw=function(){return t.objects.forEach((function(e){-1===t.parentNode.objects.map((function(t){return t._id})).indexOf(e._id)&&t.parentNode.add(e)})),t.objects.forEach((function(t){return t.draw()})),t.parentNode}}function _e(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function xe(t,e,n){var r=this;t.forEach((function(t,i,a){var o=r.g.querySelector("[data-id='tick-".concat(e,"-").concat(t.value,"']"));if(!o&&((o=_e("g")).setAttribute("data-id","tick-".concat(e,"-").concat(t.value)),t.isMinor&&o.classList.add("tick-minor"),r.g.appendChild(o),r.showAxisLine)){var s=_e("line");s.setAttribute("stroke",r.stroke),s.setAttribute("stroke-width",r.strokeWidth),o.appendChild(s)}n&&n.call(null,o,t,i,a)}))}me.prototype=Object.create(function(){return new me}.prototype),me.prototype=Object.assign(me.prototype,{node:zt,data:Rt,add:pe,parent:function(t){return t?(this.parentNode=t,this):this.parentNode},accessor:function(){return this._accessor},render:function(t){return this.g=Vt("g"),this._id&&this.g.setAttribute("id",this._id),qt(this)&&t?"stack"===t.type||"group"===t.group?t.g.prepend(this.g):t.g.append(this.g):this.currentNode.append(this.g),this.update(),this.parentNode},update:function(){this.parentNode.scales.x[this.scales.x]&&this.parentNode.scales.y[this.scales.y]&&this.draw()},curve:function(t){return It(t)?this.interpolationFunction:(this.interpolationFunction=t,this)},attr:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t};return It(t)?(console.warn("name missing: attr method requires a name for the attribute"),this):It(e)?this.attrs[t]:(this.attrs[t]="function"==typeof e?n(e):function(){return n(e)},this)}}),be.prototype=Object.create(me.prototype),be.prototype.constructor=be,be.parent=me.prototype,be.prototype=Object.assign(be.prototype,{}),ve.prototype=Object.create(me.prototype),ve.prototype.constructor=ve,ve.parent=me.prototype,ve.prototype=Object.assign(ve.prototype,{});var ke=10,Ne={x:["top","bottom"],y:["left","right"]},we={x:"bottom",y:"left"};function Ae(t){return null===t||null==t||void 0===t}function Me(t){return"function"==typeof t||(this.showAxisLine=!!Ae(t)||t),this}function je(t){return Ae(t)?(this.ticksFilter=function(){return!0},this):"function"==typeof t?(this.ticksFilter=function(e,n,r){return t(e,n,r)},this):"boolean"==typeof t?(this.ticksFilter=function(){return t},this):Number.isFinite(t)?(this.ticksFilter=function(e){return t===e},this):Array.isArray(t)?(this.ticksFilter=function(e){return t.indexOf(e)>-1},this):this}function Oe(t){je.call(this,t);var e=this.ticksFilter;return this.ticksFilter=function(t,n,r){return!e(t,n,r)},this}function Ee(t){return Ae(t)?(this.labelsFilter=function(){return!0},this):"function"==typeof t?(this.labelsFilter=function(e,n,r){return t(e,n,r)},this):"boolean"==typeof t?(this.labelsFilter=function(){return t},this):Number.isFinite(t)?(this.labelsFilter=function(e){return t===e},this):Array.isArray(t)?(this.labelsFilter=function(e){return t.indexOf(e)>-1},this):this}function Se(t){Ee.call(this,t);var e=this.labelsFilter;return this.labelsFilter=function(t,n,r){return!e(t,n,r)},this}function Le(t){var e=this;me.call(this),this.type="axis",this.updater=!0,this.name=t,this.strokeWidth=1,this.stroke="#000",this.tickTextColor="#000",this.showAxisLine=!0,this.ticksFilter=null,this.labelsFilter=null,this.tickLength=5,this.tickPosition="outside",this.labelPosition="outside",this.labelFormat=function(t){return t},this.showMinorTicks=!1,this._zero=null,this.showZero=!0,this._label=null,this._ticks=[],this._fixedTicks=null,this._interval=null,this._classNames=["chrt-axis"],this.draw=function(){return e.parentNode.scales[e._coordinates][t],e.parentNode}}function Fe(t){return function(t){if(Array.isArray(t))return Ce(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Ce(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ce(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Te(t,e,n){var r=this;t.forEach((function(t,i,a){var o=r.g.querySelector("[data-id='label-".concat(e,"-").concat(t.value,"']"));if(!o){(o=_e("g")).setAttribute("data-id","label-".concat(e,"-").concat(t.value)),t.isMinor&&o.classList.add("label-minor"),r.g.appendChild(o);var s=_e("text");s.textContent=r.labelFormat(t.value,i,a),s.setAttribute("fill",r.labelTextColor),s.label&&(s.textContent="".concat(r.labelFormat(s.value,i,a)).concat(t.label.text)),o.appendChild(s)}n&&n.call(null,o,t,i,a)}))}function De(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";"string"==typeof arguments[0]&&(n=arguments[0],e=ke),Le.call(this,n);var r=this.name;this._name="x",this._coordinates="x",this.orientation=we[this._name];var i={x:"x",y:"y"};this._classNames=[].concat(Fe(this._classNames),["chrt-x-axis"]);var a=function(e,n){t._name=i.x,r=t.parentNode.scales[i.x][t.name].getName(),e.style.display=n?"block":"none";var a=e.querySelector("line"),o=t.orientation===we[t._name]?1:-1;a&&(a.setAttribute("x1",0),a.setAttribute("x2",0),a.setAttribute("y1",0),a.setAttribute("y2",("outside"===t.tickPosition?t.tickLength:-t.tickLength)*o));var s=e.querySelector("text");s&&(s.setAttribute("text-anchor","middle"),s.setAttribute("y",("outside"===t.labelPosition?t.tickLength:-t.tickLength)*o),s.setAttribute("data-orientation",o),o>0?s.setAttribute("dy","".concat("outside"===t.labelPosition?1:-.25,"em")):s.setAttribute("dy","".concat("outside"===t.labelPosition?-.25:1,"em")),s.setAttribute("fill",t.stroke))};this.draw=function(){if(t._name=i.x,r=t.parentNode.scales[i.x][t.name].getName(),!t.parentNode.scales[i.x][r])return t.parentNode;var n=t.parentNode,o=n._margins,s=n.width,c=n.height,u=n.scales;t._label&&(t._label.tickIndex=-1);var l=u[i.x][r].ticks(t._fixedTicks||2*e,t._interval);t._label&&"last"===t._label.position&&l.reverse(),t._ticks=l.map((function(e,n,a){e.position=u[i.x][r](e.value);var c=e.position>=o.left&&e.position<=s-o.right;return c=(c=c&&(t.showMinorTicks||e.isZero&&t.showZero||!e.isMinor))&&(!_||_&&!e.isMinor),e.visible=c,t.ticksFilter&&(e.visible=e.visible&&t.ticksFilter(e.value,n,a)),e.visibleLabel=c,t.labelsFilter&&(e.visibleLabel=e.visibleLabel&&t.labelsFilter(e.value,n,a)),e.label=null,e.visibleLabel&&t._label&&(Ae(t._label.value)||t._label.value!==e.value||(e.label=t._label,t._label.tickIndex=e.index)),e.visibleLabel&&t._label&&Ae(t._label.value)&&("all"===t._label.position||-1===t._label.tickIndex)&&(Ae(t._label.position)||(e.label=t._label,t._label.tickIndex=e.index)),e})).filter((function(t){return t.visible||t.visibleLabel})),t.g.setAttribute("id","".concat(r,"Axis-").concat(t.id())),t._classNames.forEach((function(e){return t.g.classList.add(e)}));var d=t.orientation===we[t._name]?c-o.bottom:o.top;t.g.setAttribute("transform","translate(0,".concat(d,")"));var h=t.g.querySelector("[data-id='tick-".concat(r,"-axis-line']"));h||((h=_e("line")).setAttribute("data-id","tick-".concat(r,"-axis-line")),t.g.appendChild(h)),h.setAttribute("stroke",t.stroke),h.setAttribute("stroke-width",t.strokeWidth),h.setAttribute("x1",o.left),h.setAttribute("x2",s-o.right);var f=u[i.y][i.y]||Object.values(u[i.y])[0],p=Ae(t._zero)?f.domain[0]:t._zero,y=f.isLog()?f.range[1]:f(p)-(c-o.bottom);"ordinal"!==f.transformation||~f.domain.indexOf(p)||(y=0),h.setAttribute("y1",isNaN(y)?0:y),h.setAttribute("y2",isNaN(y)?0:y),t.showAxisLine||h.remove();var g=t.attr("title")?t.attr("title")():null;if(!Ae(g)){var m=t.g.querySelector("text.title");Ae(m)&&(m=_e("text")).classList.add("title"),m.textContent=g;var b=t.orientation===we[t._name]?-1:1,v=(5+t.strokeWidth)*b;m.setAttribute("x",s-o.right),m.setAttribute("y",v),m.setAttribute("dy","".concat(.9*~b,"em")),m.setAttribute("text-anchor","end"),t.g.appendChild(m)}var _=u[i.x][r].isLog();return t.g.querySelectorAll("g").forEach((function(e){var n=e.getAttribute("data-id");t._ticks.find((function(t){return n==="tick-".concat(r,"-").concat(t)}))||e.remove()})),xe.call(t,t._ticks,r,(function(t,e){t.setAttribute("transform","translate(".concat(e.position,", 0)")),a(t,e.visible)})),Te.call(t,t._ticks,r,(function(t,e){t.setAttribute("transform","translate(".concat(e.position,", 0)")),a(t,e.visibleLabel)})),t.objects.forEach((function(t){return t.draw()})),t.parentNode}}function Ie(t,e){return new De(t,e)}function $e(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y";"string"==typeof arguments[0]&&(n=arguments[0],e=ke),Le.call(this,n,"y");var r=this.name;this._name="y",this._coordinates="y",this.orientation=we[this._name],this._classNames=[].concat(Fe(this._classNames),["chrt-y-axis"]);var i={x:"x",y:"y"},a=function(e,n){t._name=i.y,r=t.parentNode.scales[i.y][t.name].getName(),e.style.display=n?"block":"none";var a=t.orientation===we[t._name]?1:-1,o=e.querySelector("line");o&&(o.setAttribute("x1",0),o.setAttribute("x2",("outside"===t.tickPosition?-t.tickLength:t.tickLength)*a));var s=e.querySelector("text");s&&(s.setAttribute("text-anchor","outside"===t.labelPosition?~a?"end":"start":~a?"start":"end"),s.setAttribute("x",("outside"===t.labelPosition?-t.tickLength:0)*a),s.setAttribute("dx","".concat(("outside"===t.labelPosition?-5:5)*a,"px")),s.setAttribute("dy","outside"===t.labelPosition?"0.25em":"-0.3em"),s.setAttribute("fill",t.stroke))};this.draw=function(){if(t._name=i.y,r=t.parentNode.scales[i.y][t.name].getName(),!t.parentNode.scales[i.y][r])return t.parentNode;var n=t.parentNode,o=n._margins,s=n.scales,c=n.width,u=n.height;t.g.setAttribute("id","".concat(r,"Axis-").concat(t.id())),t._classNames.forEach((function(e){return t.g.classList.add(e)}));var l=t.orientation===we[t._name]?o.left:c-o.right;t.g.setAttribute("transform","translate(".concat(l,",0)")),t._label&&(t._label.tickIndex=-1);var d=s[i.y][r].ticks(t._fixedTicks||2*e,t._interval);t._label&&"last"===t._label.position&&d.reverse(),t._ticks=d.map((function(e,n,a){e.position=s[i.y][r](e.value);var c=e.position>=o.top&&e.position<=u-o.bottom;return c=(c=c&&(t.showMinorTicks||e.isZero&&t.showZero||!e.isMinor))&&(!m||m&&!e.isMinor),e.visible=c,t.ticksFilter&&(e.visible=e.visible&&t.ticksFilter(e.value,n,a)),e.visibleLabel=c,t.labelsFilter&&(e.visibleLabel=e.visibleLabel&&t.labelsFilter(e.value,n,a)),e.label=null,e.visibleLabel&&t._label&&(Ae(t._label.value)||t._label.value!==e.value||(e.label=t._label,t._label.tickIndex=e.index)),e.visibleLabel&&t._label&&Ae(t._label.value)&&("all"===t._label.position||-1===t._label.tickIndex)&&(Ae(t._label.position)||(e.label=t._label,t._label.tickIndex=e.index)),e})).filter((function(t){return t.visible||t.visibleLabel}));var h=t.g.querySelector("[data-id='tick-".concat(r,"-axis-line']"));h||((h=_e("line")).setAttribute("data-id","tick-".concat(r,"-axis-line")),t.g.appendChild(h)),h.setAttribute("stroke",t.stroke),h.setAttribute("stroke-width","outside"===t.labelPosition?t.strokeWidth:0),h.setAttribute("x1",0),h.setAttribute("x2",0),h.setAttribute("y1",o.top),h.setAttribute("y2",u-o.bottom),t.showAxisLine||h.remove();var f=t.attr("title")?t.attr("title")():null;if(!Ae(f)){var p=t.g.querySelector("text.title");Ae(p)&&(p=_e("text")).classList.add("title"),p.textContent=f;var y=t.orientation===we[t._name]?1:-1,g=("outside"===t.labelPosition?t.tickLength:0)*y;p.setAttribute("x",g),p.setAttribute("y",o.top),p.setAttribute("dy","outside"===t.labelPosition?"0.9em":"-0.9em"),p.setAttribute("dx","outside"===t.labelPosition?"".concat(5*y,"px"):"".concat(-2*y,"px")),p.setAttribute("text-anchor",~y?"start":"end"),t.g.appendChild(p)}var m=s[i.y][r].isLog();return t.g.querySelectorAll("g").forEach((function(e){var n=e.getAttribute("data-id");t._ticks.find((function(t){return n==="tick-".concat(r,"-").concat(t)}))||e.remove()})),xe.call(t,t._ticks,r,(function(t,e){t.setAttribute("transform","translate(0, ".concat(e.position,")")),a(t,e.visible)})),Te.call(t,t._ticks,r,(function(t,e){t.setAttribute("transform","translate(0, ".concat(e.position,")")),a(t,e.visibleLabel)})),t.objects.forEach((function(t){return t.draw()})),t.parentNode}}function We(t,e){return new $e(t,e)}function Pe(t){return this.attr("fill",t)}function qe(t){return Ae(t)||"function"==typeof t||(this._range=Object.assign({},this._range,t)),this}function Ue(t){return this.attr("lineStyle",t)}Le.prototype=Object.create(me.prototype),Le.prototype.constructor=Le,Le.parent=me.prototype,Le.prototype=Object.assign(Le.prototype,{width:function(t){return Ae(t)?this.strokeWidth:("function"==typeof t||(this.strokeWidth=t),this)},color:function(t){return Ae(t)?this.stroke:("function"==typeof t||(this.stroke=t),this)},setTickLength:function(t){return Ae(t)?this.tickLength:("function"==typeof t||(this.tickLength=t),this)},setTickPosition:function(t){return Ae(t)?this.tickPosition:("function"==typeof t||(this.tickPosition=t),this)},setLabelPosition:function(t){return Ae(t)?this.labelPosition:("function"==typeof t||(this.labelPosition=t),this)},showAxis:Me,hideAxis:function(){return Me.call(this,!1)},ticks:function(t){return Ae(t)?this._ticks:(this._fixedTicks=t,this)},filterTicks:je,filter:je,showTicks:je,hideTicks:Oe,firstTick:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?je.call(this,(function(t,e){return 0===e})):Oe.call(this,(function(t,e){return 0===e})),this},lastTick:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?je.call(this,(function(t,e,n){return e===n.length-1})):Oe.call(this,(function(t,e,n){return e===n.length-1})),this},firstAndLastTicks:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?je.call(this,(function(t,e,n){return 0===e||e===n.length-1})):Oe.call(this,(function(t,e,n){return 0===e||e===n.length-1})),this},labels:function(t){return Ae(t)?this._labels:(this._fixedLabels=t,this)},filterLabels:je,showLabels:Ee,hideLabels:Se,firstLabel:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?Ee.call(this,(function(t,e){return 0===e})):Se.call(this,(function(t,e){return 0===e})),this},lastLabel:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?Ee.call(this,(function(t,e,n){return e===n.length-1})):Se.call(this,(function(t,e,n){return e===n.length-1})),this},firstAndLastLabels:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?Ee.call(this,(function(t,e,n){return 0===e||e===n.length-1})):Se.call(this,(function(t,e,n){return 0===e||e===n.length-1})),this},orient:function(t){return Ae(t)?this.orientation:("function"==typeof t||(this.orientation=Ne[this._name].indexOf(t)>-1?t:we[this.name]),this)},format:function(t){return Ae(t)||"function"==typeof t&&(this.labelFormat=t),this},minor:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Ae(t)?this.showMinorTicks:("function"==typeof t||(this.showMinorTicks=t),this)},zero:function(t){return Ae(t)?this._zero:("function"==typeof t||(this._zero=t),this)},hideZero:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return"function"==typeof t||(this.showZero=!t),this},label:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ae(t)?this._label:(this._label=Object.assign({position:"last"},e,{text:t}),this)},interval:function(t){return Ae(t)?this._interval:("function"==typeof t||(this._interval=t),this)},title:function(t){return this.attr("title",t)}}),De.prototype=Object.create(Le.prototype),De.prototype.constructor=De,De.parent=Le.prototype,$e.prototype=Object.create(Le.prototype),$e.prototype.constructor=$e,$e.parent=Le.prototype;function Re(){var t=this;return me.call(this),this.type="axis-range",this.g=null,this.attr("fill","#ddd"),this.attr("stroke","#000"),this.attr("fillOpacity",1),this.attr("strokeOpacity",1),this.attr("strokeWidth",1),this.attr("lineStyle","solid"),this._range={},this._classNames=["chrt-axis-range"],this.draw=function(){return t.parentNode},this.solid=function(){return Ue.call(t,"solid")},this.dashed=function(){return Ue.call(t,"dashed")},this.dotted=function(){return Ue.call(t,"dotted")},this.strokeOpacity=function(e){return t.attr("strokeOpacity",e)},this.parentNode}function ze(){var t=this;Re.call(this),this.class("chrt-y-axis-range"),this.draw=function(){if(!t.parentNode.parentNode.scales)return t.parentNode.parentNode;t.g||(t.g=_e("g"),t.g.setAttribute("data-id",t._id),t.g.setAttribute("data-name","axis-range")),t.parentNode.g.querySelector("".concat(name,"AxisRange-").concat(t.id()))||t.parentNode.g.appendChild(t.g),t.g.setAttribute("id","".concat(name,"AxisRange-").concat(t.id())),t._classNames.forEach((function(e){return t.g.classList.add(e)}));var e=t.attr("fill")(),n=t.attr("fillOpacity")(),r=t.attr("stroke")(),i=t.attr("strokeOpacity")(),a=t.attr("strokeWidth")(),o=t.parentNode.orientation===we[t.parentNode._name]?1:-1,s=t.parentNode.parentNode,c=s.scales,u=s.width,l=s._margins,d=null,h=null;if(c&&c.y[t.parentNode.name]){var f=c.y[t.parentNode.name];d=Ae(t._range.from)?d:f(t._range.from),h=Ae(t._range.to)?h:f(t._range.to)}if(t.path||(t.path=_e("path"),t.g.appendChild(t.path)),!Ae(d)||!Ae(h)){if(t.g.setAttribute("transform","translate(".concat(o>0?0:-(u-(l.right+l.left)),",0)")),(d=Ae(d)?h:d)===(h=Ae(h)?d:h))t.path.remove(),t.path=null;else{var p=[[t.parentNode.strokeWidth,d],[t.parentNode.strokeWidth,h],[u-(l.right+l.left),h],[u-(l.right+l.left),d]];t.path.setAttribute("d","M".concat(p.join("L"),"z")),t.path.setAttribute("fill",e),t.path.setAttribute("fill-opacity",n)}var y=t.attr("lineStyle")();if(!Ae(y))switch(y){case"dashed":t._strokeStyle="".concat(4*a," ").concat(4*a);break;case"dotted":t._strokeStyle="".concat(a," ").concat(a);break;case"solid":default:t._strokeStyle=null}var g=Fe(new Set([d,h]));return Ae(t.lines)&&(t.lines=[]),g.forEach((function(e,n){t.lines[n]||(t.lines[n]=_e("line"),t.g.appendChild(t.lines[n]));var o=t.lines[n];o.setAttribute("x1",t.parentNode.strokeWidth),o.setAttribute("x2",u-(l.left+l.right)),o.setAttribute("y1",e),o.setAttribute("y2",e),o.setAttribute("stroke",r),o.setAttribute("stroke-width",a),o.setAttribute("stroke-opacity",i),Ae(t._strokeStyle)||o.setAttribute("stroke-dasharray",t._strokeStyle)})),t.parentNode}}}function Be(){return new ze}function He(){var t=this;Re.call(this),this.class("chrt-y-axis-range"),this.draw=function(){if(!t.parentNode.parentNode.scales)return t.parentNode.parentNode;t.g||(t.g=_e("g"),t.g.setAttribute("data-id",t._id),t.g.setAttribute("data-name","axis-range")),t.parentNode.g.querySelector("".concat(name,"AxisRange-").concat(t.id()))||t.parentNode.g.appendChild(t.g),t.g.setAttribute("id","".concat(name,"AxisRange-").concat(t.id())),t._classNames.forEach((function(e){return t.g.classList.add(e)}));var e=t.attr("fill")(),n=t.attr("fillOpacity")(),r=t.attr("stroke")(),i=t.attr("strokeOpacity")(),a=t.attr("strokeWidth")(),o=t.parentNode.orientation===we[t.parentNode._name]?1:-1,s=t.parentNode.parentNode,c=s.scales,u=s.height,l=s._margins,d=null,h=null;if(c&&c.x[t.parentNode.name]){var f=c.x[t.parentNode.name];d=Ae(t._range.from)?d:f(t._range.from),h=Ae(t._range.to)?h:f(t._range.to)}if(t.path||(t.path=_e("path"),t.g.appendChild(t.path)),!Ae(d)||!Ae(h)){if(t.g.setAttribute("transform","translate(0, ".concat(o>0?0:u-(l.top+l.bottom)+t.parentNode.strokeWidth,")")),(d=Ae(d)?h:d)===(h=Ae(h)?d:h))t.path.remove(),t.path=null;else{var p=[[d,-t.parentNode.strokeWidth],[h,-t.parentNode.strokeWidth],[h,-(u-(l.top+l.bottom))],[d,-(u-(l.top+l.bottom))]];t.path.setAttribute("d","M".concat(p.join("L"),"z")),t.path.setAttribute("fill",e),t.path.setAttribute("fill-opacity",n)}var y=t.attr("lineStyle")();if(!Ae(y))switch(y){case"dashed":t._strokeStyle="".concat(4*a," ").concat(4*a);break;case"dotted":t._strokeStyle="".concat(a," ").concat(a);break;case"solid":default:t._strokeStyle=null}var g=Fe(new Set([d,h]));return Ae(t.lines)&&(t.lines=[]),g.forEach((function(e,n){t.lines[n]||(t.lines[n]=_e("line"),t.g.appendChild(t.lines[n]));var o=t.lines[n];o.setAttribute("x1",e),o.setAttribute("x2",e),o.setAttribute("y1",-t.parentNode.strokeWidth),o.setAttribute("y2",-(u-(l.top+l.bottom))),o.setAttribute("stroke",r),o.setAttribute("stroke-width",a),o.setAttribute("stroke-opacity",i),Ae(t._strokeStyle)||o.setAttribute("stroke-dasharray",t._strokeStyle)})),t.parentNode}}}function Ye(){return new He}function Ge(t){return this.attr("fill",t)}Re.prototype=Object.create(me.prototype),Re.prototype.constructor=Re,Re.parent=me.prototype,Re.prototype=Object.assign(Re.prototype,{color:Pe,fill:Pe,stroke:function(t){return this.attr("stroke",t)},strokeWidth:function(t){return this.attr("strokeWidth",t)},fillOpacity:function(t){return this.attr("fillOpacity",t)},lineStyle:Ue,range:qe,from:function(t){return qe.call(this,{from:t})},to:function(t){return qe.call(this,{to:t})}}),ze.prototype=Object.create(Re.prototype),ze.prototype.constructor=ze,ze.parent=Re.prototype,He.prototype=Object.create(Re.prototype),He.prototype.constructor=He,He.parent=Re.prototype;function Ze(t){var e=this;me.call(this),this.type="axis-title",this.g=null,this.attr("fill","#000"),this.attr("align","right"),this.attr("valign","top"),this.attr("offset",{x:0,y:0}),this._classNames=["chrt-axis-title"];this.draw=function(){return e.parentNode.parentNode.scales?(e.g||(e.g=_e("g"),e.g.setAttribute("data-id",e._id),e.g.setAttribute("data-name","axis-title")),e.parentNode.g.querySelector("".concat(name,"AxisTitle-").concat(e.id()))||e.parentNode.g.appendChild(e.g),e.g.setAttribute("id","".concat(name,"AxisTitle-").concat(e.id())),e._classNames.forEach((function(t){return e.g.classList.add(t)})),e.text||(e.text=_e("text"),e.g.appendChild(e.text)),"x"===e.parentNode._name?function(){var n=e.attr("fill")(),r=e.parentNode.parentNode,i=r.width,a=r._margins,o=0,s="start";switch(e.attr("align")()){case"left":o=a.left,s="start";break;case"center":o=i/2,s="middle";break;case"right":default:o=i-a.right,s="end"}var c="0.25em",u=0;switch(e.attr("valign")()){case"bottom":u=0,c="1em";break;case"middle":u=0,c="0.25em";break;case"top":default:u=0,c="-1em"}var l=e.attr("offset")();e.text.textContent=t,e.text.setAttribute("text-anchor",s),e.text.setAttribute("x",o+l.x),e.text.setAttribute("y",u+l.y),e.text.setAttribute("dy",c),e.text.setAttribute("fill",n)}():function(){var n=e.attr("fill")(),r=e.parentNode.parentNode,i=r.height,a=r._margins,o=0,s="start";switch(e.attr("align")()){case"left":o=-5,s="end";break;case"center":case"middle":o=0,s="middle";break;case"right":default:o=5,s="start"}var c="0.25em",u=0;switch(e.attr("valign")()){case"bottom":u=i-a.bottom,c="0";break;case"center":case"middle":u=0,c="0.25em";break;case"top":default:u=a.top-1,c="0"}var l=e.attr("offset")();e.text.textContent=t,e.text.setAttribute("text-anchor",s),e.text.setAttribute("x",o+l.x),e.text.setAttribute("y",u+l.y),e.text.setAttribute("dy",c),e.text.setAttribute("fill",n)}(),e.parentNode):e.parentNode.parentNode}}Ze.prototype=Object.create(me.prototype),Ze.prototype.constructor=Ze,Ze.parent=me.prototype,Ze.prototype=Object.assign(Ze.prototype,{color:Ge,fill:Ge,align:function(t){return this.attr("align",t)},valign:function(t){return this.attr("valign",t)},offset:function(t){var e=this.attr("offset")();return this.attr("offset",Object.assign({},e||{},t))}}),Math.log10=Math.log10||function(t){return Math.log(t)*Math.LOG10E};var Je=["chrt","series"];function Xe(t){return null===t||null==t||void 0===t}function Ve(){return"c"+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function Ke(t){return!Xe(t.type)&&Je.indexOf(t.type)>-1}function Qe(t){return function(t){if(Array.isArray(t))return tn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return tn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tn(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var en={second:1e3,minute:6e4};en.hour=60*en.minute,en.day=24*en.hour,Object.keys(en).forEach((function(t){return en["".concat(t,"s")]=en[t]}));var nn={bidiurnal:2*en.day,week:7*en.day,fortnight:14*en.day,month:30*en.day,year:365*en.day};function rn(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t._id||Ve();return t.id(n).parent(this),e?this.objects=[t].concat(Qe(this.objects)):this.objects.push(t),this}function an(t){var e,n,r,i,a=this;return e=t.map((function(t){return[a.parentNode.scales.x[a.scales.x](t[a.fields.x]),Xe(t[a.fields.y])||(e=t[a.fields.y],"string"!=typeof e&&!isFinite(e))?null:a.parentNode.scales.y[a.scales.y](t[a.fields.y])];var e})),n=on,i=e.reduce((function(t,e){return Xe(e[1])?t.push([]):t[t.length-1].push(e),t}),[[]]).map((function(t){return t.reduce((function(t,e,r,i){return t.push(0===r?"M".concat(isNaN(e[0])?0:e[0],",").concat(isNaN(e[1])?0:e[1]):"".concat(n(e,r,i))),t}),[])})),(r=[]).concat.apply(r,Qe(i))}Object.keys(nn).forEach((function(t){return nn["".concat(t,"s")]=nn[t]}));var on=function(t){return"L".concat(isNaN(t[0])?0:t[0],",").concat(isNaN(t[1])?0:t[1])};function sn(){var t=this;this._id=null,this.objects=[],this.fields={x:null,y:null},this.scales={x:"x",y:"y"},this._classNames=[],this.interpolationFunction=an,this.attrs=[],this.id=function(e){return Xe(e)?t._id:(t._id=e||t._id,t.g&&t.g.setAttribute("id",t._id),t)},this.class=function(e){if(Xe(e))return t._classNames;var n=e.split(" ");return t._classNames=[].concat(Qe(t._classNames.filter((function(t){return t!==e}))),Qe(n)),t.g&&n.forEach((function(e){return t.g.classList.add(e)})),t},this.hasData=function(){return Ke(t)};var e=function(e,n){Xe(n)||(t.scales[e]=n)};return this.x=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x";return Xe(n)?t.scales.x:(e("x",n),t)},this.y=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";return Xe(n)?t.scale.y:(e("y",n),t)},this}function cn(){var t=this;sn.call(this),this.type="stack",this._grouped=1,this._groupIndex=0,this._orientation="bottom",this._dataMap={x:{},y:{}},this.orientation=function(e){if(Xe(e))return t._orientation;return t._orientation=["bottom","left"].indexOf(e)>-1?e:t._orientation,t},this.add=function(e){e._stacked=t,rn.call(t,e);var n=e.data;return e.data=function(r,i){return Xe(r)||(r=r.map((function(e){t._dataMap.x[e.x]||(t._dataMap.x[e.x]={x:e.x,values:[]}),t._dataMap.x[e.x].values.push(e);var n=Xe(t._dataMap.x[e.x].y0)?null:t._dataMap.x[e.x].y0;t._dataMap.x[e.x].y0="bottom"!==t._orientation?null:(n||0)+e.y,t._dataMap.y[e.y]||(t._dataMap.y[e.y]={y:e.y,values:[]}),t._dataMap.y[e.y].values.push(e);var r=Xe(t._dataMap.y[e.y].x0)?null:t._dataMap.y[e.y].x0;return t._dataMap.y[e.y].x0="left"!==t._orientation?null:(r||0)+e.x,Object.assign({},e,{stacked_y:(n||0)+e.y,y0:n,stacked_x:(r||0)+e.x,x0:r})}))),n.call(e,r,i)},t},this.draw=function(){var e="group"===t.parentNode.type?t.parentNode.parentNode:t.parentNode;return t.objects.forEach((function(t){-1===e.objects.map((function(t){return t._id})).indexOf(t._id)&&e.add(t)})),t.objects.forEach((function(t){return t.draw()})),e}}function un(){var t=this;sn.call(this),this.type="group",this.attr("width",1),this.width=function(e){return Xe(e)?t.attr("width")():(t.attr("width",Math.min(Math.max(e,0),1)),t)},this.add=function(e){return rn.call(t,e),e._groupIndex=t.objects.length-1,t.objects.forEach((function(e){e._group=t,e._grouped=t.objects.length})),t},this.draw=function(){return t.objects.forEach((function(e){-1===t.parentNode.objects.map((function(t){return t._id})).indexOf(e._id)&&t.parentNode.add(e)})),t.objects.forEach((function(t){return t.draw()})),t.parentNode}}function ln(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}sn.prototype=Object.create(function(){return new sn}.prototype),sn.prototype=Object.assign(sn.prototype,{node:function(t){return t?(this.root=t,this.currentNode=this.root,this):this.g||this.root},data:function(t,e){if(!t)return Ke(this)?this._data||[]:this;if(!Ke(this))return this;if("function"==typeof arguments[0])return this._accessor=arguments[0],this;this._orginalData=t;var n=e||this._accessor;return this._accessor=n,this._data=n?t.map((function(t,e,r){return t instanceof Object?Object.assign({},t,n(t,e,r)):n(t,e,r)})):t,this},add:rn,parent:function(t){return t?(this.parentNode=t,this):this.parentNode},accessor:function(){return this._accessor},render:function(t){var e;return this.g=(e="g",document.createElementNS("http://www.w3.org/2000/svg",e)),this._id&&this.g.setAttribute("id",this._id),Ke(this)&&t?"stack"===t.type||"group"===t.group?t.g.prepend(this.g):t.g.append(this.g):this.currentNode.append(this.g),this.update(),this.parentNode},update:function(){this.parentNode.scales.x[this.scales.x]&&this.parentNode.scales.y[this.scales.y]&&this.draw()},curve:function(t){return Xe(t)?this.interpolationFunction:(this.interpolationFunction=t,this)},attr:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t};return Xe(t)?(console.warn("name missing: attr method requires a name for the attribute"),this):Xe(e)?this.attrs[t]:(this.attrs[t]="function"==typeof e?n(e):function(){return n(e)},this)}}),cn.prototype=Object.create(sn.prototype),cn.prototype.constructor=cn,cn.parent=sn.prototype,cn.prototype=Object.assign(cn.prototype,{}),un.prototype=Object.create(sn.prototype),un.prototype.constructor=un,un.parent=sn.prototype,un.prototype=Object.assign(un.prototype,{});function dn(t){return null===t||null==t||void 0===t}function hn(t){if(this._lineStyle=t,!t)return this.strokeStyle;if("function"==typeof t);else switch(t){case"dashed":this.strokeStyle="".concat(4*this.strokeWidth," ").concat(4*this.strokeWidth);break;case"dotted":this.strokeStyle="".concat(this.strokeWidth," ").concat(this.strokeWidth);break;case"solid":default:this.strokeStyle=null}return this}function fn(t){return this._filter=t,dn(t)?(this.ticksFilter=function(){return!0},this):"function"==typeof t?(this.ticksFilter=function(e,n,r){return t(e,n,r)},this):"boolean"==typeof t?(this.ticksFilter=function(){return t},this):Number.isFinite(t)?(this.ticksFilter=function(e){return t===e},this):Array.isArray(t)?(this.ticksFilter=function(e){return t.indexOf(e)>-1},this):this}function pn(t){fn.call(this,t);var e=this.ticksFilter;return this.ticksFilter=function(t,n,r){return!e(t,n,r)},this}var yn="#000";function gn(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=arguments.length>2?arguments[2]:void 0;sn.call(this),this.type="grid",this.name=r||t,this.strokeWidth=1,this.stroke=yn,this.showMinorTicks=!1,this.ticksFilter=null,this._interval=null;var i=function(t,e,n,r){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];t.style.display=i?"block":"none",t.setAttribute("x1",e),t.setAttribute("x2",e),t.setAttribute("y1",n),t.setAttribute("y2",r)},a=function(t,e,n,r){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];t.style.display=i?"block":"none",t.setAttribute("x1",n),t.setAttribute("x2",r),t.setAttribute("y1",e),t.setAttribute("y2",e)};this.draw=function(){if(e.parentNode.scales[t][e.name]){var r=e.parentNode.scales[t][e.name],o=e.parentNode,s=o._margins,c=o.width,u=o.height,l=r.isLog(),d=e._interval,h=e.parentNode.getAxis(t);h&&(d=h.interval());var f=r.ticks(2*n,d).map((function(n,i,a){n.position=r(n.value);var o=n.position>=s.top&&n.position<=u-s.bottom;return"x"===t&&(o=n.position>=s.left&&n.position<=c-s.right),o=(o=o&&(e.showMinorTicks||n.isZero&&e.showZero||!n.isMinor))&&(!l||l&&!n.isMinor),e.ticksFilter&&(o=o&&e.ticksFilter(n.value,i,a)),n.visible=o,n}));return e.g.setAttribute("id","".concat(t,"Grid-").concat(e.id())),e.g.querySelectorAll("line").forEach((function(t){return t.setAttribute("toBeHidden",!0)})),f.forEach((function(n){var o=e.g.querySelector("[data-id='gridLine-".concat(t,"-").concat(n.value,"']"));o||((o=ln("line")).setAttribute("data-id","gridLine-".concat(t,"-").concat(n.value)),n.isMinor&&o.classList.add("tick-minor"),e.g.appendChild(o)),o.setAttribute("stroke",e.stroke),o.setAttribute("stroke-width",e.strokeWidth),o.setAttribute("shape-rendering","crispEdges"),dn(e.strokeStyle)||o.setAttribute("stroke-dasharray",e.strokeStyle),o.removeAttribute("toBeHidden");var l=r(n.value);"x"===t&&i(o,l,u-s.bottom,s.top,n.visible),"y"===t&&a(o,l,s.left,c-s.right,n.visible)})),e.g.querySelectorAll("line[toBeHidden=true]").forEach((function(t){return t.remove()})),e.parentNode}},this.solid=function(){return hn.call(e,"solid")},this.dashed=function(){return hn.call(e,"dashed")},this.dotted=function(){return hn.call(e,"dotted")}}function mn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bn(t){return function(t){if(Array.isArray(t))return vn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return vn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vn(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _n(t){return null===t||null==t||void 0===t}function xn(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}gn.prototype=Object.create(sn.prototype),gn.prototype.constructor=gn,gn.parent=sn.prototype,gn.prototype=Object.assign(gn.prototype,{width:function(t){return t?("function"==typeof t||(this.strokeWidth=t),this):this.strokeWidth},color:function(t){return t?("function"==typeof t||(this.stroke=t),this):this.stroke},minor:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return"function"==typeof t||(this.showMinorTicks=t),this},firstTick:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?fn.call(this,(function(t,e){return 0===e})):pn.call(this,(function(t,e){return 0===e})),this},lastTick:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?fn.call(this,(function(t,e,n){return e===n.length-1})):pn.call(this,(function(t,e,n){return e===n.length-1})),this},filter:fn});function kn(){var t=this;me.call(this),this.type="series",this._area=!1,this._stacked=null,this._sortedData=!0;var e="x",n="y",r="x0",i="y0";this.strokeWidth=1,this.stroke="#000",this.strokeOpacity=1,this._fill="#000",this._fillOpacity=1,this.paths=[],this.areaPaths=[],this._classNames=["chrt-line"],this.draw=function(){var a=t._data.length?t._data:t.parentNode._data;if(t._classNames.forEach((function(e){return t.g.classList.add(e)})),_n(t.fields[e])&&(t.fields[e]=t.parentNode.scales[e][t.scales[e]].field),_n(t.fields[n])&&(t.fields[n]=t.parentNode.scales[n][t.scales[n]].field),_n(t.fields[i])&&(t.fields[i]="".concat(t.parentNode.scales[n][t.scales[n]].field,"0")),!_n(a)){var o=t.parentNode.scales[n][t.scales[n]].domain,s=t.parentNode.scales[e][t.scales[e]].domain,c=0;switch(t._area){case"left":c=s[0]<0||s[1]<0?0:Math.min.apply(Math,bn(s));break;case"right":c=s[0]<0||s[1]<0?0:Math.max.apply(Math,bn(s));break;case"top":c=o[0]<0||o[1]<0?0:Math.max.apply(Math,bn(o));break;case"bottom":default:c=o[0]<0||o[1]<0?0:Math.min.apply(Math,bn(o))}c=_n(t._zero)?c:t._zero,t.hasCustomBaseline=t._area&&a.some((function(e){return!_n(e[t.fields[i]])}));var u=a.reduce((function(r,a){var o;if(_n(a[t.fields[n]]))return r.push([]),r;r.length||r.push([]);var s=t._stacked||t.hasCustomBaseline?(mn(o={},t.fields[e],a[t.fields[e]]),mn(o,t.fields[n],a[t.fields[n]]),mn(o,"x",a[t.fields[e]]),mn(o,"y",t._stacked?a["stacked_".concat(t.fields[n])]:a[t.fields[n]]),mn(o,"y0",_n(a[t.fields[i]])?c:a[t.fields[i]]),o):a;return r[r.length-1].push(s),r}),[]);if(t._sortedData){var l=t.parentNode.scales[e][t.scales[e]];u.forEach((function(n){n.sort((function(n,r){return"ordinal"===l.transformation?1*(l.domain.indexOf(n[t.fields[e]])-l.domain.indexOf(r[t.fields[e]])):1*(n[t.fields[e]]-r[t.fields[e]])}))}))}var d=u.filter((function(t){return 1===t.length}));(u=u.filter((function(t){return t.length>1}))).forEach((function(e,n){t.paths[n]||(t.paths[n]=xn("path"),t.paths[n].setAttribute("data-id","path-".concat(n)),t.g.appendChild(t.paths[n])),t._area&&!t.areaPaths[n]&&(t.areaPaths[n]=xn("path"),t.areaPaths[n].setAttribute("data-id","area-path-".concat(n)),t.g.appendChild(t.areaPaths[n]))}));var h=[];if(t._area){var f=["left","right"].indexOf(t._area)>-1;u.forEach((function(a){var o,s,u,l,d=t._stacked||t.hasCustomBaseline?bn(a).reverse().map((function(a){var o,s;return f?(mn(o={x:a[t.fields[r]],y:a[t.fields[n]]},t.fields[r],a[t.fields[r]]),mn(o,t.fields[n],a[t.fields[n]]),o):(mn(s={x:a[t.fields[e]],y:a[t.fields[i]]},t.fields[e],a[t.fields[e]]),mn(s,t.fields[i],a[t.fields[i]]),s)})):[f?(o={x:c,y:a[a.length-1][t.fields[n]]},mn(o,t.fields[e],c),mn(o,t.fields[n],a[a.length-1][t.fields[n]]),o):(s={x:a[a.length-1][t.fields[e]],y:c},mn(s,t.fields[e],a[a.length-1][t.fields[e]]),mn(s,t.fields[n],c),s),f?(u={x:c,y:a[0][t.fields[n]]},mn(u,t.fields[e],c),mn(u,t.fields[n],a[0][t.fields[n]]),u):(l={x:a[0][t.fields[e]],y:c},mn(l,t.fields[e],a[0][t.fields[e]]),mn(l,t.fields[n],c),l)];h.push(d)}))}t._area&&t.areaPaths.length>0&&h.forEach((function(e,n){var r=t.areaPaths[n],i=t.interpolationFunction([].concat(u[n],e));r.setAttribute("d",i.join("")),r.setAttribute("fill",t._fill),r.setAttribute("fill-opacity",t._fillOpacity),r.setAttribute("stroke","none")})),u.forEach((function(e,n){var r=t.interpolationFunction([].concat(e)),i=t.paths[n];i.setAttribute("d",r.join("")),i.setAttribute("stroke",t.stroke),i.setAttribute("stroke-width",t.strokeWidth),i.setAttribute("stroke-opacity",t.strokeOpacity),i.setAttribute("stroke-linejoin","round"),i.setAttribute("fill","none")})),d.forEach((function(r){var i=r.filter((function(e,r,i){return(_n(i[r-1])||_n(i[r-1][t.fields[n]]))&&!_n(e[t.fields[n]])&&(_n(i[r+1])||_n(i[r+1][t.fields[n]]))}));t.points||(t.points=[],i.forEach((function(e){var n=xn("circle");t.points.push({circle:n,point:e}),t.g.appendChild(n)}))),t.points.forEach((function(r){r.circle.setAttribute("cx",t.parentNode.scales[e][t.scales[e]](r.point[t.fields[e]])),r.circle.setAttribute("cy",t.parentNode.scales[n][t.scales[n]](r.point[t.fields[n]])),r.circle.setAttribute("fill",t.stroke),r.circle.setAttribute("r",t.strokeWidth)}))}))}return t.objects.forEach((function(t){return t.draw()})),t.parentNode}}function Nn(){return new kn}kn.prototype=Object.create(me.prototype),kn.prototype.constructor=kn,kn.parent=me.prototype,kn.prototype=Object.assign(kn.prototype,{width:function(t){return _n(t)?this.strokeWidth:("function"==typeof t||(this.strokeWidth=t),this)},color:function(t){return _n(t)?this.stroke:("function"==typeof t||(this.stroke=t),this)},opacity:function(t){return _n(t)?this.strokeOpacity:("function"==typeof t||(this.strokeOpacity=t),this)},area:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"bottom";return"function"==typeof t||(this._area=t),this},fill:function(t){return _n(t)?this._fill:("function"==typeof t||(this._fill=t),this)},fillOpacity:function(t){return _n(t)?this._fillOpacity:("function"==typeof t||(this._fillOpacity=t),this)},zero:function(t){return _n(t)?this._zero:("function"==typeof t||(this._zero=t),this)},sort:function(t){return _n(t)?this._sortedData:("function"==typeof t||(this._sortedData=t),this)}}),Math.log10=Math.log10||function(t){return Math.log(t)*Math.LOG10E};var wn=["chrt","series"];function An(t){return null===t||null==t||void 0===t}function Mn(){return"c"+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function jn(t){return!An(t.type)&&wn.indexOf(t.type)>-1}function On(t){return function(t){if(Array.isArray(t))return En(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return En(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return En(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function En(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Sn={second:1e3,minute:6e4};Sn.hour=60*Sn.minute,Sn.day=24*Sn.hour,Object.keys(Sn).forEach((function(t){return Sn["".concat(t,"s")]=Sn[t]}));var Ln={bidiurnal:2*Sn.day,week:7*Sn.day,fortnight:14*Sn.day,month:30*Sn.day,year:365*Sn.day};function Fn(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t._id||Mn();return t.id(n).parent(this),e?this.objects=[t].concat(On(this.objects)):this.objects.push(t),this}function Cn(t){var e,n,r,i,a=this;return e=t.map((function(t){return[a.parentNode.scales.x[a.scales.x](t[a.fields.x]),An(t[a.fields.y])||(e=t[a.fields.y],"string"!=typeof e&&!isFinite(e))?null:a.parentNode.scales.y[a.scales.y](t[a.fields.y])];var e})),n=Tn,i=e.reduce((function(t,e){return An(e[1])?t.push([]):t[t.length-1].push(e),t}),[[]]).map((function(t){return t.reduce((function(t,e,r,i){return t.push(0===r?"M".concat(isNaN(e[0])?0:e[0],",").concat(isNaN(e[1])?0:e[1]):"".concat(n(e,r,i))),t}),[])})),(r=[]).concat.apply(r,On(i))}Object.keys(Ln).forEach((function(t){return Ln["".concat(t,"s")]=Ln[t]}));var Tn=function(t){return"L".concat(isNaN(t[0])?0:t[0],",").concat(isNaN(t[1])?0:t[1])};function Dn(){var t=this;this._id=null,this.objects=[],this.fields={x:null,y:null},this.scales={x:"x",y:"y"},this._classNames=[],this.interpolationFunction=Cn,this.attrs=[],this.id=function(e){return An(e)?t._id:(t._id=e||t._id,t.g&&t.g.setAttribute("id",t._id),t)},this.class=function(e){if(An(e))return t._classNames;var n=e.split(" ");return t._classNames=[].concat(On(t._classNames.filter((function(t){return t!==e}))),On(n)),t.g&&n.forEach((function(e){return t.g.classList.add(e)})),t},this.hasData=function(){return jn(t)};var e=function(e,n){An(n)||(t.scales[e]=n)};return this.x=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x";return An(n)?t.scales.x:(e("x",n),t)},this.y=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";return An(n)?t.scale.y:(e("y",n),t)},this}function In(){var t=this;Dn.call(this),this.type="stack",this._grouped=1,this._groupIndex=0,this._orientation="bottom",this._dataMap={x:{},y:{}},this.orientation=function(e){if(An(e))return t._orientation;return t._orientation=["bottom","left"].indexOf(e)>-1?e:t._orientation,t},this.add=function(e){e._stacked=t,Fn.call(t,e);var n=e.data;return e.data=function(r,i){return An(r)||(r=r.map((function(e){t._dataMap.x[e.x]||(t._dataMap.x[e.x]={x:e.x,values:[]}),t._dataMap.x[e.x].values.push(e);var n=An(t._dataMap.x[e.x].y0)?null:t._dataMap.x[e.x].y0;t._dataMap.x[e.x].y0="bottom"!==t._orientation?null:(n||0)+e.y,t._dataMap.y[e.y]||(t._dataMap.y[e.y]={y:e.y,values:[]}),t._dataMap.y[e.y].values.push(e);var r=An(t._dataMap.y[e.y].x0)?null:t._dataMap.y[e.y].x0;return t._dataMap.y[e.y].x0="left"!==t._orientation?null:(r||0)+e.x,Object.assign({},e,{stacked_y:(n||0)+e.y,y0:n,stacked_x:(r||0)+e.x,x0:r})}))),n.call(e,r,i)},t},this.draw=function(){var e="group"===t.parentNode.type?t.parentNode.parentNode:t.parentNode;return t.objects.forEach((function(t){-1===e.objects.map((function(t){return t._id})).indexOf(t._id)&&e.add(t)})),t.objects.forEach((function(t){return t.draw()})),e}}function $n(){var t=this;Dn.call(this),this.type="group",this.attr("width",1),this.width=function(e){return An(e)?t.attr("width")():(t.attr("width",Math.min(Math.max(e,0),1)),t)},this.add=function(e){return Fn.call(t,e),e._groupIndex=t.objects.length-1,t.objects.forEach((function(e){e._group=t,e._grouped=t.objects.length})),t},this.draw=function(){return t.objects.forEach((function(e){-1===t.parentNode.objects.map((function(t){return t._id})).indexOf(e._id)&&t.parentNode.add(e)})),t.objects.forEach((function(t){return t.draw()})),t.parentNode}}function Wn(t){return null===t||null==t||void 0===t}function Pn(t){return!isFinite(t)}function qn(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Un(t){return this.attr("strokeWidth",t,(function(t){return Math.max(0,t)}))}function Rn(t){return this.attr("stroke",t)}function zn(t){return this.attr("fill",t)}function Bn(t){return this.attr("barRatioWidth",t,(function(t){return Math.max(0,Math.min(t,1))}))}Dn.prototype=Object.create(function(){return new Dn}.prototype),Dn.prototype=Object.assign(Dn.prototype,{node:function(t){return t?(this.root=t,this.currentNode=this.root,this):this.g||this.root},data:function(t,e){if(!t)return jn(this)?this._data||[]:this;if(!jn(this))return this;if("function"==typeof arguments[0])return this._accessor=arguments[0],this;this._orginalData=t;var n=e||this._accessor;return this._accessor=n,this._data=n?t.map((function(t,e,r){return t instanceof Object?Object.assign({},t,n(t,e,r)):n(t,e,r)})):t,this},add:Fn,parent:function(t){return t?(this.parentNode=t,this):this.parentNode},accessor:function(){return this._accessor},render:function(t){var e;return this.g=(e="g",document.createElementNS("http://www.w3.org/2000/svg",e)),this._id&&this.g.setAttribute("id",this._id),jn(this)&&t?"stack"===t.type||"group"===t.group?t.g.prepend(this.g):t.g.append(this.g):this.currentNode.append(this.g),this.update(),this.parentNode},update:function(){this.parentNode.scales.x[this.scales.x]&&this.parentNode.scales.y[this.scales.y]&&this.draw()},curve:function(t){return An(t)?this.interpolationFunction:(this.interpolationFunction=t,this)},attr:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t};return An(t)?(console.warn("name missing: attr method requires a name for the attribute"),this):An(e)?this.attrs[t]:(this.attrs[t]="function"==typeof e?n(e):function(){return n(e)},this)}}),In.prototype=Object.create(Dn.prototype),In.prototype.constructor=In,In.parent=Dn.prototype,In.prototype=Object.assign(In.prototype,{}),$n.prototype=Object.create(Dn.prototype),$n.prototype.constructor=$n,$n.parent=Dn.prototype,$n.prototype=Object.assign($n.prototype,{});function Hn(){var t=this;Dn.call(this),this.type="series",this._stacked=null,this._grouped=1,this._groupIndex=0;var e=3;this.attr("barRatioWidth",1),this.attr("stroke","#000"),this.attr("fill","#ddd"),this.attr("strokeWidth",0),this._classNames=["chrt-bars"],this.getXScale=function(){return Wn(t.fields.x)&&(t.fields.x=t.parentNode.scales.x[t.scales.x].field),t.parentNode.scales.x[t.scales.x]},this.barWidth=function(){return e},this.draw=function(){var n=t.parentNode,r=n._margins,i=n.scales;t._classNames.forEach((function(e){return t.g.classList.add(e)})),Wn(t.fields.y)&&(t.fields.y=i.y[t.scales.y].field),Wn(t.fields.x)&&(t.fields.x=i.x[t.scales.x].field),Wn(t.fields.x0)&&(t.fields.x0="".concat(i.x[t.scales.x].field,"0"));var a=i.x[t.scales.x],o=i.y[t.scales.y],s=t._data.length?t._data:t.parentNode._data;if(!Wn(s)){e=s.reduce((function(e,n,r,i){var a=i[r+1];if(!(Wn(n)||Wn(n[t.fields.y])||Wn(a)||Wn(a[t.fields.y]))){var s=o(n[t.fields.y]),c=o(a[t.fields.y]),u=Math.abs(c-s);e=u<e?u:e}return e}),Math.abs(o.barwidth));var c=Math.floor(e)||e||0;(isNaN(c)||Pn(c))&&(c=1),c*=t._group?t._group.width():1;var u=t._stacked?t._stacked._grouped:t._grouped||t._grouped,l=t._stacked?t._stacked._groupIndex:t._groupIndex||t._groupIndex;e=c/u*t.attr("barRatioWidth")(),t.g.setAttribute("transform","translate(0, ".concat(c/u*l+c/u/2-c/2,")"));var d=t.parentNode.getAxis("y"),h=d?d.width():0;s.forEach((function(n,i,s){var c=t.g.querySelector("[data-id='rect-".concat(name,"-").concat(i,"']"));c||((c=qn("rect")).setAttribute("data-id","rect-".concat(name,"-").concat(i)),t.g.appendChild(c));var u=o(n[t.fields.y])-e/2;if(!isNaN(u)){var l=a(n[t._stacked?"stacked_".concat(t.fields.x):t.fields.x]),d=Wn(n[t.fields.x0])?null:a.isLog()?a.range[0]+r.left:a(n[t.fields.x0]);Wn(d)&&(d=a.isLog()?a.range[0]+r.left:a(0)),d=Wn(n[t.fields.x0])?a(a.domain[0]):a(n[t.fields.x0]),c.setAttribute("x",d),c.setAttribute("y",u),c.setAttribute("width",Math.max(Math.abs(l-d),Math.abs(l-d)-h/2)),c.setAttribute("height",e),c.setAttribute("fill",t.attr("fill")(n,i,s)),c.setAttribute("stroke",t.attr("stroke")(n,i,s)),c.setAttribute("stroke-width",t.attr("strokeWidth")(n,i,s))}}))}return t.objects.forEach((function(t){return t.draw()})),t.parentNode}}Hn.prototype=Object.create(Dn.prototype),Hn.prototype.constructor=Hn,Hn.parent=Dn.prototype,Hn.prototype=Object.assign(Hn.prototype,{width:Bn,strokeWidth:Un,color:Rn,fill:zn});function Yn(){var t=this;Dn.call(this),this.type="series",this._stacked=null,this._grouped=1,this._groupIndex=0;var e=3;this.attr("barRatioWidth",1),this.attr("stroke","#000"),this.attr("fill","#ddd"),this.attr("strokeWidth",0),this._classNames=["chrt-columns"],this.getXScale=function(){return Wn(t.fields.x)&&(t.fields.x=t.parentNode.scales.x[t.scales.x].field),t.parentNode.scales.x[t.scales.x]},this.draw=function(){var n=t.parentNode,r=n._margins,i=n.scales;t._classNames.forEach((function(e){return t.g.classList.add(e)})),Wn(t.fields.x)&&(t.fields.x=i.x[t.scales.x].field),Wn(t.fields.y)&&(t.fields.y=i.y[t.scales.y].field),Wn(t.fields.y0)&&(t.fields.y0="".concat(i.y[t.scales.y].field,"0"));var a=i.x[t.scales.x],o=i.y[t.scales.y],s=t._data.length?t._data:t.parentNode._data;if(!Wn(s)){e=s.reduce((function(e,n,r,i){var o=i[r+1];if(!(Wn(n)||Wn(n[t.fields.x])||Wn(o)||Wn(o[t.fields.x]))){var s=a(n[t.fields.x]),c=a(o[t.fields.x]),u=Math.abs(c-s);e=u<e?u:e}return e}),a.barwidth);var c=Math.floor(e)||e||0;(isNaN(c)||Pn(c))&&(c=1),c*=t._group?t._group.width():1;var u=t._stacked?t._stacked._grouped:t._grouped||t._grouped,l=t._stacked?t._stacked._groupIndex:t._groupIndex||t._groupIndex;e=c/u*t.attr("barRatioWidth")();var d=c/u*l+c/u/2-c/2;t.g.setAttribute("transform","translate(".concat(d,", 0)"));var h=t.parentNode.getAxis("x"),f=h?h.width():0;s.forEach((function(n,i,s){var c=t.g.querySelector("[data-id='rect-".concat(name,"-").concat(i,"']"));c||((c=qn("rect")).setAttribute("data-id","rect-".concat(name,"-").concat(i)),t.g.appendChild(c));var u=a(n[t.fields.x])-e/2;if(!isNaN(u)){var l=o(n[t._stacked?"stacked_".concat(t.fields.y):t.fields.y]),d=Wn(n[t.fields.y0])?null:o(n[t.fields.y0]);Wn(d)&&(d=o.isLog()?o.range[0]-r.bottom:o(0)),c.setAttribute("x",u),c.setAttribute("y",l>d?d:l),c.setAttribute("width",e),c.setAttribute("height",Math.max(Math.abs(l-d),Math.abs(l-d)-f/2)),c.setAttribute("fill",t.attr("fill")(n,i,s)),c.setAttribute("stroke",t.attr("stroke")(n,i,s)),c.setAttribute("stroke-width",t.attr("strokeWidth")(n,i,s))}}))}return t.objects.forEach((function(t){return t.draw()})),t.parentNode}}Yn.prototype=Object.create(Dn.prototype),Yn.prototype.constructor=Yn,Yn.parent=Dn.prototype,Yn.prototype=Object.assign(Yn.prototype,{width:Bn,strokeWidth:Un,color:Rn,fill:zn}),Math.log10=Math.log10||function(t){return Math.log(t)*Math.LOG10E};var Gn=["chrt","series"];function Zn(t){return null===t||null==t||void 0===t}function Jn(){return"c"+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function Xn(t){return!Zn(t.type)&&Gn.indexOf(t.type)>-1}function Vn(t){return function(t){if(Array.isArray(t))return Kn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Kn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kn(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Qn={second:1e3,minute:6e4};Qn.hour=60*Qn.minute,Qn.day=24*Qn.hour,Object.keys(Qn).forEach((function(t){return Qn["".concat(t,"s")]=Qn[t]}));var tr={bidiurnal:2*Qn.day,week:7*Qn.day,fortnight:14*Qn.day,month:30*Qn.day,year:365*Qn.day};function er(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t._id||Jn();return t.id(n).parent(this),e?this.objects=[t].concat(Vn(this.objects)):this.objects.push(t),this}function nr(t){var e,n,r,i,a=this;return e=t.map((function(t){return[a.parentNode.scales.x[a.scales.x](t[a.fields.x]),Zn(t[a.fields.y])||(e=t[a.fields.y],"string"!=typeof e&&!isFinite(e))?null:a.parentNode.scales.y[a.scales.y](t[a.fields.y])];var e})),n=rr,i=e.reduce((function(t,e){return Zn(e[1])?t.push([]):t[t.length-1].push(e),t}),[[]]).map((function(t){return t.reduce((function(t,e,r,i){return t.push(0===r?"M".concat(isNaN(e[0])?0:e[0],",").concat(isNaN(e[1])?0:e[1]):"".concat(n(e,r,i))),t}),[])})),(r=[]).concat.apply(r,Vn(i))}Object.keys(tr).forEach((function(t){return tr["".concat(t,"s")]=tr[t]}));var rr=function(t){return"L".concat(isNaN(t[0])?0:t[0],",").concat(isNaN(t[1])?0:t[1])};function ir(){var t=this;this._id=null,this.objects=[],this.fields={x:null,y:null},this.scales={x:"x",y:"y"},this._classNames=[],this.interpolationFunction=nr,this.attrs=[],this.id=function(e){return Zn(e)?t._id:(t._id=e||t._id,t.g&&t.g.setAttribute("id",t._id),t)},this.class=function(e){if(Zn(e))return t._classNames;var n=e.split(" ");return t._classNames=[].concat(Vn(t._classNames.filter((function(t){return t!==e}))),Vn(n)),t.g&&n.forEach((function(e){return t.g.classList.add(e)})),t},this.hasData=function(){return Xn(t)};var e=function(e,n){Zn(n)||(t.scales[e]=n)};return this.x=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x";return Zn(n)?t.scales.x:(e("x",n),t)},this.y=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";return Zn(n)?t.scale.y:(e("y",n),t)},this}function ar(){var t=this;ir.call(this),this.type="stack",this._grouped=1,this._groupIndex=0,this._orientation="bottom",this._dataMap={x:{},y:{}},this.orientation=function(e){if(Zn(e))return t._orientation;return t._orientation=["bottom","left"].indexOf(e)>-1?e:t._orientation,t},this.add=function(e){e._stacked=t,er.call(t,e);var n=e.data;return e.data=function(r,i){return Zn(r)||(r=r.map((function(e){t._dataMap.x[e.x]||(t._dataMap.x[e.x]={x:e.x,values:[]}),t._dataMap.x[e.x].values.push(e);var n=Zn(t._dataMap.x[e.x].y0)?null:t._dataMap.x[e.x].y0;t._dataMap.x[e.x].y0="bottom"!==t._orientation?null:(n||0)+e.y,t._dataMap.y[e.y]||(t._dataMap.y[e.y]={y:e.y,values:[]}),t._dataMap.y[e.y].values.push(e);var r=Zn(t._dataMap.y[e.y].x0)?null:t._dataMap.y[e.y].x0;return t._dataMap.y[e.y].x0="left"!==t._orientation?null:(r||0)+e.x,Object.assign({},e,{stacked_y:(n||0)+e.y,y0:n,stacked_x:(r||0)+e.x,x0:r})}))),n.call(e,r,i)},t},this.draw=function(){var e="group"===t.parentNode.type?t.parentNode.parentNode:t.parentNode;return t.objects.forEach((function(t){-1===e.objects.map((function(t){return t._id})).indexOf(t._id)&&e.add(t)})),t.objects.forEach((function(t){return t.draw()})),e}}function or(){var t=this;ir.call(this),this.type="group",this.attr("width",1),this.width=function(e){return Zn(e)?t.attr("width")():(t.attr("width",Math.min(Math.max(e,0),1)),t)},this.add=function(e){return er.call(t,e),e._groupIndex=t.objects.length-1,t.objects.forEach((function(e){e._group=t,e._grouped=t.objects.length})),t},this.draw=function(){return t.objects.forEach((function(e){-1===t.parentNode.objects.map((function(t){return t._id})).indexOf(e._id)&&t.parentNode.add(e)})),t.objects.forEach((function(t){return t.draw()})),t.parentNode}}function sr(t){return null===t||null==t||void 0===t}function cr(t){return this.attr("radius",t)}function ur(t){return this.attr("strokeWidth",t)}ir.prototype=Object.create(function(){return new ir}.prototype),ir.prototype=Object.assign(ir.prototype,{node:function(t){return t?(this.root=t,this.currentNode=this.root,this):this.g||this.root},data:function(t,e){if(!t)return Xn(this)?this._data||[]:this;if(!Xn(this))return this;if("function"==typeof arguments[0])return this._accessor=arguments[0],this;this._orginalData=t;var n=e||this._accessor;return this._accessor=n,this._data=n?t.map((function(t,e,r){return t instanceof Object?Object.assign({},t,n(t,e,r)):n(t,e,r)})):t,this},add:er,parent:function(t){return t?(this.parentNode=t,this):this.parentNode},accessor:function(){return this._accessor},render:function(t){var e;return this.g=(e="g",document.createElementNS("http://www.w3.org/2000/svg",e)),this._id&&this.g.setAttribute("id",this._id),Xn(this)&&t?"stack"===t.type||"group"===t.group?t.g.prepend(this.g):t.g.append(this.g):this.currentNode.append(this.g),this.update(),this.parentNode},update:function(){this.parentNode.scales.x[this.scales.x]&&this.parentNode.scales.y[this.scales.y]&&this.draw()},curve:function(t){return Zn(t)?this.interpolationFunction:(this.interpolationFunction=t,this)},attr:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t};return Zn(t)?(console.warn("name missing: attr method requires a name for the attribute"),this):Zn(e)?this.attrs[t]:(this.attrs[t]="function"==typeof e?n(e):function(){return n(e)},this)}}),ar.prototype=Object.create(ir.prototype),ar.prototype.constructor=ar,ar.parent=ir.prototype,ar.prototype=Object.assign(ar.prototype,{}),or.prototype=Object.create(ir.prototype),or.prototype.constructor=or,or.parent=ir.prototype,or.prototype=Object.assign(or.prototype,{});var lr="#000";function dr(){var t=this;ir.call(this),this.type="series",this.attr("radius",3),this.attr("stroke",lr),this.attr("fill",lr),this.attr("strokeWidth",0),this.attr("strokeOpacity",1),this.attr("fillOpacity",1),this._classNames=["chrt-points"],this.draw=function(){return t._classNames.forEach((function(e){return t.g.classList.add(e)})),sr(t._data)||(sr(t.fields.x)&&(t.fields.x=t.parentNode.scales.x[t.scales.x].field),sr(t.fields.y)&&(t.fields.y=t.parentNode.scales.y[t.scales.y].field),t._data.forEach((function(e,n,r){var i,a=t.g.querySelector("[data-id='circle-".concat(name,"-").concat(n,"']"));if(a||(i="circle",(a=document.createElementNS("http://www.w3.org/2000/svg",i)).setAttribute("data-id","circle-".concat(name,"-").concat(n)),t.g.appendChild(a)),!sr(t.parentNode.scales.x[t.scales.x])&&!sr(t.parentNode.scales.y[t.scales.y])){var o=t.parentNode.scales.x[t.scales.x](e[t.fields.x]),s=t.parentNode.scales.y[t.scales.y](e[t.fields.y]);a.setAttribute("cx",isNaN(o)?0:o),a.setAttribute("cy",isNaN(s)?0:s),a.setAttribute("r",t.attr("radius")(e,n,r)),a.setAttribute("fill",t.attr("fill")(e,n,r)),a.setAttribute("fill-opacity",t.attr("fillOpacity")(e,n,r)||1),a.setAttribute("stroke",t.attr("stroke")(e,n,r)),a.setAttribute("stroke-width",t.attr("strokeWidth")(e,n,r)),a.setAttribute("stroke-opacity",t.attr("strokeOpacity")(e,n,r))}}))),t.parentNode}}dr.prototype=Object.create(ir.prototype),dr.prototype.constructor=dr,dr.parent=ir.prototype,dr.prototype=Object.assign(dr.prototype,{pointSize:cr,size:cr,radius:cr,color:function(t){return this.attr("fill",t)},stroke:function(t){return this.attr("stroke",t)},width:ur,strokeWidth:ur,opacity:function(t){return this.attr("fillOpacity",t)},strokeOpacity:function(t){return this.attr("strokeOpacity",t)}}),Math.log10=Math.log10||function(t){return Math.log(t)*Math.LOG10E};var hr=["chrt","series"];function fr(t){return null===t||null==t||void 0===t}function pr(){return"c"+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function yr(t){return!fr(t.type)&&hr.indexOf(t.type)>-1}function gr(t){return function(t){if(Array.isArray(t))return mr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return mr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mr(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var br={second:1e3,minute:6e4};br.hour=60*br.minute,br.day=24*br.hour,Object.keys(br).forEach((function(t){return br["".concat(t,"s")]=br[t]}));var vr={bidiurnal:2*br.day,week:7*br.day,fortnight:14*br.day,month:30*br.day,year:365*br.day};function _r(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t._id||pr();return t.id(n).parent(this),e?this.objects=[t].concat(gr(this.objects)):this.objects.push(t),this}function xr(t){var e,n,r,i,a=this;return e=t.map((function(t){return[a.parentNode.scales.x[a.scales.x](t[a.fields.x]),fr(t[a.fields.y])||(e=t[a.fields.y],"string"!=typeof e&&!isFinite(e))?null:a.parentNode.scales.y[a.scales.y](t[a.fields.y])];var e})),n=kr,i=e.reduce((function(t,e){return fr(e[1])?t.push([]):t[t.length-1].push(e),t}),[[]]).map((function(t){return t.reduce((function(t,e,r,i){return t.push(0===r?"M".concat(isNaN(e[0])?0:e[0],",").concat(isNaN(e[1])?0:e[1]):"".concat(n(e,r,i))),t}),[])})),(r=[]).concat.apply(r,gr(i))}Object.keys(vr).forEach((function(t){return vr["".concat(t,"s")]=vr[t]}));var kr=function(t){return"L".concat(isNaN(t[0])?0:t[0],",").concat(isNaN(t[1])?0:t[1])};function Nr(){var t=this;this._id=null,this.objects=[],this.fields={x:null,y:null},this.scales={x:"x",y:"y"},this._classNames=[],this.interpolationFunction=xr,this.attrs=[],this.id=function(e){return fr(e)?t._id:(t._id=e||t._id,t.g&&t.g.setAttribute("id",t._id),t)},this.class=function(e){if(fr(e))return t._classNames;var n=e.split(" ");return t._classNames=[].concat(gr(t._classNames.filter((function(t){return t!==e}))),gr(n)),t.g&&n.forEach((function(e){return t.g.classList.add(e)})),t},this.hasData=function(){return yr(t)};var e=function(e,n){fr(n)||(t.scales[e]=n)};return this.x=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x";return fr(n)?t.scales.x:(e("x",n),t)},this.y=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";return fr(n)?t.scale.y:(e("y",n),t)},this}function wr(){var t=this;Nr.call(this),this.type="stack",this._grouped=1,this._groupIndex=0,this._orientation="bottom",this._dataMap={x:{},y:{}},this.orientation=function(e){if(fr(e))return t._orientation;return t._orientation=["bottom","left"].indexOf(e)>-1?e:t._orientation,t},this.add=function(e){e._stacked=t,_r.call(t,e);var n=e.data;return e.data=function(r,i){return fr(r)||(r=r.map((function(e){t._dataMap.x[e.x]||(t._dataMap.x[e.x]={x:e.x,values:[]}),t._dataMap.x[e.x].values.push(e);var n=fr(t._dataMap.x[e.x].y0)?null:t._dataMap.x[e.x].y0;t._dataMap.x[e.x].y0="bottom"!==t._orientation?null:(n||0)+e.y,t._dataMap.y[e.y]||(t._dataMap.y[e.y]={y:e.y,values:[]}),t._dataMap.y[e.y].values.push(e);var r=fr(t._dataMap.y[e.y].x0)?null:t._dataMap.y[e.y].x0;return t._dataMap.y[e.y].x0="left"!==t._orientation?null:(r||0)+e.x,Object.assign({},e,{stacked_y:(n||0)+e.y,y0:n,stacked_x:(r||0)+e.x,x0:r})}))),n.call(e,r,i)},t},this.draw=function(){var e="group"===t.parentNode.type?t.parentNode.parentNode:t.parentNode;return t.objects.forEach((function(t){-1===e.objects.map((function(t){return t._id})).indexOf(t._id)&&e.add(t)})),t.objects.forEach((function(t){return t.draw()})),e}}function Ar(){var t=this;Nr.call(this),this.type="group",this.attr("width",1),this.width=function(e){return fr(e)?t.attr("width")():(t.attr("width",Math.min(Math.max(e,0),1)),t)},this.add=function(e){return _r.call(t,e),e._groupIndex=t.objects.length-1,t.objects.forEach((function(e){e._group=t,e._grouped=t.objects.length})),t},this.draw=function(){return t.objects.forEach((function(e){-1===t.parentNode.objects.map((function(t){return t._id})).indexOf(e._id)&&t.parentNode.add(e)})),t.objects.forEach((function(t){return t.draw()})),t.parentNode}}function Mr(t){return null===t||null==t||void 0===t}function jr(t){return Mr(t)?this._position:("function"==typeof t||(this._position=Object.assign({},this._position,t)),this)}function Or(t){return Mr(t)?this._alignment:("function"==typeof coords||(this._alignment=Object.assign({},this._alignment,t)),this)}function Er(t){if(Mr(t))return this._alignment.vertical;var e=this._alignment.vertical;switch(t){case"top":e="-0.7em";break;case"bottom":e="1em";break;case"middle":default:e="0.25em"}return this._vposition=t,Or.call(this,{vertical:e})}function Sr(t){if(Mr(t))return this._alignment.horizontal;var e=this._alignment.horizontal;switch(t){case"end":case"right":this._alignment.horizontal="end",e="end";break;case"middle":case"center":this._alignment.horizontal="middle",e="middle";break;case"left":default:e="start"}return this._hposition=t,Or.call(this,{horizontal:e})}function Lr(t){return this.attr("outside",t)}function Fr(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}Nr.prototype=Object.create(function(){return new Nr}.prototype),Nr.prototype=Object.assign(Nr.prototype,{node:function(t){return t?(this.root=t,this.currentNode=this.root,this):this.g||this.root},data:function(t,e){if(!t)return yr(this)?this._data||[]:this;if(!yr(this))return this;if("function"==typeof arguments[0])return this._accessor=arguments[0],this;this._orginalData=t;var n=e||this._accessor;return this._accessor=n,this._data=n?t.map((function(t,e,r){return t instanceof Object?Object.assign({},t,n(t,e,r)):n(t,e,r)})):t,this},add:_r,parent:function(t){return t?(this.parentNode=t,this):this.parentNode},accessor:function(){return this._accessor},render:function(t){var e;return this.g=(e="g",document.createElementNS("http://www.w3.org/2000/svg",e)),this._id&&this.g.setAttribute("id",this._id),yr(this)&&t?"stack"===t.type||"group"===t.group?t.g.prepend(this.g):t.g.append(this.g):this.currentNode.append(this.g),this.update(),this.parentNode},update:function(){this.parentNode.scales.x[this.scales.x]&&this.parentNode.scales.y[this.scales.y]&&this.draw()},curve:function(t){return fr(t)?this.interpolationFunction:(this.interpolationFunction=t,this)},attr:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t};return fr(t)?(console.warn("name missing: attr method requires a name for the attribute"),this):fr(e)?this.attrs[t]:(this.attrs[t]="function"==typeof e?n(e):function(){return n(e)},this)}}),wr.prototype=Object.create(Nr.prototype),wr.prototype.constructor=wr,wr.parent=Nr.prototype,wr.prototype=Object.assign(wr.prototype,{}),Ar.prototype=Object.create(Nr.prototype),Ar.prototype.constructor=Ar,Ar.parent=Nr.prototype,Ar.prototype=Object.assign(Ar.prototype,{});function Cr(t){var e=this;Nr.call(this),this.type="label",this.g=null,this._fill=null,this._position={},this._alignment={horizontal:"start",vertical:"0.25em"},this._vposition="middle",this._hposition="start",this._margins={top:0,right:0,bottom:0,left:0},this._offsets=[function(){return 0},function(){return 0}],this._classNames=["chrt-label"],this.value=function(t){return e.attr("text",t)},this.value(t),this.draw=function(){if(!e.parentNode.parentNode.scales)return e.parentNode.parentNode;e.g||(e.g=Fr("g"),e.parentNode.g.appendChild(e.g)),e.g.setAttribute("id",e.id());var t=e.parentNode.parentNode.scales;e._classNames.forEach((function(t){return e.g.classList.add(t)}));var n=function(t){return function(n){return Mr(t[n])?!Mr(e.parentNode._data)&&e.parentNode._data.length?e.parentNode._data[e.parentNode._data.length-1][n]:0:t[n]}};if(t&&t.x[e.parentNode.scales.x]){var r=t.x[e.parentNode.scales.x](n(e._position)(e.parentNode.fields.x))+e._margins.left-e._margins.right+e._offsets[1](),i=t.y[e.parentNode.scales.y](n(e._position)(e.parentNode.fields.y))+e._margins.top-e._margins.bottom+e._offsets[0]();e.g.setAttribute("transform","translate(".concat(isNaN(r)?0:r,",").concat(isNaN(i)?0:i,")"))}var a=e.g.querySelector("text");a||((a=Fr("text")).setAttribute("data-id","label-".concat(e.attr("text")())),e.g.appendChild(a)),a.setAttribute("fill",e._fill||e.parentNode.stroke||"#000"),a.textContent=e.attr("text")();var o=e._alignment.horizontal;e.outside()&&e.outside()()&&(o="start"===o?"end":"start"),a.setAttribute("text-anchor",o),a.setAttribute("dy",e._alignment.vertical)}}function Tr(){var t=this;Nr.call(this),this.type="labels",this.labels=[],this.g=null,this.labelsFilter=function(){return!0},this._alignment={horizontal:"end",vertical:"middle"},this._hposition="middle",this._vposition="top",this.value=function(e){return t.attr("textField",e)},this.position=function(e){return t.attr("position",e)},this.draw=function(){var e=t.parentNode.data(),n=e.length?e:t.parentNode.parentNode._data||[];t.g||(t.g=Fr("g"),t.parentNode.g.appendChild(t.g));var r="chrtBars"===t.parentNode.constructor.name;return n.forEach((function(e,n){var i=e[t.parentNode.fields.y],a=Mr(e[t.parentNode.fields.x0])?t.parentNode.getXScale().domain[0]:e[t.parentNode.fields.x0],o=a;switch(t._alignment.horizontal){case"start":break;case"end":o=e[t.parentNode.fields.x]+a;break;case"center":case"middle":o=(e[t.parentNode.fields.x]+a)/2}o=r?o:e[t.parentNode.fields.x];var s={top:function(){switch(t._vposition){case"top":return r?-(t.parentNode.barWidth()||0)/2:0;case"bottom":return r?(t.parentNode.barWidth()||0)/2:0;case"center":case"middle":return 0}}};t.labels[n]||(t.labels[n]=function(t){return new Cr(t)}(),t.parentNode.add(t.labels[n]));var c=t.attr("textField"),u=Mr(c)?e[t.parentNode.fields.y]:c(e),l=t.class();l.length&&t.labels[n].class(l.join(" ")),t.labels[n].value(u).top(i).left(o).align(t._hposition).valign(t._vposition).offset(s.top||0,0).outside(t.outside())})),t.parentNode}}Cr.prototype=Object.create(Nr.prototype),Cr.prototype.constructor=Cr,Cr.prototype=Object.assign(Cr.prototype,{color:function(t){return Mr(t)?this._fill:("function"==typeof t||(this._fill=t),this)},position:jr,top:function(t){return Mr(t)?this.position().y:jr.call(this,{y:t})},left:function(t){return Mr(t)?this.position().x:jr.call(this,{x:t})},align:Sr,valign:Er,margins:function(t){if(Mr(t))return this._margins;var e=t.top,n=t.bottom,r=t.left,i=t.right;return this._margins.top=Mr(e)?this._margins.top:e,this._margins.bottom=Mr(n)?this._margins.bottom:n,this._margins.left=Mr(r)?this._margins.left:r,this._margins.right=Mr(i)?this._margins.right:i,this},offset:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(Mr(e))return this._offsets;var r=e[0],i=e[1],a=this._offsets[0];Mr(r)||(a="function"==typeof r?r:function(){return r});var o=this._offsets[1];return Mr(i)||(o="function"==typeof i?i:function(){return i}),this._offsets=[a,o],this},outside:Lr}),Tr.prototype=Object.create(Nr.prototype),Tr.prototype.constructor=Tr,Tr.parent=Nr.prototype,Tr.prototype=Object.assign(Tr.prototype,{align:Sr,valign:Er,outside:Lr}),Math.log10=Math.log10||function(t){return Math.log(t)*Math.LOG10E};var Dr=["chrt","series"];function Ir(t){return null===t||null==t||void 0===t}function $r(){return"c"+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function Wr(t){return!Ir(t.type)&&Dr.indexOf(t.type)>-1}function Pr(t){return function(t){if(Array.isArray(t))return qr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return qr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qr(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ur={second:1e3,minute:6e4};Ur.hour=60*Ur.minute,Ur.day=24*Ur.hour,Object.keys(Ur).forEach((function(t){return Ur["".concat(t,"s")]=Ur[t]}));var Rr={bidiurnal:2*Ur.day,week:7*Ur.day,fortnight:14*Ur.day,month:30*Ur.day,year:365*Ur.day};function zr(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t._id||$r();return t.id(n).parent(this),e?this.objects=[t].concat(Pr(this.objects)):this.objects.push(t),this}function Br(t){var e,n,r,i,a=this;return e=t.map((function(t){return[a.parentNode.scales.x[a.scales.x](t[a.fields.x]),Ir(t[a.fields.y])||(e=t[a.fields.y],"string"!=typeof e&&!isFinite(e))?null:a.parentNode.scales.y[a.scales.y](t[a.fields.y])];var e})),n=Hr,i=e.reduce((function(t,e){return Ir(e[1])?t.push([]):t[t.length-1].push(e),t}),[[]]).map((function(t){return t.reduce((function(t,e,r,i){return t.push(0===r?"M".concat(isNaN(e[0])?0:e[0],",").concat(isNaN(e[1])?0:e[1]):"".concat(n(e,r,i))),t}),[])})),(r=[]).concat.apply(r,Pr(i))}Object.keys(Rr).forEach((function(t){return Rr["".concat(t,"s")]=Rr[t]}));var Hr=function(t){return"L".concat(isNaN(t[0])?0:t[0],",").concat(isNaN(t[1])?0:t[1])};function Yr(){var t=this;this._id=null,this.objects=[],this.fields={x:null,y:null},this.scales={x:"x",y:"y"},this._classNames=[],this.interpolationFunction=Br,this.attrs=[],this.id=function(e){return Ir(e)?t._id:(t._id=e||t._id,t.g&&t.g.setAttribute("id",t._id),t)},this.class=function(e){if(Ir(e))return t._classNames;var n=e.split(" ");return t._classNames=[].concat(Pr(t._classNames.filter((function(t){return t!==e}))),Pr(n)),t.g&&n.forEach((function(e){return t.g.classList.add(e)})),t},this.hasData=function(){return Wr(t)};var e=function(e,n){Ir(n)||(t.scales[e]=n)};return this.x=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x";return Ir(n)?t.scales.x:(e("x",n),t)},this.y=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";return Ir(n)?t.scale.y:(e("y",n),t)},this}function Gr(){var t=this;Yr.call(this),this.type="stack",this._grouped=1,this._groupIndex=0,this._orientation="bottom",this._dataMap={x:{},y:{}},this.orientation=function(e){if(Ir(e))return t._orientation;return t._orientation=["bottom","left"].indexOf(e)>-1?e:t._orientation,t},this.add=function(e){e._stacked=t,zr.call(t,e);var n=e.data;return e.data=function(r,i){return Ir(r)||(r=r.map((function(e){t._dataMap.x[e.x]||(t._dataMap.x[e.x]={x:e.x,values:[]}),t._dataMap.x[e.x].values.push(e);var n=Ir(t._dataMap.x[e.x].y0)?null:t._dataMap.x[e.x].y0;t._dataMap.x[e.x].y0="bottom"!==t._orientation?null:(n||0)+e.y,t._dataMap.y[e.y]||(t._dataMap.y[e.y]={y:e.y,values:[]}),t._dataMap.y[e.y].values.push(e);var r=Ir(t._dataMap.y[e.y].x0)?null:t._dataMap.y[e.y].x0;return t._dataMap.y[e.y].x0="left"!==t._orientation?null:(r||0)+e.x,Object.assign({},e,{stacked_y:(n||0)+e.y,y0:n,stacked_x:(r||0)+e.x,x0:r})}))),n.call(e,r,i)},t},this.draw=function(){var e="group"===t.parentNode.type?t.parentNode.parentNode:t.parentNode;return t.objects.forEach((function(t){-1===e.objects.map((function(t){return t._id})).indexOf(t._id)&&e.add(t)})),t.objects.forEach((function(t){return t.draw()})),e}}function Zr(){var t=this;Yr.call(this),this.type="group",this.attr("width",1),this.width=function(e){return Ir(e)?t.attr("width")():(t.attr("width",Math.min(Math.max(e,0),1)),t)},this.add=function(e){return zr.call(t,e),e._groupIndex=t.objects.length-1,t.objects.forEach((function(e){e._group=t,e._grouped=t.objects.length})),t},this.draw=function(){return t.objects.forEach((function(e){-1===t.parentNode.objects.map((function(t){return t._id})).indexOf(e._id)&&t.parentNode.add(e)})),t.objects.forEach((function(t){return t.draw()})),t.parentNode}}function Jr(t){return null===(e=t)||null==e||void 0===e?(this.markersFilter=function(){return!0},this):"function"==typeof t?(this.markersFilter=function(e,n,r){return t(e,n,r)},this):"boolean"==typeof t?(this.markersFilter=function(){return t},this):Number.isFinite(t)?(this.markersFilter=function(e){return t===e},this):Array.isArray(t)?(this.markersFilter=function(e){return t.indexOf(e)>-1},this):this;var e}function Xr(t){Jr.call(this,t);var e=this.markersFilter;return this.markersFilter=function(t,n,r){return!e(t,n,r)},this}function Vr(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}Yr.prototype=Object.create(function(){return new Yr}.prototype),Yr.prototype=Object.assign(Yr.prototype,{node:function(t){return t?(this.root=t,this.currentNode=this.root,this):this.g||this.root},data:function(t,e){if(!t)return Wr(this)?this._data||[]:this;if(!Wr(this))return this;if("function"==typeof arguments[0])return this._accessor=arguments[0],this;this._orginalData=t;var n=e||this._accessor;return this._accessor=n,this._data=n?t.map((function(t,e,r){return t instanceof Object?Object.assign({},t,n(t,e,r)):n(t,e,r)})):t,this},add:zr,parent:function(t){return t?(this.parentNode=t,this):this.parentNode},accessor:function(){return this._accessor},render:function(t){var e;return this.g=(e="g",document.createElementNS("http://www.w3.org/2000/svg",e)),this._id&&this.g.setAttribute("id",this._id),Wr(this)&&t?"stack"===t.type||"group"===t.group?t.g.prepend(this.g):t.g.append(this.g):this.currentNode.append(this.g),this.update(),this.parentNode},update:function(){this.parentNode.scales.x[this.scales.x]&&this.parentNode.scales.y[this.scales.y]&&this.draw()},curve:function(t){return Ir(t)?this.interpolationFunction:(this.interpolationFunction=t,this)},attr:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t};return Ir(t)?(console.warn("name missing: attr method requires a name for the attribute"),this):Ir(e)?this.attrs[t]:(this.attrs[t]="function"==typeof e?n(e):function(){return n(e)},this)}}),Gr.prototype=Object.create(Yr.prototype),Gr.prototype.constructor=Gr,Gr.parent=Yr.prototype,Gr.prototype=Object.assign(Gr.prototype,{}),Zr.prototype=Object.create(Yr.prototype),Zr.prototype.constructor=Zr,Zr.parent=Yr.prototype,Zr.prototype=Object.assign(Zr.prototype,{});function Kr(){var t=this;Yr.call(this),this.type="markers",this.markers=[],this.g=null,this.markersFilter=function(){return!0},this.draw=function(){var e=t.parentNode.data(),n=e.length?e:t.parentNode.parentNode._data||[],r=t._radius||2,i=t._fill||t.parentNode.stroke||"#000",a=t._opacity||t.parentNode.strokeOpacity||1,o=t._stroke||t.parentNode.stroke||"#000",s=t._strokeOpacity||t.parentNode.strokeOpacity||1,c=t._strokeWidth||t.parentNode.strokeWidth||1;return t.g||(t.g=Vr("g"),t.parentNode.g.appendChild(t.g)),n.forEach((function(e,n){if(t.markers[n])t.markers[n].marker=e;else{var r=Vr("circle");t.markers.push({circle:r,marker:e}),t.g.appendChild(r)}})),t.markers.filter((function(e,n,r){return t.markersFilter(e.marker,n,r)})).forEach((function(e){var n=t.parentNode.parentNode.scales.x[t.parentNode.scales.x](e.marker[t.parentNode.fields.x]);e.circle.setAttribute("cx",isNaN(n)?0:n);var u=t.parentNode.parentNode.scales.y[t.parentNode.scales.y](e.marker[t.parentNode.fields.y]);e.circle.setAttribute("cy",isNaN(u)?0:u),e.circle.setAttribute("fill",i),e.circle.setAttribute("fill-opacity",a),e.circle.setAttribute("r",r),e.circle.setAttribute("stroke",o),e.circle.setAttribute("stroke-width",c),e.circle.setAttribute("stroke-opacity",s)})),t.parentNode}}function Qr(t){return null===t||null==t||void 0===t}function ti(t){return Qr(t)||"function"==typeof t||(this._position=Object.assign({},this._position,t)),this}function ei(t){return Qr(t)||(console.log("alignment",t),"function"==typeof coords||(this._alignment=Object.assign({},this._alignment,t))),this}function ni(t){return document.createElement(t)}function ri(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:"x",y:"y"};me.call(this),this.type="annnotation",this.div=null,this.text=t,this._fill=null,this._position={},this._alignment={horizontal:"start",vertical:"0.25em"},this._offsets=[0,0],this._classNames=["chrt-annotation"],this.draw=function(){if(!e.parentNode.scales)return e.parentNode;var r={x:e.parentNode.scales.x[n.x]||Object.values(e.parentNode.scales.x)[0],y:e.parentNode.scales.y[n.y]||Object.values(e.parentNode.scales.y)[0]};if(e.div||(e.div=ni("div"),e.parentNode.root.appendChild(e.div),e.div.style.position="absolute"),e.div.setAttribute("id",e.id()),e._classNames.forEach((function(t){return e.div.classList.add(t)})),r&&r.x){var i=Qr(e._position.x)?0:r.x(e._position.x),a=Qr(e._position.y)?0:r.y(e._position.y);e.div.style.left="".concat(i+e._offsets[0],"px"),e.div.style.top="".concat(a+e._offsets[1],"px")}var o=e.div.querySelector("span");o||(o=ni("span"),e.div.appendChild(o)),o.innerHTML=t}}function ii(t,e){return new ri(t,e)}function ai(e){let n,r;return{c(){n=l("div"),r=l("div"),r.innerHTML="<g><text></text></g>",p(r,"class","axis-label"),p(n,"class","chart svelte-1ig0fob"),p(n,"id",e[0])},m(t,i){s(t,n,i),o(n,r),e[6](n)},p(t,[e]){1&e&&p(n,"id",t[0])},i:t,o:t,d(t){t&&c(n),e[6](null)}}}Kr.prototype=Object.create(Yr.prototype),Kr.prototype.constructor=Kr,Kr.parent=Yr.prototype,Kr.prototype=Object.assign(Kr.prototype,{fill:function(t){return t?("function"==typeof t||(this._fill=t),this):this._fill},size:function(t){return t?("function"==typeof t||(this._radius=t/2),this):2*this._radius},stroke:function(t){return t?("function"==typeof t||(this._stroke=t),this):this._stroke},strokeWidth:function(t){return t?("function"==typeof t||(this._strokeWidth=t),this):this._strokeWidth},showMarkers:Jr,hideMarkers:Xr,firstMarker:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?Jr.call(this,(function(t,e){return 0===e})):Xr.call(this,(function(t,e){return 0===e})),this},lastMarker:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?Jr.call(this,(function(t,e,n){return e===n.length-1})):Xr.call(this,(function(t,e,n){return e===n.length-1})),this},firstAndLastMarkers:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?Jr.call(this,(function(t,e,n){return 0===e||e===n.length-1})):Xr.call(this,(function(t,e,n){return 0===e||e===n.length-1})),this}}),ri.prototype=Object.create(me.prototype),ri.prototype.constructor=ri,ri.parent=me.prototype,ri.prototype=Object.assign(ri.prototype,{color:function(t){return t?("function"==typeof t||(this._fill=t),this):this._fill},position:ti,top:function(t){return ti.call(this,{y:t})},left:function(t){return ti.call(this,{x:t})},align:function(t){var e=this._alignment.horizontal;switch(t){case"right":e="end";break;case"center":e="middle";break;default:e="start"}return ei.call(this,{horizontal:e})},valign:function(t){var e=this._alignment.vertical;switch(t){case"top":e="-0.7em";break;case"bottom":e="1em";break;default:e="0.25em"}return ei.call(this,{vertical:e})},offset:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(Qr(e))return this._offsets;var r=e[0],i=e[1];return this._offsets[0]=Qr(r)?this._offsets[0]:r,this._offsets[1]=Qr(i)?this._offsets[1]:i,this}});function oi(t,e,n){let r,{data:i}=e,{id:a}=e,{label:o}=e,{charts:s}=e,{position:c}=e;const u=fe(),l=t=>`Week ${new Date(i[a][t].startDay).getMonth()+1}/${new Date(i[a][t].startDay).getDate()}`;return m((()=>{const t=Math.max(...i[a].map((t=>t.value))),e=i[a].find((e=>e.value===t)),n=i[a].findIndex((e=>e.value===t)),d=Math.min(...i[a].map((t=>t.value)));i[a].find((t=>t.value===d)),i[a].findIndex((t=>t.value===d)),u.node(r).svg().size(750,150).margins({bottom:30,left:0,right:0}).padding({left:30,right:30,top:30}).x(null,null).y([Math.min(0,...i[a].map((t=>t.value))),null]),u.add((new Yn).fill((e=>e.value===t?"url(#stripes2)":e.value===d?"url(#stripes3)":"url(#stripes)")).color((t=>(t.value,"#444"))).strokeWidth(1).width(.6).data(i[a],((t,e)=>({x:e,y:t.value,startDay:new Date(t.startDay),endDay:new Date(t.endDay)})))),0==c&&u.add(Ie().zero(0).orient("top").setTickPosition("outside").setLabelPosition("outside").class("axis-label").format((t=>l(t))).color("#444").width(1)).add(Ie().zero(0).orient("bottom").hideTicks().hideLabels().color("#444").width(1)),c<s-1&&c>0&&u.add(Ie().zero(0).orient("bottom").hideTicks().hideLabels().color("#444").width(1)),c==s-1&&u.add(Ie().zero(0).orient("bottom").setTickPosition("outside").setLabelPosition("outside").class("axis-label").format((t=>l(t))).color("#444").width(1)),u.add(We().hideAxis().hideLabels().hideTicks().add(Be().dashed().stroke("#444").strokeWidth(1).from(t))),u.add(ii(`<div>${o}: ${new Intl.NumberFormat("en-EN").format(e.value)}</div>`).top(t).left(n)),u.add(ii(`<div>${new Intl.NumberFormat("en-EN").format(i[a][i[a].length-1].value)}</div>`).top(i[a][i[a].length-1].value).left(i[a].length-1).class("thisWeek"))})),t.$$set=t=>{"data"in t&&n(2,i=t.data),"id"in t&&n(0,a=t.id),"label"in t&&n(3,o=t.label),"charts"in t&&n(4,s=t.charts),"position"in t&&n(5,c=t.position)},[a,r,i,o,s,c,function(t){v[t?"unshift":"push"]((()=>{r=t,n(1,r)}))}]}class si extends q{constructor(t){super(),P(this,t,oi,ai,a,{data:2,id:0,label:3,charts:4,position:5})}}function ci(e){let n,r,i;return{c(){n=l("div"),r=l("div"),r.innerHTML="<g><text></text></g>",p(r,"class","axis-label"),p(n,"class",i="chart chart-"+e[0]+" svelte-1ig0fob"),p(n,"id",e[0])},m(t,i){s(t,n,i),o(n,r),e[7](n)},p(t,[e]){1&e&&i!==(i="chart chart-"+t[0]+" svelte-1ig0fob")&&p(n,"class",i),1&e&&p(n,"id",t[0])},i:t,o:t,d(t){t&&c(n),e[7](null)}}}function ui(t,e,n){let{data2020:r}=e,{data2021:i}=e,{id:a}=e,{label:o}=e,{charts:s}=e,{position:c}=e;const u=0===c?250:4===c?180:150,l=t=>t>0&&t<=50?`Week ${t}`:null;let d;const h=fe();return m((()=>{const t=Math.max(...r[a].map((t=>t.value)),...i[a].map((t=>t.value))),e=r[a].find((e=>e.value===t))||i[a].find((e=>e.value===t));r[a].findIndex((e=>e.value===t))||i[a].findIndex((e=>e.value===t));const n=Math.min(...r[a].map((t=>t.value)),...i[a].map((t=>t.value)));r[a].find((t=>t.value===n))||i[a].find((t=>t.value===n)),r[a].findIndex((t=>t.value===n))||i[a].findIndex((t=>t.value===n)),h.node(d).svg().size(950,u).margins({bottom:4===c?30:0,left:0,right:0,top:0===c?30:0}).padding({left:10,right:10,top:0===c?60:40}).x([1,53]).y([Math.min(0,...r[a].map((t=>t.value)),...i[a].map((t=>t.value))),null]),h.add(Nn().area().fill("url(#dots)").color("#9a9a9a").width(1).data(r[a],((t,e)=>({x:t.week,y:t.value})))),h.add(Nn().fill("transparent").color("#444").width(2).data(i[a],((t,e)=>({x:t.week,y:t.value})))),0==c&&h.add(Ie().zero(0).orient("top").setTickPosition("outside").setLabelPosition("outside").class("axis-label").format((t=>l(t))).color("#444").width(1)).add(Ie().zero(0).orient("bottom").hideTicks().hideLabels().color("#444").width(1)),c<s-1&&c>0&&h.add(Ie().zero(0).orient("bottom").hideTicks().hideLabels().color("#444").width(1)),c==s-1&&h.add(Ie().zero(0).orient("bottom").setTickPosition("outside").setLabelPosition("outside").class("axis-label").format((t=>l(t))).color("#444").width(1)),h.add(We().hideAxis().hideLabels().hideTicks().add(Be().dashed().stroke("#444").strokeWidth(1).from(t))),h.add(Ie().hideAxis().hideLabels().hideTicks().add(Ye().dashed().stroke("#9a9a9a").strokeWidth(1).from(21)).add(Ye().dashed().stroke("#9a9a9a").strokeWidth(1).from(9)).add(Ye().dashed().stroke("#9a9a9a").strokeWidth(1).from(45)).add(Ye().dashed().stroke("#9a9a9a").strokeWidth(1).from(53))),h.add(ii(`<div>${o}:<br />${new Intl.NumberFormat("en-EN").format(e.value)} Week of ${new Date(e.datetime).getMonth()+1}/${new Date(e.datetime).getDate()}/${new Date(e.datetime).getFullYear()}</div>`).top(t).left(e.week).class("marker").class(1===c?"reverse":"normal")),0===c&&(h.add(ii("<div>Week of 5/18/2020:<br />End of Lockdown</div>").top(t/2).left(21).class("milestone")),h.add(ii("<div>Week of 2/24/2020:<br />First Official<br />Covid Case in Italy</div>").top(1).left(9).class("milestone-3")),h.add(ii("<div>Week of 11/2/2020:<br />Lockdowns are now<br />Region-Based</div>").top(t/2).left(45).class("milestone-2")),h.add(ii("<div>Week of 12/25/2020:<br />Vaccination Campaign begins</div>").top(t/2).left(53).class("milestone-2"))),h.add(ii("<div>2021</div>").top(i[a][0].value).left(i[a][0].week).class("title").class("title2021")),h.add(ii("<div>2020</div>").top(r[a][0].value).left(r[a][0].week).class("title").class("title2020"))})),t.$$set=t=>{"data2020"in t&&n(2,r=t.data2020),"data2021"in t&&n(3,i=t.data2021),"id"in t&&n(0,a=t.id),"label"in t&&n(4,o=t.label),"charts"in t&&n(5,s=t.charts),"position"in t&&n(6,c=t.position)},[a,d,r,i,o,s,c,function(t){v[t?"unshift":"push"]((()=>{d=t,n(1,d)}))}]}class li extends q{constructor(t){super(),P(this,t,ui,ci,a,{data2020:2,data2021:3,id:0,label:4,charts:5,position:6})}}function di(t,e,n){const r=t.slice();return r[4]=e[n],r[6]=n,r}function hi(t,e,n){const r=t.slice();return r[4]=e[n],r[6]=n,r}function fi(t){let e,n,r=t[1],i=[];for(let e=0;e<r.length;e+=1)i[e]=pi(hi(t,r,e));const a=t=>T(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=f()},m(t,r){for(let e=0;e<i.length;e+=1)i[e].m(t,r);s(t,e,r),n=!0},p(t,n){if(3&n){let o;for(r=t[1],o=0;o<r.length;o+=1){const a=hi(t,r,o);i[o]?(i[o].p(a,n),C(i[o],1)):(i[o]=pi(a),i[o].c(),C(i[o],1),i[o].m(e.parentNode,e))}for(L(),o=r.length;o<i.length;o+=1)a(o);F()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)C(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)T(i[t]);n=!1},d(t){u(i,t),t&&c(e)}}}function pi(t){let e,n,r,i;return n=new si({props:{id:t[4].id,data:t[0],label:t[4].label,position:t[6],charts:t[1].length}}),{c(){e=l("div"),D(n.$$.fragment),r=h(),p(e,"class","chart svelte-143pdwp"),p(e,"id","wrapper-"+t[4].id)},m(t,a){s(t,e,a),I(n,e,null),o(e,r),i=!0},p(t,e){const r={};1&e&&(r.data=t[0]),n.$set(r)},i(t){i||(C(n.$$.fragment,t),i=!0)},o(t){T(n.$$.fragment,t),i=!1},d(t){t&&c(e),$(n)}}}function yi(t){let e,n,r=t[1],i=[];for(let e=0;e<r.length;e+=1)i[e]=gi(di(t,r,e));const a=t=>T(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=f()},m(t,r){for(let e=0;e<i.length;e+=1)i[e].m(t,r);s(t,e,r),n=!0},p(t,n){if(14&n){let o;for(r=t[1],o=0;o<r.length;o+=1){const a=di(t,r,o);i[o]?(i[o].p(a,n),C(i[o],1)):(i[o]=gi(a),i[o].c(),C(i[o],1),i[o].m(e.parentNode,e))}for(L(),o=r.length;o<i.length;o+=1)a(o);F()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)C(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)T(i[t]);n=!1},d(t){u(i,t),t&&c(e)}}}function gi(e){let n,r,i,a;return r=new li({props:{id:e[4].id,data2020:e[2],data2021:e[3],label:e[4].label2,position:e[6],charts:e[1].length}}),{c(){n=l("div"),D(r.$$.fragment),i=h(),p(n,"class","chart chart2 svelte-143pdwp"),p(n,"id","wrapper-"+e[4].id)},m(t,e){s(t,n,e),I(r,n,null),o(n,i),a=!0},p:t,i(t){a||(C(r.$$.fragment,t),a=!0)},o(t){T(r.$$.fragment,t),a=!1},d(t){t&&c(n),$(r)}}}function mi(t){let e,n,r,i,a,u,d,f,y,g,m,b,v,_,x,k,N,w,A,M,j,O,E,S,D,I,$,W,P,q,U,R,z,B=void 0!==t[0]&&fi(t),H=void 0!==t[0]&&yi(t);return{c(){e=l("main"),n=l("div"),r=l("h1"),r.innerHTML='Italy: Weekly Covid19 Progression since January 1<span class="svelte-143pdwp">st</span>, 2021',i=h(),B&&B.c(),a=h(),u=l("h4"),u.textContent="Data from Italian Civil Protection.\n\t\t\tWeeks are computed from Friday to Friday, the day the Italian Government and the Italian Scientific Committee review COVID-Related Data.",d=h(),f=l("br"),y=h(),g=l("br"),m=h(),b=l("br"),v=h(),_=l("br"),x=h(),k=l("hr"),N=h(),w=l("br"),A=h(),M=l("br"),j=h(),O=l("br"),E=h(),S=l("br"),D=h(),I=l("div"),$=l("h1"),$.innerHTML='Italy: Comparing Weekly Covid19 Progression Years <span class="y2020 svelte-143pdwp">2020</span> vs <span class="y2021 svelte-143pdwp">2021</span>',W=h(),H&&H.c(),P=h(),q=l("h4"),q.textContent="Data from Italian Civil Protection.",U=h(),R=l("div"),R.innerHTML='<svg><defs><pattern id="stripes" width="5px" height="5px" patternUnits="userSpaceOnUse" patternContentUnits="userSpaceOnUse" viewBox="0 0 100 100" preserveAspectRatio="none" patternTransform="rotate(-45)"><line x1="0" x2="100" y1="46" y2="46" stroke-width="20" stroke="#444"></line><line x1="0" x2="100" y1="92" y2="92" stroke-width="20" stroke="#444"></line><line x1="46" x2="46" y1="0" y2="100" stroke-width="20" stroke="#444"></line><line x1="92" x2="92" y1="0" y2="100" stroke-width="20" stroke="#444"></line></pattern><pattern id="stripes2" width="5px" height="5px" patternUnits="userSpaceOnUse" patternContentUnits="userSpaceOnUse" viewBox="0 0 140 140" preserveAspectRatio="none" patternTransform="rotate(-45)"><line x1="0" x2="140" y1="70" y2="70" stroke-width="30" stroke="#444"></line></pattern><pattern id="stripes3" width="5px" height="5px" patternUnits="userSpaceOnUse" patternContentUnits="userSpaceOnUse" viewBox="0 0 140 140" preserveAspectRatio="none" patternTransform="rotate(45)"><line x1="0" x2="140" y1="70" y2="70" stroke-width="30" stroke="#444"></line></pattern><pattern id="dots" width="3px" height="3px" patternUnits="userSpaceOnUse" patternContentUnits="userSpaceOnUse" viewBox="0 0 5 5" preserveAspectRatio="none" patternTransform="rotate(45)"><circle r="1" cx="3" cy="3" fill="#9a9a9a" stroke="transparent" stroke-width="0"></circle></pattern></defs></svg>',p(r,"class","svelte-143pdwp"),p(u,"class","svelte-143pdwp"),p(n,"class","wrapper svelte-143pdwp"),p($,"class","svelte-143pdwp"),p(q,"class","svelte-143pdwp"),p(I,"class","wrapper wrapper2 svelte-143pdwp"),p(R,"class","assets svelte-143pdwp")},m(t,c){s(t,e,c),o(e,n),o(n,r),o(n,i),B&&B.m(n,null),o(n,a),o(n,u),o(e,d),o(e,f),o(e,y),o(e,g),o(e,m),o(e,b),o(e,v),o(e,_),o(e,x),o(e,k),o(e,N),o(e,w),o(e,A),o(e,M),o(e,j),o(e,O),o(e,E),o(e,S),o(e,D),o(e,I),o(I,$),o(I,W),H&&H.m(I,null),o(I,P),o(I,q),o(e,U),o(e,R),z=!0},p(t,[e]){void 0!==t[0]?B?(B.p(t,e),1&e&&C(B,1)):(B=fi(t),B.c(),C(B,1),B.m(n,a)):B&&(L(),T(B,1,1,(()=>{B=null})),F()),void 0!==t[0]?H?(H.p(t,e),1&e&&C(H,1)):(H=yi(t),H.c(),C(H,1),H.m(I,P)):H&&(L(),T(H,1,1,(()=>{H=null})),F())},i(t){z||(C(B),C(H),z=!0)},o(t){T(B),T(H),z=!1},d(t){t&&c(e),B&&B.d(),H&&H.d()}}}const bi="https://corona.elezioni.io/data";function vi(t,e,n){let r;Date.prototype.getWeek=function(t){t="int"==typeof t?t:0;let e=new Date(this.getFullYear(),0,1),n=e.getDay()-t;n=n>=0?n:n+7;let r,i=Math.floor((this.getTime()-e.getTime()-6e4*(this.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)+1;if(n<4){if(r=Math.floor((i+n-1)/7)+1,r>52){let e=new Date(this.getFullYear()+1,0,1).getDay()-t;e=e>=0?e:e+7,r=e<4?1:53}}else r=Math.floor((i+n-1)/7);return r};let i={cases:[],fatalities:[],tests:[],icus:[],hospitals:[]},a={cases:[],fatalities:[],tests:[],icus:[],hospitals:[]};return m((async()=>{const t={epicenters:[],generated:"",italy:{global:[],provinces:[],regions:[]},tested:[]},e={cases:[],fatalities:[],tests:[],icus:[],hospitals:[]};(async()=>{Promise.all([Mt.get(`${bi}/italia`),Mt.get(`${bi}/regioni`),Mt.get(`${bi}/province`),Mt.get(`${bi}/regioni2020`)]).then((o=>{o[0].data.error||(t.italy.global=o[0].data.data.italy.global,t.tested=o[0].data.data.tested,t.generated=o[0].data.data.generated),o[1].data.error||(t.italy.regions=o[1].data.data.italy.regions,t.generated=o[0].data.data.generated),o[2].data.error||(t.italy.provinces=o[2].data.data.italy.provinces,t.generated=o[0].data.data.generated),o[3].data.error||(t.italy.regions=t.italy.regions.concat(o[3].data.data.italy.regions).sort(((t,e)=>t.datetime>e.datetime?1:-1)),t.generated=o[0].data.data.generated);const s=t.italy.global.filter((t=>t.datetime>="2020-12-25"));let c={},u={},l={},d={},h={};s.forEach(((t,n)=>{const r=new Date(t.datetime);if(5===r.getDay()){n>0&&(e.cases.push(c),e.fatalities.push(u),e.icus.push(l),e.hospitals.push(d),e.tests.push(h));const i=new Date(t.datetime);i.setDate(i.getDate()+6),c={avg:t.new_tested_positive,endDay:i,startDay:r,value:t.new_tested_positive},u={avg:0===n?t.deaths:t.deaths-s[n-1].deaths,endDay:i,startDay:r,value:0===n?t.deaths:t.deaths-s[n-1].deaths},l={avg:0===n?t.icu:t.icu-s[n-1].icu,endDay:i,startDay:r,value:0===n?t.icu:t.icu-s[n-1].icu},d={avg:0===n?t.hospital:t.hospital-s[n-1].hospital,endDay:i,startDay:r,value:0===n?t.hospital:t.hospital-s[n-1].hospital},h={avg:0===n?t.tested:t.tested-s[n-1].tested,endDay:i,startDay:r,value:0===n?t.tested:t.tested-s[n-1].tested}}else c.avg=(c.avg+t.new_tested_positive)/7,c.value=c.value+t.new_tested_positive,u.avg=(u.avg+t.deaths-s[n-1].deaths)/7,u.value=u.value+t.deaths-s[n-1].deaths,l.avg=(l.avg+t.icu-s[n-1].icu)/7,l.value=l.value+t.icu-s[n-1].icu,d.avg=(d.avg+t.hospital-s[n-1].hospital)/7,d.value=d.value+t.hospital-s[n-1].hospital,h.avg=(h.avg+t.tested-s[n-1].tested)/7,h.value=h.value+t.tested-s[n-1].tested})),e.cases.shift(),e.hospitals.shift(),e.icus.shift(),e.fatalities.shift(),e.tests.shift(),n(0,r=JSON.parse(JSON.stringify(e)));let f=-10,p=0;c={},u={},l={},d={},h={},t.italy.global.forEach(((e,n)=>{const r=new Date(e.datetime),o=r.getFullYear(),s=r.getWeek();f===s&&o===p||(f>0&&(2020===p?(i.cases.push(c),i.fatalities.push(u),i.hospitals.push(d),i.icus.push(l),i.tests.push(h)):2021===p&&(a.cases.push(c),a.fatalities.push(u),a.hospitals.push(d),a.icus.push(l),a.tests.push(h))),p=o,f=s,c={datetime:r,value:0,week:f},u={datetime:r,value:0,week:f},d={datetime:r,value:0,week:f},l={datetime:r,value:0,week:f},h={datetime:r,value:0,week:f}),c.value=e.new_tested_positive?c.value+e.new_tested_positive:c.value,u.value=e.deaths?u.value+(0===n?e.deaths:e.deaths-t.italy.global[n-1].deaths):u.value,d.value=e.hospital?d.value+e.hospital:d.value,l.value=e.icu?l.value+e.icu:l.value,h.value=e.tested?h.value+(0===n?e.tested:e.tested-t.italy.global[n-1].tested):h.value})),console.log(r,i,a)})).catch((t=>{console.log("error",t)}))})()})),[r,[{id:"cases",label:"Highest Number of<br /><span>New Cases</span>",label2:"Highest Number<br />of <span>New Cases</span>",title:"New Cases"},{id:"hospitals",label:"Highest Increment of<br /><span>Hospital Bed occupancy</span>",label2:"Highest Number of <span>Hospital Bed occupancy</span>",title:"Hospital Bed occupancy"},{id:"icus",label:"Highest Increment of<br /><span>ICU Beds occupancy</span>",label2:"Highest Number<br />of <span>ICU Beds occupancy</span>",title:"ICU Bed occupancy"},{id:"fatalities",label:"Highest Number of<br /><span>Fatalities</span>",label2:"Highest Number of <span>Fatalities</span>",title:"Fatalities"},{id:"tests",label:"Highest Number of<br /><span>Tests Performed</span>",label2:"Highest Number of <span>Tests Performed</span>",title:"Tests"}],i,a]}return new class extends q{constructor(t){super(),P(this,t,vi,mi,a,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
